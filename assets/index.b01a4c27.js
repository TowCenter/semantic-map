(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function Mr(t){return t()}function On(){return Object.create(null)}function Ht(t){t.forEach(Mr)}function Er(t){return typeof t=="function"}function We(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hi(t){return Object.keys(t).length===0}function z(t,e){t.appendChild(e)}function ot(t,e,n){t.insertBefore(e,n||null)}function it(t){t.parentNode.removeChild(t)}function Cr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function U(t){return document.createElement(t)}function bt(t){return document.createTextNode(t)}function ct(){return bt(" ")}function Ar(){return bt("")}function _t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function R(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function di(t){return t===""?null:+t}function pi(t){return Array.from(t.childNodes)}function Dt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function qn(t,e){t.value=e==null?"":e}function St(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Ln(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function gi(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function mi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let pe;function de(t){pe=t}function Tr(){if(!pe)throw new Error("Function called outside component initialization");return pe}function xn(t){Tr().$$.on_mount.push(t)}function _i(){const t=Tr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=mi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const fe=[],Vt=[],Ae=[],sn=[],yi=Promise.resolve();let an=!1;function wi(){an||(an=!0,yi.then(Dr))}function Oe(t){Ae.push(t)}function Pn(t){sn.push(t)}const en=new Set;let be=0;function Dr(){const t=pe;do{for(;be<fe.length;){const e=fe[be];be++,de(e),vi(e.$$)}for(de(null),fe.length=0,be=0;Vt.length;)Vt.pop()();for(let e=0;e<Ae.length;e+=1){const n=Ae[e];en.has(n)||(en.add(n),n())}Ae.length=0}while(fe.length);for(;sn.length;)sn.pop()();an=!1,en.clear(),de(t)}function vi(t){if(t.fragment!==null){t.update(),Ht(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Oe)}}const Te=new Set;let Qt;function Rr(){Qt={r:0,c:[],p:Qt}}function Nr(){Qt.r||Ht(Qt.c),Qt=Qt.p}function Xt(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function Zt(t,e,n,r){if(t&&t.o){if(Te.has(t))return;Te.add(t),Qt.c.push(()=>{Te.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Fn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function kn(t){t&&t.c()}function Ke(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Oe(()=>{const s=t.$$.on_mount.map(Mr).filter(Er);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ht(s),t.$$.on_mount=[]}),o.forEach(Oe)}function Qe(t,e){const n=t.$$;n.fragment!==null&&(Ht(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bi(t,e){t.$$.dirty[0]===-1&&(fe.push(t),wi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,n,r,i,o,s,l=[-1]){const u=pe;de(t);const a=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:On(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:On(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=n?n(t,e.props||{},(h,m,..._)=>{const x=_.length?_[0]:m;return a.ctx&&i(a.ctx[h],a.ctx[h]=x)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](x),c&&bi(t,h)),m}):[],a.update(),c=!0,Ht(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const h=pi(e.target);a.fragment&&a.fragment.l(h),h.forEach(it)}else a.fragment&&a.fragment.c();e.intro&&Xt(t.$$.fragment),Ke(t,e.target,e.anchor,e.customElement),Dr()}de(u)}class Ze{$destroy(){Qe(this,1),this.$destroy=At}$on(e,n){if(!Er(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!hi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(xi,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function c(f){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(d){var w=J(d);w.chunkSize=parseInt(w.chunkSize),d.step||d.chunk||(w.chunkSize=null),this._handle=new L(w),(this._handle.streamer=this)._config=w}.call(this,f),this.parseChunk=function(d,w){var v=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<v){let Y=this._config.newline;Y||(C=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(d,C)),d=[...d.split(Y).slice(v)].join(Y)}this.isFirstChunk&&X(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(d))!==void 0&&(d=C),this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+d,C=(this._partialLine="",this._handle.parse(v,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(d=C.meta.cursor,v=(this._finished||(this._partialLine=v.substring(d-this._baseIndex),this._baseIndex=d),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:C,workerId:a.WORKER_ID,finished:v});else if(X(this._config.chunk)&&!w){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!v||!X(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),v||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(d){X(this._config.error)?this._config.error(d):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:d,finished:!1})}}function h(f){var d;(f=f||{}).chunkSize||(f.chunkSize=a.RemoteChunkSize),c.call(this,f),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),o||(d.onload=K(this._chunkLoaded,this),d.onerror=K(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,v=this._config.downloadRequestHeaders;for(w in v)d.setRequestHeader(w,v[w])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,d.setRequestHeader("Range","bytes="+this._start+"-"+C));try{d.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}o&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize||d.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(d),this.parseChunk(d.responseText)))},this._chunkError=function(w){w=d.statusText||w,this._sendError(new Error(w))}}function m(f){(f=f||{}).chunkSize||(f.chunkSize=a.LocalChunkSize),c.call(this,f);var d,w,v=typeof FileReader<"u";this.stream=function(C){this._input=C,w=C.slice||C.webkitSlice||C.mozSlice,v?((d=new FileReader).onload=K(this._chunkLoaded,this),d.onerror=K(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),C=w.call(C,this._start,Y)),d.readAsText(C,this._config.encoding));v||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(d.error)}}function _(f){var d;c.call(this,f=f||{}),this.stream=function(w){return d=w,this._nextChunk()},this._nextChunk=function(){var w,v;if(!this._finished)return w=this._config.chunkSize,d=w?(v=d.substring(0,w),d.substring(w)):(v=d,""),this._finished=!d,this.parseChunk(v)}}function x(f){c.call(this,f=f||{});var d=[],w=!0,v=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){v&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):w=!0},this._streamData=K(function(C){try{d.push(typeof C=="string"?C:C.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=K(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=K(function(){this._streamCleanUp(),v=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function L(f){var d,w,v,C,Y=Math.pow(2,53),p=-Y,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,b=this,A=0,k=0,I=!1,q=!1,P=[],F={data:[],errors:[],meta:{}};function j(Q){return f.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function rt(){if(F&&v&&(pt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),v=!1),f.skipEmptyLines&&(F.data=F.data.filter(function(dt){return!j(dt)})),st()){let dt=function(y,V){X(f.transformHeader)&&(y=f.transformHeader(y,V)),P.push(y)};var G=dt;if(F)if(Array.isArray(F.data[0])){for(var Q=0;st()&&Q<F.data.length;Q++)F.data[Q].forEach(dt);F.data.splice(0,1)}else F.data.forEach(dt)}function $(dt,y){for(var V=f.header?{}:[],Z=0;Z<dt.length;Z++){var W=Z,M=dt[Z],M=((N,B)=>(O=>(f.dynamicTypingFunction&&f.dynamicTyping[O]===void 0&&(f.dynamicTyping[O]=f.dynamicTypingFunction(O)),(f.dynamicTyping[O]||f.dynamicTyping)===!0))(N)?B==="true"||B==="TRUE"||B!=="false"&&B!=="FALSE"&&((O=>{if(D.test(O)&&(O=parseFloat(O),p<O&&O<Y))return 1})(B)?parseFloat(B):g.test(B)?new Date(B):B===""?null:B):B)(W=f.header?Z>=P.length?"__parsed_extra":P[Z]:W,M=f.transform?f.transform(M,W):M);W==="__parsed_extra"?(V[W]=V[W]||[],V[W].push(M)):V[W]=M}return f.header&&(Z>P.length?pt("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+Z,k+y):Z<P.length&&pt("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+Z,k+y)),V}var gt;F&&(f.header||f.dynamicTyping||f.transform)&&(gt=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map($),gt=F.data.length):F.data=$(F.data,0),f.header&&F.meta&&(F.meta.fields=P),k+=gt)}function st(){return f.header&&P.length===0}function pt(Q,$,gt,G){Q={type:Q,code:$,message:gt},G!==void 0&&(Q.row=G),F.errors.push(Q)}X(f.step)&&(C=f.step,f.step=function(Q){F=Q,st()?rt():(rt(),F.data.length!==0&&(A+=Q.data.length,f.preview&&A>f.preview?w.abort():(F.data=F.data[0],C(F,b))))}),this.parse=function(Q,$,gt){var G=f.quoteChar||'"',G=(f.newline||(f.newline=this.guessLineEndings(Q,G)),v=!1,f.delimiter?X(f.delimiter)&&(f.delimiter=f.delimiter(Q),F.meta.delimiter=f.delimiter):((G=((dt,y,V,Z,W)=>{var M,N,B,O;W=W||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var at=0;at<W.length;at++){for(var et,lt=W[at],nt=0,ht=0,ut=0,yt=(B=void 0,new S({comments:Z,delimiter:lt,newline:y,preview:10}).parse(dt)),mt=0;mt<yt.data.length;mt++)V&&j(yt.data[mt])?ut++:(et=yt.data[mt].length,ht+=et,B===void 0?B=et:0<et&&(nt+=Math.abs(et-B),B=et));0<yt.data.length&&(ht/=yt.data.length-ut),(N===void 0||nt<=N)&&(O===void 0||O<ht)&&1.99<ht&&(N=nt,M=lt,O=ht)}return{successful:!!(f.delimiter=M),bestDelimiter:M}})(Q,f.newline,f.skipEmptyLines,f.comments,f.delimitersToGuess)).successful?f.delimiter=G.bestDelimiter:(v=!0,f.delimiter=a.DefaultDelimiter),F.meta.delimiter=f.delimiter),J(f));return f.preview&&f.header&&G.preview++,d=Q,w=new S(G),F=w.parse(d,$,gt),rt(),I?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return I},this.pause=function(){I=!0,w.abort(),d=X(f.chunk)?"":d.substring(w.getCharIndex())},this.resume=function(){b.streamer._halted?(I=!1,b.streamer.parseChunk(d,!0)):setTimeout(b.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,w.abort(),F.meta.aborted=!0,X(f.complete)&&f.complete(F),d=""},this.guessLineEndings=function(dt,G){dt=dt.substring(0,1048576);var G=new RegExp(E(G)+"([^]*?)"+E(G),"gm"),gt=(dt=dt.replace(G,"")).split("\r"),G=dt.split(`
`),dt=1<G.length&&G[0].length<gt[0].length;if(gt.length===1||dt)return`
`;for(var y=0,V=0;V<gt.length;V++)gt[V][0]===`
`&&y++;return y>=gt.length/2?`\r
`:"\r"}}function E(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(f){var d=(f=f||{}).delimiter,w=f.newline,v=f.comments,C=f.step,Y=f.preview,p=f.fastMode,D=null,g=!1,b=f.quoteChar==null?'"':f.quoteChar,A=b;if(f.escapeChar!==void 0&&(A=f.escapeChar),(typeof d!="string"||-1<a.BAD_DELIMITERS.indexOf(d))&&(d=","),v===d)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<a.BAD_DELIMITERS.indexOf(v))&&(v=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var k=0,I=!1;this.parse=function(q,P,F){if(typeof q!="string")throw new Error("Input must be a string");var j=q.length,rt=d.length,st=w.length,pt=v.length,Q=X(C),$=[],gt=[],G=[],dt=k=0;if(!q)return nt();if(p||p!==!1&&q.indexOf(b)===-1){for(var y=q.split(w),V=0;V<y.length;V++){if(G=y[V],k+=G.length,V!==y.length-1)k+=w.length;else if(F)return nt();if(!v||G.substring(0,pt)!==v){if(Q){if($=[],O(G.split(d)),ht(),I)return nt()}else O(G.split(d));if(Y&&Y<=V)return $=$.slice(0,Y),nt(!0)}}return nt()}for(var Z=q.indexOf(d,k),W=q.indexOf(w,k),M=new RegExp(E(A)+E(b),"g"),N=q.indexOf(b,k);;)if(q[k]===b)for(N=k,k++;;){if((N=q.indexOf(b,N+1))===-1)return F||gt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:k}),et();if(N===j-1)return et(q.substring(k,N).replace(M,b));if(b===A&&q[N+1]===A)N++;else if(b===A||N===0||q[N-1]!==A){Z!==-1&&Z<N+1&&(Z=q.indexOf(d,N+1));var B=at((W=W!==-1&&W<N+1?q.indexOf(w,N+1):W)===-1?Z:Math.min(Z,W));if(q.substr(N+1+B,rt)===d){G.push(q.substring(k,N).replace(M,b)),q[k=N+1+B+rt]!==b&&(N=q.indexOf(b,k)),Z=q.indexOf(d,k),W=q.indexOf(w,k);break}if(B=at(W),q.substring(N+1+B,N+1+B+st)===w){if(G.push(q.substring(k,N).replace(M,b)),lt(N+1+B+st),Z=q.indexOf(d,k),N=q.indexOf(b,k),Q&&(ht(),I))return nt();if(Y&&$.length>=Y)return nt(!0);break}gt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:k}),N++}}else if(v&&G.length===0&&q.substring(k,k+pt)===v){if(W===-1)return nt();k=W+st,W=q.indexOf(w,k),Z=q.indexOf(d,k)}else if(Z!==-1&&(Z<W||W===-1))G.push(q.substring(k,Z)),k=Z+rt,Z=q.indexOf(d,k);else{if(W===-1)break;if(G.push(q.substring(k,W)),lt(W+st),Q&&(ht(),I))return nt();if(Y&&$.length>=Y)return nt(!0)}return et();function O(ut){$.push(ut),dt=k}function at(ut){var yt=0;return yt=ut!==-1&&(ut=q.substring(N+1,ut))&&ut.trim()===""?ut.length:yt}function et(ut){return F||(ut===void 0&&(ut=q.substring(k)),G.push(ut),k=j,O(G),Q&&ht()),nt()}function lt(ut){k=ut,O(G),G=[],W=q.indexOf(w,k)}function nt(ut){if(f.header&&!P&&$.length&&!g){var yt=$[0],mt={},wt=new Set(yt);let Nt=!1;for(let xt=0;xt<yt.length;xt++){let vt=yt[xt];if(mt[vt=X(f.transformHeader)?f.transformHeader(vt,xt):vt]){let Tt,Et=mt[vt];for(;Tt=vt+"_"+Et,Et++,wt.has(Tt););wt.add(Tt),yt[xt]=Tt,mt[vt]++,Nt=!0,(D=D===null?{}:D)[Tt]=vt}else mt[vt]=1,yt[xt]=vt;wt.add(vt)}Nt&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:$,errors:gt,meta:{delimiter:d,linebreak:w,aborted:I,truncated:!!ut,cursor:dt+(P||0),renamedHeaders:D}}}function ht(){C(nt()),$=[],gt=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return k}}function T(f){var d=f.data,w=l[d.workerId],v=!1;if(d.error)w.userError(d.error,d.file);else if(d.results&&d.results.data){var C={abort:function(){v=!0,H(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:tt,resume:tt};if(X(w.userStep)){for(var Y=0;Y<d.results.data.length&&(w.userStep({data:d.results.data[Y],errors:d.results.errors,meta:d.results.meta},C),!v);Y++);delete d.results}else X(w.userChunk)&&(w.userChunk(d.results,C,d.file),delete d.results)}d.finished&&!v&&H(d.workerId,d.results)}function H(f,d){var w=l[f];X(w.userComplete)&&w.userComplete(d),w.terminate(),delete l[f]}function tt(){throw new Error("Not implemented.")}function J(f){if(typeof f!="object"||f===null)return f;var d,w=Array.isArray(f)?[]:{};for(d in f)w[d]=J(f[d]);return w}function K(f,d){return function(){f.apply(d,arguments)}}function X(f){return typeof f=="function"}return a.parse=function(f,d){var w=(d=d||{}).dynamicTyping||!1;if(X(w)&&(d.dynamicTypingFunction=w,w={}),d.dynamicTyping=w,d.transform=!!X(d.transform)&&d.transform,!d.worker||!a.WORKERS_SUPPORTED)return w=null,a.NODE_STREAM_INPUT,typeof f=="string"?(f=(v=>v.charCodeAt(0)!==65279?v:v.slice(1))(f),w=new(d.download?h:_)(d)):f.readable===!0&&X(f.read)&&X(f.on)?w=new x(d):(r.File&&f instanceof File||f instanceof Object)&&(w=new m(d)),w.stream(f);(w=(()=>{var v;return!!a.WORKERS_SUPPORTED&&(v=(()=>{var C=r.URL||r.webkitURL||null,Y=n.toString();return a.BLOB_URL||(a.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(v=new r.Worker(v)).onmessage=T,v.id=u++,l[v.id]=v)})()).userStep=d.step,w.userChunk=d.chunk,w.userComplete=d.complete,w.userError=d.error,d.step=X(d.step),d.chunk=X(d.chunk),d.complete=X(d.complete),d.error=X(d.error),delete d.worker,w.postMessage({input:f,config:d,workerId:w.id})},a.unparse=function(f,d){var w=!1,v=!0,C=",",Y=`\r
`,p='"',D=p+p,g=!1,b=null,A=!1,k=((()=>{if(typeof d=="object"){if(typeof d.delimiter!="string"||a.BAD_DELIMITERS.filter(function(P){return d.delimiter.indexOf(P)!==-1}).length||(C=d.delimiter),typeof d.quotes!="boolean"&&typeof d.quotes!="function"&&!Array.isArray(d.quotes)||(w=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(g=d.skipEmptyLines),typeof d.newline=="string"&&(Y=d.newline),typeof d.quoteChar=="string"&&(p=d.quoteChar),typeof d.header=="boolean"&&(v=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");b=d.columns}d.escapeChar!==void 0&&(D=d.escapeChar+p),d.escapeFormulae instanceof RegExp?A=d.escapeFormulae:typeof d.escapeFormulae=="boolean"&&d.escapeFormulae&&(A=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(p),"g"));if(typeof f=="string"&&(f=JSON.parse(f)),Array.isArray(f)){if(!f.length||Array.isArray(f[0]))return I(null,f,g);if(typeof f[0]=="object")return I(b||Object.keys(f[0]),f,g)}else if(typeof f=="object")return typeof f.data=="string"&&(f.data=JSON.parse(f.data)),Array.isArray(f.data)&&(f.fields||(f.fields=f.meta&&f.meta.fields||b),f.fields||(f.fields=Array.isArray(f.data[0])?f.fields:typeof f.data[0]=="object"?Object.keys(f.data[0]):[]),Array.isArray(f.data[0])||typeof f.data[0]=="object"||(f.data=[f.data])),I(f.fields||[],f.data||[],g);throw new Error("Unable to serialize unrecognized input");function I(P,F,j){var rt="",st=(typeof P=="string"&&(P=JSON.parse(P)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(P)&&0<P.length),pt=!Array.isArray(F[0]);if(st&&v){for(var Q=0;Q<P.length;Q++)0<Q&&(rt+=C),rt+=q(P[Q],Q);0<F.length&&(rt+=Y)}for(var $=0;$<F.length;$++){var gt=(st?P:F[$]).length,G=!1,dt=st?Object.keys(F[$]).length===0:F[$].length===0;if(j&&!st&&(G=j==="greedy"?F[$].join("").trim()==="":F[$].length===1&&F[$][0].length===0),j==="greedy"&&st){for(var y=[],V=0;V<gt;V++){var Z=pt?P[V]:V;y.push(F[$][Z])}G=y.join("").trim()===""}if(!G){for(var W=0;W<gt;W++){0<W&&!dt&&(rt+=C);var M=st&&pt?P[W]:W;rt+=q(F[$][M],W)}$<F.length-1&&(!j||0<gt&&!dt)&&(rt+=Y)}}return rt}function q(P,F){var j,rt;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(rt=!1,A&&typeof P=="string"&&A.test(P)&&(P="'"+P,rt=!0),j=P.toString().replace(k,D),(rt=rt||w===!0||typeof w=="function"&&w(P,F)||Array.isArray(w)&&w[F]||((st,pt)=>{for(var Q=0;Q<pt.length;Q++)if(-1<st.indexOf(pt[Q]))return!0;return!1})(j,a.BAD_DELIMITERS)||-1<j.indexOf(C)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?p+j+p:j)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=S,a.ParserHandle=L,a.NetworkStreamer=h,a.FileStreamer=m,a.StringStreamer=_,a.ReadableStreamStreamer=x,r.jQuery&&((i=r.jQuery).fn.parse=function(f){var d=f.config||{},w=[];return this.each(function(Y){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var p=0;p<this.files.length;p++)w.push({file:this.files[p],inputElem:this,instanceConfig:i.extend({},d)})}),v(),this;function v(){if(w.length===0)X(f.complete)&&f.complete();else{var Y,p,D,g,b=w[0];if(X(f.before)){var A=f.before(b.file,b.inputElem);if(typeof A=="object"){if(A.action==="abort")return Y="AbortError",p=b.file,D=b.inputElem,g=A.reason,void(X(f.error)&&f.error({name:Y},p,D,g));if(A.action==="skip")return void C();typeof A.config=="object"&&(b.instanceConfig=i.extend(b.instanceConfig,A.config))}else if(A==="skip")return void C()}var k=b.instanceConfig.complete;b.instanceConfig.complete=function(I){X(k)&&k(I,b.file,b.inputElem),C()},a.parse(b.file,b.instanceConfig)}}function C(){w.splice(0,1),v()}}),s&&(r.onmessage=function(f){f=f.data,a.WORKER_ID===void 0&&f&&(a.WORKER_ID=f.workerId),typeof f.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(f.input,f.config),finished:!0}):(r.File&&f.input instanceof File||f.input instanceof Object)&&(f=a.parse(f.input,f.config))&&r.postMessage({workerId:a.WORKER_ID,results:f,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(m.prototype=Object.create(c.prototype)).constructor=m,(_.prototype=Object.create(_.prototype)).constructor=_,(x.prototype=Object.create(c.prototype)).constructor=x,a})})(zr);const ki=zr.exports;function De(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Si(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ir(t){let e,n,r;t.length!==2?(e=De,n=(l,u)=>De(t(l),u),r=(l,u)=>t(l)-u):(e=t===De||t===Si?t:Mi,n=t,r=t);function i(l,u,a=0,c=l.length){if(a<c){if(e(u,u)!==0)return c;do{const h=a+c>>>1;n(l[h],u)<0?a=h+1:c=h}while(a<c)}return a}function o(l,u,a=0,c=l.length){if(a<c){if(e(u,u)!==0)return c;do{const h=a+c>>>1;n(l[h],u)<=0?a=h+1:c=h}while(a<c)}return a}function s(l,u,a=0,c=l.length){const h=i(l,u,a,c-1);return h>a&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:s,right:o}}function Mi(){return 0}function Ei(t){return t===null?NaN:+t}const Ci=Ir(De),Ai=Ci.right;Ir(Ei).center;const Ti=Ai;class Vn extends Map{constructor(e,n=Ni){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Xn(this,e))}has(e){return super.has(Xn(this,e))}set(e,n){return super.set(Di(this,e),n)}delete(e){return super.delete(Ri(this,e))}}function Xn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Di({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ri({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ni(t){return t!==null&&typeof t=="object"?t.valueOf():t}var ln=Math.sqrt(50),un=Math.sqrt(10),fn=Math.sqrt(2);function zi(t,e,n){var r,i=-1,o,s,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=Or(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)/l}return r&&s.reverse(),s}function Or(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ln?10:o>=un?5:o>=fn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ln?10:o>=un?5:o>=fn?2:1)}function Ii(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ln?i*=10:o>=un?i*=5:o>=fn&&(i*=2),e<t?-i:i}function Bn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Hn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Yn=Symbol("implicit");function Lr(){var t=new Vn,e=[],n=[],r=Yn;function i(o){let s=t.get(o);if(s===void 0){if(r!==Yn)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Vn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lr(e,n).unknown(r)},qr.apply(i,arguments),i}function Sn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ye(){}var ge=.7,qe=1/ge,re="\\s*([+-]?\\d+)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oi=/^#([0-9a-f]{3,8})$/,qi=new RegExp(`^rgb\\(${re},${re},${re}\\)$`),Li=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),Pi=new RegExp(`^rgba\\(${re},${re},${re},${me}\\)$`),Fi=new RegExp(`^rgba\\(${qt},${qt},${qt},${me}\\)$`),Vi=new RegExp(`^hsl\\(${me},${qt},${qt}\\)$`),Xi=new RegExp(`^hsla\\(${me},${qt},${qt},${me}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sn(ye,Jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wn,formatHex:Wn,formatHex8:Bi,formatHsl:Hi,formatRgb:Kn,toString:Kn});function Wn(){return this.rgb().formatHex()}function Bi(){return this.rgb().formatHex8()}function Hi(){return Fr(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function Jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Oi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qn(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qi.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Li.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pi.exec(t))?xe(e[1],e[2],e[3],e[4]):(e=Fi.exec(t))?xe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vi.exec(t))?jn(e[1],e[2]/100,e[3]/100,1):(e=Xi.exec(t))?jn(e[1],e[2]/100,e[3]/100,e[4]):Un.hasOwnProperty(t)?Qn(Un[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Qn(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function Yi(t){return t instanceof ye||(t=Jt(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function cn(t,e,n,r){return arguments.length===1?Yi(t):new Ct(t,e,n,r==null?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Sn(Ct,cn,Pr(ye,{brighter(t){return t=t==null?qe:Math.pow(qe,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(jt(this.r),jt(this.g),jt(this.b),Le(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gn,formatHex:Gn,formatHex8:Ui,formatRgb:Zn,toString:Zn}));function Gn(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function Ui(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zn(){const t=Le(this.opacity);return`${t===1?"rgb(":"rgba("}${jt(this.r)}, ${jt(this.g)}, ${jt(this.b)}${t===1?")":`, ${t})`}`}function Le(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gt(t){return t=jt(t),(t<16?"0":"")+t.toString(16)}function jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Fr(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof ye||(t=Jt(t)),!t)return new It;if(t instanceof It)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new It(s,l,u,t.opacity)}function Wi(t,e,n,r){return arguments.length===1?Fr(t):new It(t,e,n,r==null?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Sn(It,Wi,Pr(ye,{brighter(t){return t=t==null?qe:Math.pow(qe,t),new It(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new It(Jn(this.h),ke(this.s),ke(this.l),Le(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Le(this.opacity);return`${t===1?"hsl(":"hsla("}${Jn(this.h)}, ${ke(this.s)*100}%, ${ke(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jn(t){return t=(t||0)%360,t<0?t+360:t}function ke(t){return Math.max(0,Math.min(1,t||0))}function nn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Mn=t=>()=>t;function Ki(t,e){return function(n){return t+n*e}}function Qi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gi(t){return(t=+t)==1?Vr:function(e,n){return n-e?Qi(e,n,t):Mn(isNaN(e)?n:e)}}function Vr(t,e){var n=e-t;return n?Ki(t,n):Mn(isNaN(t)?e:t)}const Pe=function t(e){var n=Gi(e);function r(i,o){var s=n((i=cn(i)).r,(o=cn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=Vr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=u(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function Zi(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ji(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ji(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=En(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function $i(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function to(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=En(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(hn.source,"g");function eo(t){return function(){return t}}function no(t){return function(e){return t(e)+""}}function Xr(t,e){var n=hn.lastIndex=rn.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=hn.exec(t))&&(i=rn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:zt(r,i)})),n=rn.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?no(u[0].x):eo(e):(e=u.length,function(a){for(var c=0,h;c<e;++c)l[(h=u[c]).i]=h.x(a);return l.join("")})}function En(t,e){var n=typeof e,r;return e==null||n==="boolean"?Mn(e):(n==="number"?zt:n==="string"?(r=Jt(e))?(e=r,Pe):Xr:e instanceof Jt?Pe:e instanceof Date?$i:ji(e)?Zi:Array.isArray(e)?Ji:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?to:zt)(t,e)}function ro(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $n=180/Math.PI,dn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Br(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*$n,skewX:Math.atan(u)*$n,scaleX:s,scaleY:l}}var Se;function io(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?dn:Br(e.a,e.b,e.c,e.d,e.e,e.f)}function oo(t){return t==null||(Se||(Se=document.createElementNS("http://www.w3.org/2000/svg","g")),Se.setAttribute("transform",t),!(t=Se.transform.baseVal.consolidate()))?dn:(t=t.matrix,Br(t.a,t.b,t.c,t.d,t.e,t.f))}function Hr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,c,h,m,_,x){if(a!==h||c!==m){var L=_.push("translate(",null,e,null,n);x.push({i:L-4,x:zt(a,h)},{i:L-2,x:zt(c,m)})}else(h||m)&&_.push("translate("+h+e+m+n)}function s(a,c,h,m){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),m.push({i:h.push(i(h)+"rotate(",null,r)-2,x:zt(a,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(a,c,h,m){a!==c?m.push({i:h.push(i(h)+"skewX(",null,r)-2,x:zt(a,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(a,c,h,m,_,x){if(a!==h||c!==m){var L=_.push(i(_)+"scale(",null,",",null,")");x.push({i:L-4,x:zt(a,h)},{i:L-2,x:zt(c,m)})}else(h!==1||m!==1)&&_.push(i(_)+"scale("+h+","+m+")")}return function(a,c){var h=[],m=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,h,m),s(a.rotate,c.rotate,h,m),l(a.skewX,c.skewX,h,m),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,h,m),a=c=null,function(_){for(var x=-1,L=m.length,E;++x<L;)h[(E=m[x]).i]=E.x(_);return h.join("")}}}var so=Hr(io,"px, ","px)","deg)"),ao=Hr(oo,", ",")",")"),lo=1e-12;function tr(t){return((t=Math.exp(t))+1/t)/2}function uo(t){return((t=Math.exp(t))-1/t)/2}function fo(t){return((t=Math.exp(2*t))-1)/(t+1)}const co=function t(e,n,r){function i(o,s){var l=o[0],u=o[1],a=o[2],c=s[0],h=s[1],m=s[2],_=c-l,x=h-u,L=_*_+x*x,E,S;if(L<lo)S=Math.log(m/a)/e,E=function(X){return[l+X*_,u+X*x,a*Math.exp(e*X*S)]};else{var T=Math.sqrt(L),H=(m*m-a*a+r*L)/(2*a*n*T),tt=(m*m-a*a-r*L)/(2*m*n*T),J=Math.log(Math.sqrt(H*H+1)-H),K=Math.log(Math.sqrt(tt*tt+1)-tt);S=(K-J)/e,E=function(X){var f=X*S,d=tr(J),w=a/(n*T)*(d*fo(e*f+J)-uo(J));return[l+w*_,u+w*x,a*d/tr(e*f+J)]}}return E.duration=S*1e3*e/Math.SQRT2,E}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,u=l*l;return t(s,l,u)},i}(Math.SQRT2,2,4);function ho(t){return function(){return t}}function po(t){return+t}var er=[0,1];function ee(t){return t}function pn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ho(isNaN(e)?NaN:.5)}function go(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=pn(i,r),o=n(s,o)):(r=pn(r,i),o=n(o,s)),function(l){return o(r(l))}}function _o(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=pn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var u=Ti(t,l,1,r)-1;return o[u](i[u](l))}}function yo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wo(){var t=er,e=er,n=En,r,i,o,s=ee,l,u,a;function c(){var m=Math.min(t.length,e.length);return s!==ee&&(s=go(t[0],t[m-1])),l=m>2?_o:mo,u=a=null,h}function h(m){return m==null||isNaN(m=+m)?o:(u||(u=l(t.map(r),e,n)))(r(s(m)))}return h.invert=function(m){return s(i((a||(a=l(e,t.map(r),zt)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,po),c()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),c()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=ro,c()},h.clamp=function(m){return arguments.length?(s=m?!0:ee,c()):s!==ee},h.interpolate=function(m){return arguments.length?(n=m,c()):n},h.unknown=function(m){return arguments.length?(o=m,h):o},function(m,_){return r=m,i=_,c()}}function vo(){return wo()(ee,ee)}function bo(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ie(t){return t=Fe(Math.abs(t)),t?t[1]:NaN}function xo(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ko(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var So=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ve(t){if(!(e=So.exec(t)))throw new Error("invalid format: "+t);var e;return new Cn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ve.prototype=Cn.prototype;function Cn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mo(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yr;function Eo(t,e){var n=Fe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Yr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fe(t,Math.max(0,e+o-1))[0]}function nr(t,e){var n=Fe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bo,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nr(t*100,e),r:nr,s:Eo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ir(t){return t}var or=Array.prototype.map,sr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Co(t){var e=t.grouping===void 0||t.thousands===void 0?ir:xo(or.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ir:ko(or.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(h){h=Ve(h);var m=h.fill,_=h.align,x=h.sign,L=h.symbol,E=h.zero,S=h.width,T=h.comma,H=h.precision,tt=h.trim,J=h.type;J==="n"?(T=!0,J="g"):rr[J]||(H===void 0&&(H=12),tt=!0,J="g"),(E||m==="0"&&_==="=")&&(E=!0,m="0",_="=");var K=L==="$"?n:L==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",X=L==="$"?r:/[%p]/.test(J)?s:"",f=rr[J],d=/[defgprs%]/.test(J);H=H===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function w(v){var C=K,Y=X,p,D,g;if(J==="c")Y=f(v)+Y,v="";else{v=+v;var b=v<0||1/v<0;if(v=isNaN(v)?u:f(Math.abs(v),H),tt&&(v=Mo(v)),b&&+v==0&&x!=="+"&&(b=!1),C=(b?x==="("?x:l:x==="-"||x==="("?"":x)+C,Y=(J==="s"?sr[8+Yr/3]:"")+Y+(b&&x==="("?")":""),d){for(p=-1,D=v.length;++p<D;)if(g=v.charCodeAt(p),48>g||g>57){Y=(g===46?i+v.slice(p+1):v.slice(p))+Y,v=v.slice(0,p);break}}}T&&!E&&(v=e(v,1/0));var A=C.length+v.length+Y.length,k=A<S?new Array(S-A+1).join(m):"";switch(T&&E&&(v=e(k+v,k.length?S-Y.length:1/0),k=""),_){case"<":v=C+v+Y+k;break;case"=":v=C+k+v+Y;break;case"^":v=k.slice(0,A=k.length>>1)+C+v+Y+k.slice(A);break;default:v=k+C+v+Y;break}return o(v)}return w.toString=function(){return h+""},w}function c(h,m){var _=a((h=Ve(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(ie(m)/3)))*3,L=Math.pow(10,-x),E=sr[8+x/3];return function(S){return _(L*S)+E}}return{format:a,formatPrefix:c}}var Me,Ur,Wr;Ao({thousands:",",grouping:[3],currency:["$",""]});function Ao(t){return Me=Co(t),Ur=Me.format,Wr=Me.formatPrefix,Me}function To(t){return Math.max(0,-ie(Math.abs(t)))}function Do(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ie(e)/3)))*3-ie(Math.abs(t)))}function Ro(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ie(e)-ie(t))+1}function No(t,e,n,r){var i=Ii(t,e,n),o;switch(r=Ve(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Do(i,s))&&(r.precision=o),Wr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ro(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=To(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ur(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return zi(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return No(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],u,a,c=10;for(l<s&&(a=s,s=l,l=a,a=i,i=o,o=a);c-- >0;){if(a=Or(s,l,n),a===u)return r[i]=s,r[o]=l,e(r);if(a>0)s=Math.floor(s/a)*a,l=Math.ceil(l/a)*a;else if(a<0)s=Math.ceil(s*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function gn(){var t=vo();return t.copy=function(){return yo(t,gn())},qr.apply(t,arguments),zo(t)}function Io(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Oo=Io("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function qo(t){let e;return{c(){e=U("p"),e.textContent="Hover over a circle to see details here.",R(e,"class","svelte-b094ih")},m(n,r){ot(n,e,r)},p:At,d(n){n&&it(e)}}}function Lo(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",l,u,a,c=t[0].date.toISOString().split("T")[0]+"",h,m,_,x,L=t[0].text+"",E,S=t[6]&&ar(t);return{c(){e=U("h1"),r=bt(n),i=ct(),o=U("span"),l=bt(s),u=ct(),a=U("h2"),h=bt(c),m=ct(),S&&S.c(),_=ct(),x=U("p"),E=bt(L),R(e,"class","svelte-b094ih"),St(o,"background",t[2](t[0][t[1]])),R(o,"class","svelte-b094ih"),R(a,"class","svelte-b094ih"),R(x,"class","svelte-b094ih")},m(T,H){ot(T,e,H),z(e,r),ot(T,i,H),ot(T,o,H),z(o,l),ot(T,u,H),ot(T,a,H),z(a,h),ot(T,m,H),S&&S.m(T,H),ot(T,_,H),ot(T,x,H),z(x,E)},p(T,H){H&1&&n!==(n=T[0].title+"")&&Dt(r,n),H&35&&s!==(s=(T[5]?T[5](T[1],T[0][T[1]]):T[0][T[1]])+"")&&Dt(l,s),H&7&&St(o,"background",T[2](T[0][T[1]])),H&1&&c!==(c=T[0].date.toISOString().split("T")[0]+"")&&Dt(h,c),T[6]?S?S.p(T,H):(S=ar(T),S.c(),S.m(_.parentNode,_)):S&&(S.d(1),S=null),H&1&&L!==(L=T[0].text+"")&&Dt(E,L)},d(T){T&&it(e),T&&it(i),T&&it(o),T&&it(u),T&&it(a),T&&it(m),S&&S.d(T),T&&it(_),T&&it(x)}}}function ar(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&lr(t);return{c(){r&&r.c(),n=Ar()},m(i,o){r&&r.m(i,o),ot(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=lr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&it(n)}}}function lr(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=U("p"),n=U("em"),i=bt(r),R(e,"class","svelte-b094ih")},m(o,s){ot(o,e,s),z(e,n),z(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Dt(i,r)},d(o){o&&it(e)}}}function Po(t){let e;function n(o,s){return o[0]?Lo:qo}let r=n(t),i=r(t);return{c(){e=U("div"),i.c(),R(e,"class","detail-card svelte-b094ih"),St(e,"left",t[3]+"px"),St(e,"top",t[4]+"px")},m(o,s){ot(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&St(e,"left",o[3]+"px"),s&16&&St(e,"top",o[4]+"px")},i:At,o:At,d(o){o&&it(e),i.d()}}}function Fo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:l=0}=e,{posY:u=0}=e,{labelOverride:a=null}=e,{descriptionOverride:c=null}=e;return xn(()=>{s.domain(o.map(h=>h[i]))}),t.$$set=h=>{"hoveredData"in h&&n(0,r=h.hoveredData),"domainColumn"in h&&n(1,i=h.domainColumn),"data"in h&&n(7,o=h.data),"colorScale"in h&&n(2,s=h.colorScale),"posX"in h&&n(3,l=h.posX),"posY"in h&&n(4,u=h.posY),"labelOverride"in h&&n(5,a=h.labelOverride),"descriptionOverride"in h&&n(6,c=h.descriptionOverride)},[r,i,s,l,u,a,c,o]}class Vo extends Ze{constructor(e){super(),Ge(this,e,Fo,Po,We,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var Xo={value:()=>{}};function An(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Re(n)}function Re(t){this._=t}function Bo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Re.prototype=An.prototype={constructor:Re,on:function(t,e){var n=this._,r=Bo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ho(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ur(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ur(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Re(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ho(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ur(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xo,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var mn="http://www.w3.org/1999/xhtml";const fr={svg:"http://www.w3.org/2000/svg",xhtml:mn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function je(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),fr.hasOwnProperty(e)?{space:fr[e],local:t}:t}function Yo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mn&&e.documentElement.namespaceURI===mn?e.createElement(t):e.createElementNS(n,t)}}function Uo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kr(t){var e=je(t);return(e.local?Uo:Yo)(e)}function Wo(){}function Tn(t){return t==null?Wo:function(){return this.querySelector(t)}}function Ko(t){typeof t!="function"&&(t=Tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,c=0;c<s;++c)(u=o[c])&&(a=t.call(u,u.__data__,c,o))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new Rt(r,this._parents)}function Qo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Go(){return[]}function Qr(t){return t==null?Go:function(){return this.querySelectorAll(t)}}function Zo(t){return function(){return Qo(t.apply(this,arguments))}}function jo(t){typeof t=="function"?t=Zo(t):t=Qr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new Rt(r,i)}function Gr(t){return function(){return this.matches(t)}}function Zr(t){return function(e){return e.matches(t)}}var Jo=Array.prototype.find;function $o(t){return function(){return Jo.call(this.children,t)}}function ts(){return this.firstElementChild}function es(t){return this.select(t==null?ts:$o(typeof t=="function"?t:Zr(t)))}var ns=Array.prototype.filter;function rs(){return Array.from(this.children)}function is(t){return function(){return ns.call(this.children,t)}}function os(t){return this.selectAll(t==null?rs:is(typeof t=="function"?t:Zr(t)))}function ss(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Rt(r,this._parents)}function jr(t){return new Array(t.length)}function as(){return new Rt(this._enter||this._groups.map(jr),this._parents)}function Xe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Xe.prototype={constructor:Xe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ls(t){return function(){return t}}function us(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Xe(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function fs(t,e,n,r,i,o,s){var l,u,a=new Map,c=e.length,h=o.length,m=new Array(c),_;for(l=0;l<c;++l)(u=e[l])&&(m[l]=_=s.call(u,u.__data__,l,e)+"",a.has(_)?i[l]=u:a.set(_,u));for(l=0;l<h;++l)_=s.call(t,o[l],l,o)+"",(u=a.get(_))?(r[l]=u,u.__data__=o[l],a.delete(_)):n[l]=new Xe(t,o[l]);for(l=0;l<c;++l)(u=e[l])&&a.get(m[l])===u&&(i[l]=u)}function cs(t){return t.__data__}function hs(t,e){if(!arguments.length)return Array.from(this,cs);var n=e?fs:us,r=this._parents,i=this._groups;typeof t!="function"&&(t=ls(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var c=r[a],h=i[a],m=h.length,_=ds(t.call(c,c&&c.__data__,a,r)),x=_.length,L=l[a]=new Array(x),E=s[a]=new Array(x),S=u[a]=new Array(m);n(c,h,L,E,S,_,e);for(var T=0,H=0,tt,J;T<x;++T)if(tt=L[T]){for(T>=H&&(H=T+1);!(J=E[H])&&++H<x;);tt._next=J||null}}return s=new Rt(s,r),s._enter=l,s._exit=u,s}function ds(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ps(){return new Rt(this._exit||this._groups.map(jr),this._parents)}function gs(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ms(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],c=r[u],h=a.length,m=l[u]=new Array(h),_,x=0;x<h;++x)(_=a[x]||c[x])&&(m[x]=_);for(;u<i;++u)l[u]=n[u];return new Rt(l,this._parents)}function _s(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ys(t){t||(t=ws);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new Rt(i,this._parents).order()}function ws(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bs(){return Array.from(this)}function xs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ks(){let t=0;for(const e of this)++t;return t}function Ss(){return!this.node()}function Ms(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function Es(t){return function(){this.removeAttribute(t)}}function Cs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function As(t,e){return function(){this.setAttribute(t,e)}}function Ts(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ds(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Rs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ns(t,e){var n=je(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Cs:Es:typeof e=="function"?n.local?Rs:Ds:n.local?Ts:As)(n,e))}function Jr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zs(t){return function(){this.style.removeProperty(t)}}function Is(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Os(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qs(t,e,n){return arguments.length>1?this.each((e==null?zs:typeof e=="function"?Os:Is)(t,e,n==null?"":n)):oe(this.node(),t)}function oe(t,e){return t.style.getPropertyValue(e)||Jr(t).getComputedStyle(t,null).getPropertyValue(e)}function Ls(t){return function(){delete this[t]}}function Ps(t,e){return function(){this[t]=e}}function Fs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vs(t,e){return arguments.length>1?this.each((e==null?Ls:typeof e=="function"?Fs:Ps)(t,e)):this.node()[t]}function $r(t){return t.trim().split(/^|\s+/)}function Dn(t){return t.classList||new ti(t)}function ti(t){this._node=t,this._names=$r(t.getAttribute("class")||"")}ti.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ei(t,e){for(var n=Dn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ni(t,e){for(var n=Dn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Xs(t){return function(){ei(this,t)}}function Bs(t){return function(){ni(this,t)}}function Hs(t,e){return function(){(e.apply(this,arguments)?ei:ni)(this,t)}}function Ys(t,e){var n=$r(t+"");if(arguments.length<2){for(var r=Dn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Hs:e?Xs:Bs)(n,e))}function Us(){this.textContent=""}function Ws(t){return function(){this.textContent=t}}function Ks(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Qs(t){return arguments.length?this.each(t==null?Us:(typeof t=="function"?Ks:Ws)(t)):this.node().textContent}function Gs(){this.innerHTML=""}function Zs(t){return function(){this.innerHTML=t}}function js(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Js(t){return arguments.length?this.each(t==null?Gs:(typeof t=="function"?js:Zs)(t)):this.node().innerHTML}function $s(){this.nextSibling&&this.parentNode.appendChild(this)}function ta(){return this.each($s)}function ea(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function na(){return this.each(ea)}function ra(t){var e=typeof t=="function"?t:Kr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ia(){return null}function oa(t,e){var n=typeof t=="function"?t:Kr(t),r=e==null?ia:typeof e=="function"?e:Tn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sa(){var t=this.parentNode;t&&t.removeChild(this)}function aa(){return this.each(sa)}function la(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ua(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fa(t){return this.select(t?ua:la)}function ca(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ha(t){return function(e){t.call(this,e,this.__data__)}}function da(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function pa(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ga(t,e,n){return function(){var r=this.__on,i,o=ha(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ma(t,e,n){var r=da(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(i=0,c=l[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?ga:pa,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function ri(t,e,n){var r=Jr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _a(t,e){return function(){return ri(this,t,e)}}function ya(t,e){return function(){return ri(this,t,e.apply(this,arguments))}}function wa(t,e){return this.each((typeof e=="function"?ya:_a)(t,e))}function*va(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ii=[null];function Rt(t,e){this._groups=t,this._parents=e}function we(){return new Rt([[document.documentElement]],ii)}function ba(){return this}Rt.prototype=we.prototype={constructor:Rt,select:Ko,selectAll:jo,selectChild:es,selectChildren:os,filter:ss,data:hs,enter:as,exit:ps,join:gs,merge:ms,selection:ba,order:_s,sort:ys,call:vs,nodes:bs,node:xs,size:ks,empty:Ss,each:Ms,attr:Ns,style:qs,property:Vs,classed:Ys,text:Qs,html:Js,raise:ta,lower:na,append:ra,insert:oa,remove:aa,clone:fa,datum:ca,on:ma,dispatch:wa,[Symbol.iterator]:va};function Wt(t){return typeof t=="string"?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],ii)}function xa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Kt(t,e){if(t=xa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const _n={capture:!0,passive:!1};function yn(t){t.preventDefault(),t.stopImmediatePropagation()}function ka(t){var e=t.document.documentElement,n=Wt(t).on("dragstart.drag",yn,_n);"onselectstart"in e?n.on("selectstart.drag",yn,_n):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Sa(t,e){var n=t.document.documentElement,r=Wt(t).on("dragstart.drag",null);e&&(r.on("click.drag",yn,_n),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var se=0,ce=0,le=0,oi=1e3,Be,he,He=0,$t=0,Je=0,_e=typeof performance=="object"&&performance.now?performance:Date,si=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Rn(){return $t||(si(Ma),$t=_e.now()+Je)}function Ma(){$t=0}function Ye(){this._call=this._time=this._next=null}Ye.prototype=ai.prototype={constructor:Ye,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Rn():+n)+(e==null?0:+e),!this._next&&he!==this&&(he?he._next=this:Be=this,he=this),this._call=t,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};function ai(t,e,n){var r=new Ye;return r.restart(t,e,n),r}function Ea(){Rn(),++se;for(var t=Be,e;t;)(e=$t-t._time)>=0&&t._call.call(void 0,e),t=t._next;--se}function cr(){$t=(He=_e.now())+Je,se=ce=0;try{Ea()}finally{se=0,Aa(),$t=0}}function Ca(){var t=_e.now(),e=t-He;e>oi&&(Je-=e,He=t)}function Aa(){for(var t,e=Be,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Be=n);he=t,wn(r)}function wn(t){if(!se){ce&&(ce=clearTimeout(ce));var e=t-$t;e>24?(t<1/0&&(ce=setTimeout(cr,t-_e.now()-Je)),le&&(le=clearInterval(le))):(le||(He=_e.now(),le=setInterval(Ca,oi)),se=1,si(cr))}}function hr(t,e,n){var r=new Ye;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ta=An("start","end","cancel","interrupt"),Da=[],li=0,dr=1,vn=2,Ne=3,pr=4,bn=5,ze=6;function $e(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ra(t,n,{name:e,index:r,group:i,on:Ta,tween:Da,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:li})}function Nn(t,e){var n=Ot(t,e);if(n.state>li)throw new Error("too late; already scheduled");return n}function Lt(t,e){var n=Ot(t,e);if(n.state>Ne)throw new Error("too late; already running");return n}function Ot(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ra(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ai(o,0,n.time);function o(a){n.state=dr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,h,m,_;if(n.state!==dr)return u();for(c in r)if(_=r[c],_.name===n.name){if(_.state===Ne)return hr(s);_.state===pr?(_.state=ze,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete r[c]):+c<e&&(_.state=ze,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete r[c])}if(hr(function(){n.state===Ne&&(n.state=pr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=vn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vn){for(n.state=Ne,i=new Array(m=n.tween.length),c=0,h=-1;c<m;++c)(_=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=_);i.length=h+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=bn,1),h=-1,m=i.length;++h<m;)i[h].call(t,c);n.state===bn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ze,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Ie(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>vn&&r.state<bn,r.state=ze,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Na(t){return this.each(function(){Ie(this,t)})}function za(t,e){var n,r;return function(){var i=Lt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Ia(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Lt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function Oa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ot(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?za:Ia)(n,t,e))}function zn(t,e,n){var r=t._id;return t.each(function(){var i=Lt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ot(i,r).value[e]}}function ui(t,e){var n;return(typeof e=="number"?zt:e instanceof Jt?Pe:(n=Jt(e))?(e=n,Pe):Xr)(t,e)}function qa(t){return function(){this.removeAttribute(t)}}function La(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Fa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Va(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Xa(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ba(t,e){var n=je(t),r=n==="transform"?ao:ui;return this.attrTween(t,typeof e=="function"?(n.local?Xa:Va)(n,r,zn(this,"attr."+t,e)):e==null?(n.local?La:qa)(n):(n.local?Fa:Pa)(n,r,e))}function Ha(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ya(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ua(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ya(t,o)),n}return i._value=e,i}function Wa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ha(t,o)),n}return i._value=e,i}function Ka(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=je(t);return this.tween(n,(r.local?Ua:Wa)(r,e))}function Qa(t,e){return function(){Nn(this,t).delay=+e.apply(this,arguments)}}function Ga(t,e){return e=+e,function(){Nn(this,t).delay=e}}function Za(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qa:Ga)(e,t)):Ot(this.node(),e).delay}function ja(t,e){return function(){Lt(this,t).duration=+e.apply(this,arguments)}}function Ja(t,e){return e=+e,function(){Lt(this,t).duration=e}}function $a(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ja:Ja)(e,t)):Ot(this.node(),e).duration}function tl(t,e){if(typeof e!="function")throw new Error;return function(){Lt(this,t).ease=e}}function el(t){var e=this._id;return arguments.length?this.each(tl(e,t)):Ot(this.node(),e).ease}function nl(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,t).ease=n}}function rl(t){if(typeof t!="function")throw new Error;return this.each(nl(this._id,t))}function il(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Bt(r,this._parents,this._name,this._id)}function ol(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],c=u.length,h=s[l]=new Array(c),m,_=0;_<c;++_)(m=u[_]||a[_])&&(h[_]=m);for(;l<r;++l)s[l]=e[l];return new Bt(s,this._parents,this._name,this._id)}function sl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function al(t,e,n){var r,i,o=sl(e)?Nn:Lt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function ll(t,e){var n=this._id;return arguments.length<2?Ot(this.node(),n).on.on(t):this.each(al(n,t,e))}function ul(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fl(){return this.on("end.remove",ul(this._id))}function cl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Tn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),c,h,m=0;m<u;++m)(c=l[m])&&(h=t.call(c,c.__data__,m,l))&&("__data__"in c&&(h.__data__=c.__data__),a[m]=h,$e(a[m],e,n,m,a,Ot(c,n)));return new Bt(o,this._parents,e,n)}function hl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,c,h=0;h<a;++h)if(c=u[h]){for(var m=t.call(c,c.__data__,h,u),_,x=Ot(c,n),L=0,E=m.length;L<E;++L)(_=m[L])&&$e(_,e,n,L,m,x);o.push(m),s.push(c)}return new Bt(o,s,e,n)}var dl=we.prototype.constructor;function pl(){return new dl(this._groups,this._parents)}function gl(t,e){var n,r,i;return function(){var o=oe(this,t),s=(this.style.removeProperty(t),oe(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function fi(t){return function(){this.style.removeProperty(t)}}function ml(t,e,n){var r,i=n+"",o;return function(){var s=oe(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function _l(t,e,n){var r,i,o;return function(){var s=oe(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),oe(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function yl(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=Lt(this,t),a=u.on,c=u.value[o]==null?l||(l=fi(e)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(s,i=c),u.on=r}}function wl(t,e,n){var r=(t+="")=="transform"?so:ui;return e==null?this.styleTween(t,gl(t,r)).on("end.style."+t,fi(t)):typeof e=="function"?this.styleTween(t,_l(t,r,zn(this,"style."+t,e))).each(yl(this._id,t)):this.styleTween(t,ml(t,r,e),n).on("end.style."+t,null)}function vl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function bl(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&vl(t,s,n)),r}return o._value=e,o}function xl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,bl(t,e,n==null?"":n))}function kl(t){return function(){this.textContent=t}}function Sl(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Ml(t){return this.tween("text",typeof t=="function"?Sl(zn(this,"text",t)):kl(t==null?"":t+""))}function El(t){return function(e){this.textContent=t.call(this,e)}}function Cl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&El(i)),e}return r._value=t,r}function Al(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Cl(t))}function Tl(){for(var t=this._name,e=this._id,n=ci(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=Ot(u,e);$e(u,t,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bt(r,this._parents,t,n)}function Dl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=Lt(this,r),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var Rl=0;function Bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ci(){return++Rl}var Pt=we.prototype;Bt.prototype={constructor:Bt,select:cl,selectAll:hl,selectChild:Pt.selectChild,selectChildren:Pt.selectChildren,filter:il,merge:ol,selection:pl,transition:Tl,call:Pt.call,nodes:Pt.nodes,node:Pt.node,size:Pt.size,empty:Pt.empty,each:Pt.each,on:ll,attr:Ba,attrTween:Ka,style:wl,styleTween:xl,text:Ml,textTween:Al,remove:fl,tween:Oa,delay:Za,duration:$a,ease:el,easeVarying:rl,end:Dl,[Symbol.iterator]:Pt[Symbol.iterator]};function Nl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zl={time:null,delay:0,duration:250,ease:Nl};function Il(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ol(t){var e,n;t instanceof Bt?(e=t._id,t=t._name):(e=ci(),(n=zl).time=Rn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&$e(u,t,e,a,s,n||Il(u,e));return new Bt(r,this._parents,t,e)}we.prototype.interrupt=Na;we.prototype.transition=Ol;const Ee=t=>()=>t;function ql(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ft(t,e,n){this.k=t,this.x=e,this.y=n}Ft.prototype={constructor:Ft,scale:function(t){return t===1?this:new Ft(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ft(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ue=new Ft(1,0,0);Ft.prototype;function on(t){t.stopImmediatePropagation()}function ue(t){t.preventDefault(),t.stopImmediatePropagation()}function Ll(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Pl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function gr(){return this.__zoom||Ue}function Fl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Vl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Bl(){var t=Ll,e=Pl,n=Xl,r=Fl,i=Vl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=co,a=An("start","zoom","end"),c,h,m,_=500,x=150,L=0,E=10;function S(p){p.property("__zoom",gr).on("wheel.zoom",f,{passive:!1}).on("mousedown.zoom",d).on("dblclick.zoom",w).filter(i).on("touchstart.zoom",v).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(p,D,g,b){var A=p.selection?p.selection():p;A.property("__zoom",gr),p!==A?J(p,D,g,b):A.interrupt().each(function(){K(this,arguments).event(b).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},S.scaleBy=function(p,D,g,b){S.scaleTo(p,function(){var A=this.__zoom.k,k=typeof D=="function"?D.apply(this,arguments):D;return A*k},g,b)},S.scaleTo=function(p,D,g,b){S.transform(p,function(){var A=e.apply(this,arguments),k=this.__zoom,I=g==null?tt(A):typeof g=="function"?g.apply(this,arguments):g,q=k.invert(I),P=typeof D=="function"?D.apply(this,arguments):D;return n(H(T(k,P),I,q),A,s)},g,b)},S.translateBy=function(p,D,g,b){S.transform(p,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,b)},S.translateTo=function(p,D,g,b,A){S.transform(p,function(){var k=e.apply(this,arguments),I=this.__zoom,q=b==null?tt(k):typeof b=="function"?b.apply(this,arguments):b;return n(Ue.translate(q[0],q[1]).scale(I.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof g=="function"?-g.apply(this,arguments):-g),k,s)},b,A)};function T(p,D){return D=Math.max(o[0],Math.min(o[1],D)),D===p.k?p:new Ft(D,p.x,p.y)}function H(p,D,g){var b=D[0]-g[0]*p.k,A=D[1]-g[1]*p.k;return b===p.x&&A===p.y?p:new Ft(p.k,b,A)}function tt(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function J(p,D,g,b){p.on("start.zoom",function(){K(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(b).end()}).tween("zoom",function(){var A=this,k=arguments,I=K(A,k).event(b),q=e.apply(A,k),P=g==null?tt(q):typeof g=="function"?g.apply(A,k):g,F=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),j=A.__zoom,rt=typeof D=="function"?D.apply(A,k):D,st=u(j.invert(P).concat(F/j.k),rt.invert(P).concat(F/rt.k));return function(pt){if(pt===1)pt=rt;else{var Q=st(pt),$=F/Q[2];pt=new Ft($,P[0]-Q[0]*$,P[1]-Q[1]*$)}I.zoom(null,pt)}})}function K(p,D,g){return!g&&p.__zooming||new X(p,D)}function X(p,D){this.that=p,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,D),this.taps=0}X.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,D){return this.mouse&&p!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var D=Wt(this.that).datum();a.call(p,this.that,new ql(p,{sourceEvent:this.sourceEvent,target:S,type:p,transform:this.that.__zoom,dispatch:a}),D)}};function f(p,...D){if(!t.apply(this,arguments))return;var g=K(this,D).event(p),b=this.__zoom,A=Math.max(o[0],Math.min(o[1],b.k*Math.pow(2,r.apply(this,arguments)))),k=Kt(p);if(g.wheel)(g.mouse[0][0]!==k[0]||g.mouse[0][1]!==k[1])&&(g.mouse[1]=b.invert(g.mouse[0]=k)),clearTimeout(g.wheel);else{if(b.k===A)return;g.mouse=[k,b.invert(k)],Ie(this),g.start()}ue(p),g.wheel=setTimeout(I,x),g.zoom("mouse",n(H(T(b,A),g.mouse[0],g.mouse[1]),g.extent,s));function I(){g.wheel=null,g.end()}}function d(p,...D){if(m||!t.apply(this,arguments))return;var g=p.currentTarget,b=K(this,D,!0).event(p),A=Wt(p.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",F,!0),k=Kt(p,g),I=p.clientX,q=p.clientY;ka(p.view),on(p),b.mouse=[k,this.__zoom.invert(k)],Ie(this),b.start();function P(j){if(ue(j),!b.moved){var rt=j.clientX-I,st=j.clientY-q;b.moved=rt*rt+st*st>L}b.event(j).zoom("mouse",n(H(b.that.__zoom,b.mouse[0]=Kt(j,g),b.mouse[1]),b.extent,s))}function F(j){A.on("mousemove.zoom mouseup.zoom",null),Sa(j.view,b.moved),ue(j),b.event(j).end()}}function w(p,...D){if(!!t.apply(this,arguments)){var g=this.__zoom,b=Kt(p.changedTouches?p.changedTouches[0]:p,this),A=g.invert(b),k=g.k*(p.shiftKey?.5:2),I=n(H(T(g,k),b,A),e.apply(this,D),s);ue(p),l>0?Wt(this).transition().duration(l).call(J,I,b,p):Wt(this).call(S.transform,I,b,p)}}function v(p,...D){if(!!t.apply(this,arguments)){var g=p.touches,b=g.length,A=K(this,D,p.changedTouches.length===b).event(p),k,I,q,P;for(on(p),I=0;I<b;++I)q=g[I],P=Kt(q,this),P=[P,this.__zoom.invert(P),q.identifier],A.touch0?!A.touch1&&A.touch0[2]!==P[2]&&(A.touch1=P,A.taps=0):(A.touch0=P,k=!0,A.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(A.taps<2&&(h=P[0],c=setTimeout(function(){c=null},_)),Ie(this),A.start())}}function C(p,...D){if(!!this.__zooming){var g=K(this,D).event(p),b=p.changedTouches,A=b.length,k,I,q,P;for(ue(p),k=0;k<A;++k)I=b[k],q=Kt(I,this),g.touch0&&g.touch0[2]===I.identifier?g.touch0[0]=q:g.touch1&&g.touch1[2]===I.identifier&&(g.touch1[0]=q);if(I=g.that.__zoom,g.touch1){var F=g.touch0[0],j=g.touch0[1],rt=g.touch1[0],st=g.touch1[1],pt=(pt=rt[0]-F[0])*pt+(pt=rt[1]-F[1])*pt,Q=(Q=st[0]-j[0])*Q+(Q=st[1]-j[1])*Q;I=T(I,Math.sqrt(pt/Q)),q=[(F[0]+rt[0])/2,(F[1]+rt[1])/2],P=[(j[0]+st[0])/2,(j[1]+st[1])/2]}else if(g.touch0)q=g.touch0[0],P=g.touch0[1];else return;g.zoom("touch",n(H(I,q,P),g.extent,s))}}function Y(p,...D){if(!!this.__zooming){var g=K(this,D).event(p),b=p.changedTouches,A=b.length,k,I;for(on(p),m&&clearTimeout(m),m=setTimeout(function(){m=null},_),k=0;k<A;++k)I=b[k],g.touch0&&g.touch0[2]===I.identifier?delete g.touch0:g.touch1&&g.touch1[2]===I.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(I=Kt(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<E)){var q=Wt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return S.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:Ee(+p),S):r},S.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Ee(!!p),S):t},S.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:Ee(!!p),S):i},S.extent=function(p){return arguments.length?(e=typeof p=="function"?p:Ee([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),S):e},S.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],S):[o[0],o[1]]},S.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],S):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},S.constrain=function(p){return arguments.length?(n=p,S):n},S.duration=function(p){return arguments.length?(l=+p,S):l},S.interpolate=function(p){return arguments.length?(u=p,S):u},S.on=function(){var p=a.on.apply(a,arguments);return p===a?S:p},S.clickDistance=function(p){return arguments.length?(L=(p=+p)*p,S):Math.sqrt(L)},S.tapDistance=function(p){return arguments.length?(E=+p,S):E},S}function mr(t){let e,n;return e=new Vo({props:{hoveredData:t[6],data:t[0],domainColumn:t[1],colorScale:t[9],posX:t[7],posY:t[8]}}),{c(){kn(e.$$.fragment)},m(r,i){Ke(e,r,i),n=!0},p(r,i){const o={};i[0]&64&&(o.hoveredData=r[6]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&512&&(o.colorScale=r[9]),i[0]&128&&(o.posX=r[7]),i[0]&256&&(o.posY=r[8]),e.$set(o)},i(r){n||(Xt(e.$$.fragment,r),n=!0)},o(r){Zt(e.$$.fragment,r),n=!1},d(r){Qe(e,r)}}}function Hl(t){let e,n,r,i,o,s,l,u,a,c,h,m,_,x=t[6]&&mr(t);return{c(){e=U("div"),n=U("div"),r=U("button"),r.textContent="+",i=ct(),o=U("button"),o.textContent="\u2212",s=ct(),l=U("button"),l.textContent="\u27F2",u=ct(),a=U("canvas"),c=ct(),x&&x.c(),R(r,"class","zoom-btn svelte-1q7voxg"),R(r,"aria-label","Zoom in"),R(r,"title","Zoom in"),R(o,"class","zoom-btn svelte-1q7voxg"),R(o,"aria-label","Zoom out"),R(o,"title","Zoom out"),R(l,"class","zoom-btn svelte-1q7voxg"),R(l,"aria-label","Reset zoom"),R(l,"title","Reset zoom"),R(n,"class","zoom-controls svelte-1q7voxg"),R(n,"aria-label","Zoom controls"),R(a,"width",t[2]),R(a,"height",t[3]),R(a,"class","svelte-1q7voxg"),R(e,"class","chart-container svelte-1q7voxg")},m(L,E){ot(L,e,E),z(e,n),z(n,r),z(n,i),z(n,o),z(n,s),z(n,l),z(e,u),z(e,a),t[30](a),z(e,c),x&&x.m(e,null),t[31](e),h=!0,m||(_=[_t(r,"click",t[13]),_t(o,"click",t[14]),_t(l,"click",t[15]),_t(a,"mousemove",t[10]),_t(a,"mouseleave",t[12]),_t(a,"click",t[11])],m=!0)},p(L,E){(!h||E[0]&4)&&R(a,"width",L[2]),(!h||E[0]&8)&&R(a,"height",L[3]),L[6]?x?(x.p(L,E),E[0]&64&&Xt(x,1)):(x=mr(L),x.c(),Xt(x,1),x.m(e,null)):x&&(Rr(),Zt(x,1,1,()=>{x=null}),Nr())},i(L){h||(Xt(x),h=!0)},o(L){Zt(x),h=!1},d(L){L&&it(e),t[30](null),x&&x.d(),t[31](null),m=!1,Ht(_)}}}const Ce=6,Yl=.5,Ul=20,_r=280,yr=160;function te(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Wl(t,e,n){let r,i,o,s,l,u,a,c,h,{data:m=[]}=e,{domainColumn:_=""}=e,{opacity:x=1}=e,{selectedValues:L=new Set}=e,{searchQuery:E=""}=e,{showAnnotations:S=!0}=e,{highlightedData:T=[]}=e,{startDate:H=null}=e,{endDate:tt=null}=e,J=[],K,X,f,d=800,w=600;const v={top:20,right:20,bottom:20,left:20};let C=null,Y=null,p=Ue,D,g,b=0,A=0,k,I=1;function q(){if(!K||!X)return;const y=X.getBoundingClientRect();y.width>0&&y.height>0&&(n(2,d=Math.floor(y.width)),n(3,w=Math.floor(y.height))),I=Math.max(window.devicePixelRatio||1,1),n(4,K.style.width="100%",K),n(4,K.style.height="100%",K),n(4,K.width=Math.max(1,Math.floor(d*I)),K),n(4,K.height=Math.max(1,Math.floor(w*I)),K),n(23,f=K.getContext("2d")),f.setTransform(I,0,0,I,0,0)}function P(){if(!(!f||!m.length)){if(f.clearRect(0,0,d,w),f.save(),f.translate(p.x,p.y),f.scale(p.k,p.k),m.forEach(y=>{var lt,nt;const V=!!(E&&String(E).trim().length),Z=V?te((lt=y.title)!=null?lt:"",E)||te((nt=y.text)!=null?nt:"",E):!0,W=L&&L.size>0&&L.size<r,M=W?L.has(y[_]):!0,N=H&&tt?y.date>=H&&y.date<=tt:!0,B=Z&&M&&N,O=V||W;f.beginPath(),f.arc(v.left+u(y.x),v.top+h(y.y),Math.max(.5,Ce/p.k),0,Math.PI*2),n(23,f.fillStyle=k(y[_]),f);const at=.9,et=Math.max(0,Math.min(1,x));n(23,f.globalAlpha=O&&B?at:et,f),f.fill(),n(23,f.globalAlpha=.2,f)}),S&&J.forEach(y=>{n(23,f.globalAlpha=1,f),f.beginPath(),f.arc(y.x,y.y,y.radius,0,Math.PI*2),n(23,f.strokeStyle="red",f),n(23,f.lineWidth=2,f),f.setLineDash([5,5]),f.stroke();const V=180,Z=12;n(23,f.font="16px Arial",f);const W=y.x+y.label_x,M=y.y+y.label_y;let N=0,B=0,O=[];if(y.label){const Nt=y.label.split(" ");let xt="";Nt.forEach((vt,Tt)=>{const Et=xt+vt+" ";f.measureText(Et).width>V&&Tt>0?(O.push(xt),N=Math.max(N,f.measureText(xt).width),xt=vt+" "):xt=Et}),O.push(xt),N=Math.max(N,f.measureText(xt).width),B=Z*O.length}const at=W,et=M-Z,lt=N,nt=B;let ht,ut;y.x<at?ht=at:y.x>at+lt?ht=at+lt:ht=y.x,y.y<et?ut=et:y.y>et+nt?ut=et+nt:ut=y.y;const yt=Math.atan2(ut-y.y,ht-y.x),mt=y.x+y.radius*Math.cos(yt),wt=y.y+y.radius*Math.sin(yt);if(f.setLineDash([]),f.beginPath(),f.moveTo(mt,wt),f.lineTo(ht,ut),n(23,f.strokeStyle="red",f),n(23,f.lineWidth=1,f),f.stroke(),y.label){n(23,f.font="16px Arial",f),n(23,f.fillStyle="red",f);const Nt=16;O.forEach((xt,vt)=>{f.fillText(xt,W,M+vt*Nt)})}}),f.setLineDash([]),C){const y=v.left+u(C.x),V=v.top+h(C.y);f.beginPath(),f.arc(y,V,Math.max(.5,Ce/p.k),0,Math.PI*2),n(23,f.fillStyle=k(C[_]),f),n(23,f.globalAlpha=1,f),f.fill(),n(23,f.strokeStyle="black",f),n(23,f.lineWidth=Math.max(1,2/p.k),f),f.stroke();const[Z,W]=[p.applyX(y),p.applyY(V)];let M=Z+12;M+_r>d-v.right&&(M=Z-12-_r);let N=W-yr*.5;const B=v.top+8,O=w-v.bottom-(yr+8);N=Math.max(B,Math.min(N,O)),n(7,b=M),n(8,A=N)}f.restore()}}function F(y){const V=K.getBoundingClientRect(),Z=d/V.width,W=w/V.height,M=(y.clientX-V.left)*Z,N=(y.clientY-V.top)*W,[B,O]=p.invert([M,N]),at=m.find(et=>{var Et,Mt;const lt=v.left+u(et.x),nt=v.top+h(et.y),ht=lt-B,ut=nt-O,yt=Math.sqrt(ht*ht+ut*ut)<(Ce+3)/p.k,wt=!!(E&&String(E).trim().length)?te((Et=et.title)!=null?Et:"",E)||te((Mt=et.text)!=null?Mt:"",E):!0,xt=L&&L.size>0&&L.size<r?L.has(et[_]):!0,vt=H&&tt?et.date>=H&&et.date<=tt:!0;return yt&&(wt&&xt&&vt)});at?(n(6,C=at),Y=at,n(4,K.style.cursor="pointer",K)):(n(6,C=null),Y=null,n(4,K.style.cursor="crosshair",K)),P()}function j(y){const V=K.getBoundingClientRect(),Z=d/V.width,W=w/V.height,M=(y.clientX-V.left)*Z,N=(y.clientY-V.top)*W,[B,O]=p.invert([M,N]),at=m.find(lt=>{var Mt,ae;const nt=v.left+u(lt.x),ht=v.top+h(lt.y),ut=nt-B,yt=ht-O,mt=Math.sqrt(ut*ut+yt*yt)<(Ce+3)/p.k,Nt=!!(E&&String(E).trim().length)?te((Mt=lt.title)!=null?Mt:"",E)||te((ae=lt.text)!=null?ae:"",E):!0,vt=L&&L.size>0&&L.size<r?L.has(lt[_]):!0,Tt=H&&tt?lt.date>=H&&lt.date<=tt:!0;return mt&&(Nt&&vt&&Tt)});if(!at)return;const et=at.url||at.link||at.href||at.permalink;et&&typeof window<"u"&&window.open(et,"_blank","noopener,noreferrer")}function rt(){n(6,C=Y),P()}let st;xn(()=>(n(23,f=K.getContext("2d")),q(),window.ResizeObserver&&(st=new ResizeObserver(()=>{q(),P()}),st.observe(X)),D=Bl().scaleExtent([Yl,Ul]).filter(y=>{const V=y;return V.type==="wheel"||V.type==="touchstart"||V.type==="touchmove"?!0:V.type==="mousedown"?V.button===0&&!V.ctrlKey&&!V.metaKey&&!V.shiftKey:!V.ctrlKey&&!V.metaKey&&!V.shiftKey}).on("zoom",y=>{p=y.transform,P()}),g=Wt(K),g.call(D),P(),()=>{st&&st.disconnect()}));function pt(y,V){var M;if((M=V==null?void 0:V.stopPropagation)==null||M.call(V),!g||!D)return;const Z=d/2,W=w/2;g.transition().duration(200).call(D.scaleBy,y,[Z,W])}function Q(y){pt(1.25,y)}function $(y){pt(1/1.25,y)}function gt(y){var V;(V=y==null?void 0:y.stopPropagation)==null||V.call(y),!(!g||!D)&&g.transition().duration(200).call(D.transform,Ue)}function G(y){Vt[y?"unshift":"push"](()=>{K=y,n(4,K)})}function dt(y){Vt[y?"unshift":"push"](()=>{X=y,n(5,X)})}return t.$$set=y=>{"data"in y&&n(0,m=y.data),"domainColumn"in y&&n(1,_=y.domainColumn),"opacity"in y&&n(16,x=y.opacity),"selectedValues"in y&&n(17,L=y.selectedValues),"searchQuery"in y&&n(18,E=y.searchQuery),"showAnnotations"in y&&n(19,S=y.showAnnotations),"highlightedData"in y&&n(20,T=y.highlightedData),"startDate"in y&&n(21,H=y.startDate),"endDate"in y&&n(22,tt=y.endDate)},t.$$.update=()=>{t.$$.dirty[0]&1048576&&new Set(T.map(y=>y.id)),t.$$.dirty[0]&3&&(r=new Set(m.map(y=>y[_])).size),t.$$.dirty[0]&4&&n(27,i=d-v.left-v.right),t.$$.dirty[0]&8&&n(24,o=w-v.top-v.bottom),t.$$.dirty[0]&1&&n(29,s=[Hn(m,y=>y.x),Bn(m,y=>y.x)]),t.$$.dirty[0]&536870912&&n(28,l=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&402653184&&(u=gn().domain(l).range([0,i])),t.$$.dirty[0]&1&&n(26,a=[Hn(m,y=>y.y),Bn(m,y=>y.y)]),t.$$.dirty[0]&67108864&&n(25,c=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&50331648&&(h=gn().domain(c).range([o,0])),t.$$.dirty[0]&3&&n(9,k=Lr(Oo).domain(_?[...new Set(m.map(y=>y[_]).filter(y=>y!=null&&y!==""))]:[])),t.$$.dirty[0]&1&&m.length&&new Date(Math.min(...m.map(y=>y.date.getTime()))),t.$$.dirty[0]&1&&m.length&&new Date(Math.max(...m.map(y=>y.date.getTime()))),t.$$.dirty[0]&15663107&&f&&m.length&&P()},[m,_,d,w,K,X,C,b,A,k,F,j,rt,Q,$,gt,x,L,E,S,T,H,tt,f,o,c,a,i,l,s,G,dt]}class Kl extends Ze{constructor(e){super(),Ge(this,e,Wl,Hl,We,{data:0,domainColumn:1,opacity:16,selectedValues:17,searchQuery:18,showAnnotations:19,highlightedData:20,startDate:21,endDate:22},null,[-1,-1])}}function Ql(t){let e,n,r,i,o,s,l,u,a;return{c(){e=U("div"),n=U("div"),r=U("div"),i=ct(),o=U("div"),s=ct(),l=U("div"),R(r,"class","track-inner svelte-vytkle"),R(n,"class","track svelte-vytkle"),R(o,"class","thumb start-thumb svelte-vytkle"),St(o,"left",t[4]+"%"),R(l,"class","thumb end-thumb svelte-vytkle"),St(l,"left",t[3]+"%"),R(e,"class","range-slider svelte-vytkle"),St(e,"--start-percent",t[4]+"%"),St(e,"--end-percent",t[3]+"%")},m(c,h){ot(c,e,h),z(e,n),z(n,r),z(e,i),z(e,o),t[13](o),z(e,s),z(e,l),t[16](l),t[19](e),u||(a=[_t(r,"mousedown",t[11]),_t(r,"touchstart",t[12]),_t(o,"mousedown",t[14]),_t(o,"touchstart",t[15]),_t(l,"mousedown",t[17]),_t(l,"touchstart",t[18])],u=!0)},p(c,[h]){h&16&&St(o,"left",c[4]+"%"),h&8&&St(l,"left",c[3]+"%"),h&16&&St(e,"--start-percent",c[4]+"%"),h&8&&St(e,"--end-percent",c[3]+"%")},i:At,o:At,d(c){c&&it(e),t[13](null),t[16](null),t[19](null),u=!1,Ht(a)}}}function Gl(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:l}=e,{endValue:u}=e;const a=_i();let c,h,m,_=!1,x=null,L=null,E=0;function S(g,b){_=!0,x=b,L=c.getBoundingClientRect(),b==="range"&&(E=u-l),window.addEventListener("mousemove",T),window.addEventListener("mouseup",H)}function T(g){if(!_)return;const b=Math.min(Math.max(0,(g.clientX-L.left)/L.width),1),A=Math.round(b*(s-o)+o);if(x==="start")n(7,l=Math.min(A,u)),a("startChange",l);else if(x==="end")n(8,u=Math.max(A,l)),a("endChange",u);else if(x==="range"){let k=A-Math.floor(E/2),I=A+Math.ceil(E/2);k<o&&(k=o,I=o+E),I>s&&(I=s,k=s-E),k=Math.max(o,k),I=Math.min(s,I),n(7,l=k),n(8,u=I),a("startChange",l),a("endChange",u)}}function H(){_=!1,window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",H)}function tt(g,b){g.preventDefault(),_=!0,x=b,L=c.getBoundingClientRect(),b==="range"&&(E=u-l),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",K)}function J(g){if(g.preventDefault(),!_)return;const b=g.touches[0],A=Math.min(Math.max(0,(b.clientX-L.left)/L.width),1),k=Math.round(A*(s-o)+o);if(x==="start")n(7,l=Math.min(k,u)),a("startChange",l);else if(x==="end")n(8,u=Math.max(k,l)),a("endChange",u);else if(x==="range"){let I=k-Math.floor(E/2),q=k+Math.ceil(E/2);I<o&&(I=o,q=o+E),q>s&&(q=s,I=s-E),I=Math.max(o,I),q=Math.min(s,q),n(7,l=I),n(8,u=q),a("startChange",l),a("endChange",u)}}function K(){_=!1,window.removeEventListener("touchmove",J),window.removeEventListener("touchend",K)}const X=g=>S(g,"range"),f=g=>tt(g,"range");function d(g){Vt[g?"unshift":"push"](()=>{h=g,n(1,h)})}const w=g=>S(g,"start"),v=g=>tt(g,"start");function C(g){Vt[g?"unshift":"push"](()=>{m=g,n(2,m)})}const Y=g=>S(g,"end"),p=g=>tt(g,"end");function D(g){Vt[g?"unshift":"push"](()=>{c=g,n(0,c)})}return t.$$set=g=>{"min"in g&&n(9,o=g.min),"max"in g&&n(10,s=g.max),"startValue"in g&&n(7,l=g.startValue),"endValue"in g&&n(8,u=g.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(l-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[c,h,m,i,r,S,tt,l,u,o,s,X,f,d,w,v,C,Y,p,D]}class Zl extends Ze{constructor(e){super(),Ge(this,e,Gl,Ql,We,{min:9,max:10,startValue:7,endValue:8})}}function wr(t,e,n){const r=t.slice();return r[54]=e[n],r}function vr(t,e,n){const r=t.slice();return r[57]=e[n],r}function br(t){let e,n,r,i,o,s,l=t[8],u=[];for(let a=0;a<l.length;a+=1)u[a]=xr(vr(t,l,a));return{c(){e=U("label"),e.textContent="\u{1F3A8} Color by Column:",n=ct(),r=U("select"),i=U("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();R(e,"for","domain-column"),R(e,"class","svelte-125uapq"),i.__value="",i.value=i.__value,i.disabled=!0,R(r,"id","domain-column"),R(r,"class","svelte-125uapq"),t[0]===void 0&&Oe(()=>t[32].call(r))},m(a,c){ot(a,e,c),ot(a,n,c),ot(a,r,c),z(r,i);for(let h=0;h<u.length;h+=1)u[h].m(r,null);Ln(r,t[0]),o||(s=[_t(r,"change",t[20]),_t(r,"change",t[32])],o=!0)},p(a,c){if(c[0]&256){l=a[8];let h;for(h=0;h<l.length;h+=1){const m=vr(a,l,h);u[h]?u[h].p(m,c):(u[h]=xr(m),u[h].c(),u[h].m(r,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=l.length}c[0]&257&&Ln(r,a[0])},d(a){a&&it(e),a&&it(n),a&&it(r),Cr(u,a),o=!1,Ht(s)}}}function xr(t){let e,n=t[57]+"",r,i;return{c(){e=U("option"),r=bt(n),e.__value=i=t[57],e.value=e.__value},m(o,s){ot(o,e,s),z(e,r)},p(o,s){s[0]&256&&n!==(n=o[57]+"")&&Dt(r,n),s[0]&256&&i!==(i=o[57])&&(e.__value=i,e.value=e.__value)},d(o){o&&it(e)}}}function kr(t){let e,n,r,i,o,s=t[1],l=[];for(let u=0;u<s.length;u+=1)l[u]=Sr(wr(t,s,u));return{c(){e=U("label"),e.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",n=ct(),r=U("select");for(let u=0;u<l.length;u+=1)l[u].c();R(e,"for","value-select"),R(e,"class","svelte-125uapq"),R(r,"id","value-select"),r.multiple=!0,R(r,"size","5"),R(r,"class","multi-select svelte-125uapq")},m(u,a){ot(u,e,a),ot(u,n,a),ot(u,r,a);for(let c=0;c<l.length;c+=1)l[c].m(r,null);i||(o=_t(r,"change",t[21]),i=!0)},p(u,a){if(a[0]&6){s=u[1];let c;for(c=0;c<s.length;c+=1){const h=wr(u,s,c);l[c]?l[c].p(h,a):(l[c]=Sr(h),l[c].c(),l[c].m(r,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},d(u){u&&it(e),u&&it(n),u&&it(r),Cr(l,u),i=!1,o()}}}function Sr(t){let e,n=t[54]+"",r,i,o;return{c(){e=U("option"),r=bt(n),e.__value=i=t[54],e.value=e.__value,e.selected=o=t[2].has(t[54])},m(s,l){ot(s,e,l),z(e,r)},p(s,l){l[0]&2&&n!==(n=s[54]+"")&&Dt(r,n),l[0]&2&&i!==(i=s[54])&&(e.__value=i,e.value=e.__value),l[0]&6&&o!==(o=s[2].has(s[54]))&&(e.selected=o)},d(s){s&&it(e)}}}function jl(t){let e;return{c(){e=bt("\u25B6")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function Jl(t){let e;return{c(){e=bt("\u275A\u275A")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function $l(t){let e;return{c(){e=U("p"),e.textContent="Waiting for data"},m(n,r){ot(n,e,r)},p:At,i:At,o:At,d(n){n&&it(e)}}}function tu(t){let e,n,r;function i(c,h){return c[15]==="downloading"?iu:c[15]==="parsing"?ru:nu}let o=i(t),s=o(t);function l(c,h){return c[15]==="downloading"?su:ou}let u=l(t),a=u(t);return{c(){e=U("div"),n=U("div"),s.c(),r=ct(),a.c(),R(n,"class","progress-header svelte-125uapq"),R(e,"class","progress-wrap svelte-125uapq")},m(c,h){ot(c,e,h),z(e,n),s.m(n,null),z(e,r),a.m(e,null)},p(c,h){o!==(o=i(c))&&(s.d(1),s=o(c),s&&(s.c(),s.m(n,null))),u===(u=l(c))&&a?a.p(c,h):(a.d(1),a=u(c),a&&(a.c(),a.m(e,null)))},i:At,o:At,d(c){c&&it(e),s.d(),a.d()}}}function eu(t){let e,n;return e=new Kl({props:{data:t[10],domainColumn:t[0],selectedValues:t[2],opacity:t[9],searchQuery:t[12],showAnnotations:t[13],highlightedData:t[7],startDate:t[3],endDate:t[4]}}),{c(){kn(e.$$.fragment)},m(r,i){Ke(e,r,i),n=!0},p(r,i){const o={};i[0]&1024&&(o.data=r[10]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&512&&(o.opacity=r[9]),i[0]&4096&&(o.searchQuery=r[12]),i[0]&8192&&(o.showAnnotations=r[13]),i[0]&128&&(o.highlightedData=r[7]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),e.$set(o)},i(r){n||(Xt(e.$$.fragment,r),n=!0)},o(r){Zt(e.$$.fragment,r),n=!1},d(r){Qe(e,r)}}}function nu(t){let e;return{c(){e=bt("Loading...")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function ru(t){let e;return{c(){e=bt("Parsing CSV...")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function iu(t){let e;return{c(){e=bt("Downloading CSV...")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function ou(t){let e;return{c(){e=U("div"),R(e,"class","progress-bar indeterminate svelte-125uapq")},m(n,r){ot(n,e,r)},p:At,d(n){n&&it(e)}}}function su(t){let e;function n(o,s){return o[17]?lu:au}let r=n(t),i=r(t);return{c(){i.c(),e=Ar()},m(o,s){i.m(o,s),ot(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&it(e)}}}function au(t){let e,n,r,i=ne(t[16])+"",o;return{c(){e=U("div"),n=ct(),r=U("div"),o=bt(i),R(e,"class","progress-bar indeterminate svelte-125uapq"),R(r,"class","progress-label svelte-125uapq")},m(s,l){ot(s,e,l),ot(s,n,l),ot(s,r,l),z(r,o)},p(s,l){l[0]&65536&&i!==(i=ne(s[16])+"")&&Dt(o,i)},d(s){s&&it(e),s&&it(n),s&&it(r)}}}function lu(t){let e,n,r,i,o,s,l=ne(t[16])+"",u,a,c=ne(t[17])+"",h,m;return{c(){e=U("div"),n=U("div"),r=ct(),i=U("div"),o=bt(t[18]),s=bt("% ("),u=bt(l),a=bt(" / "),h=bt(c),m=bt(")"),R(n,"class","progress-fill svelte-125uapq"),St(n,"width",t[18]+"%"),R(e,"class","progress-bar svelte-125uapq"),R(i,"class","progress-label svelte-125uapq")},m(_,x){ot(_,e,x),z(e,n),ot(_,r,x),ot(_,i,x),z(i,o),z(i,s),z(i,u),z(i,a),z(i,h),z(i,m)},p(_,x){x[0]&262144&&St(n,"width",_[18]+"%"),x[0]&262144&&Dt(o,_[18]),x[0]&65536&&l!==(l=ne(_[16])+"")&&Dt(u,l),x[0]&131072&&c!==(c=ne(_[17])+"")&&Dt(h,c)},d(_){_&&it(e),_&&it(r),_&&it(i)}}}function uu(t){let e,n,r,i,o,s,l,u,a,c,h,m,_,x,L,E,S,T,H,tt,J,K,X,f,d,w,v,C,Y,p,D,g,b,A,k,I,q,P,F,j=Ut(t[3])+"",rt,st,pt,Q=Ut(t[4])+"",$,gt,G,dt,y,V,Z,W,M,N,B,O,at,et,lt,nt,ht,ut,yt,mt=t[8].length&&br(t),wt=t[1].length&&kr(t);function Nt(ft){t[36](ft)}function xt(ft){t[37](ft)}let vt={min:0,max:t[19]};t[5]!==void 0&&(vt.startValue=t[5]),t[6]!==void 0&&(vt.endValue=t[6]),A=new Zl({props:vt}),Vt.push(()=>Fn(A,"startValue",Nt)),Vt.push(()=>Fn(A,"endValue",xt)),A.$on("startChange",t[38]),A.$on("endChange",t[39]);function Tt(ft,kt){return ft[11]?Jl:jl}let Et=Tt(t),Mt=Et(t);const ae=[eu,tu,$l],Yt=[];function In(ft,kt){return ft[10].length?0:ft[14]?1:2}return lt=In(t),nt=Yt[lt]=ae[lt](t),{c(){e=U("div"),n=U("div"),n.innerHTML=`<h1 class="title svelte-125uapq">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the
      articles are similar in meaning.</p>`,r=ct(),i=U("div"),o=U("div"),s=U("div"),l=U("button"),l.textContent="Reset filters",u=ct(),a=U("div"),a.innerHTML=`<details close=""><summary class="svelte-125uapq">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-125uapq"><p class="svelte-125uapq">Semantic maps are tools that allow users to visually explore how
              different topics and ideas are connected. By analyzing the
              relationships between articles, these maps can reveal patterns and
              clusters in the data.</p> 
            <p class="svelte-125uapq">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-125uapq"><li class="svelte-125uapq">Audit their coverage by identifying themes that may be
                underrepresented or overlooked.</li> 
              <li class="svelte-125uapq">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-125uapq">Discover which topics are being covered by other outlets,
                offering opportunities to adjust their editorial focus or
                collaborate.</li></ul></div></details>`,c=ct(),h=U("label"),h.textContent="\u{1F4C1} Upload CSV:",m=ct(),_=U("input"),x=ct(),L=U("label"),L.textContent="\u{1F50D} Search Text (supports regex):",E=ct(),S=U("input"),T=ct(),mt&&mt.c(),H=ct(),wt&&wt.c(),tt=ct(),J=U("label"),J.textContent="\u{1F4A1} Adjust Opacity:",K=ct(),X=U("input"),f=ct(),d=U("div"),w=U("label"),w.textContent="\u{1F4C5} Date Range:",v=ct(),C=U("input"),p=ct(),D=U("input"),b=ct(),kn(A.$$.fragment),q=ct(),P=U("div"),F=U("span"),rt=bt(j),st=ct(),pt=U("span"),$=bt(Q),gt=ct(),G=U("div"),dt=U("button"),dt.textContent="-1W",y=ct(),V=U("button"),V.textContent="-1D",Z=ct(),W=U("button"),Mt.c(),M=ct(),N=U("button"),N.textContent="+1D",B=ct(),O=U("button"),O.textContent="+1W",at=ct(),et=U("div"),nt.c(),R(n,"class","title-section svelte-125uapq"),R(l,"class","reset-btn svelte-125uapq"),R(s,"class","filter-actions svelte-125uapq"),R(a,"class","nerd-box svelte-125uapq"),R(h,"for","file-upload"),R(h,"class","svelte-125uapq"),R(_,"id","file-upload"),R(_,"type","file"),R(_,"accept",".csv"),R(_,"class","svelte-125uapq"),R(L,"for","search-input"),R(L,"class","svelte-125uapq"),R(S,"id","search-input"),R(S,"type","text"),R(S,"placeholder","Search or regex pattern..."),R(S,"class","svelte-125uapq"),R(J,"for","opacity-slider"),R(J,"class","svelte-125uapq"),R(X,"id","opacity-slider"),R(X,"type","range"),R(X,"min","0"),R(X,"max",".3"),R(X,"step","0.01"),R(X,"class","svelte-125uapq"),R(w,"for","start-date"),R(w,"class","svelte-125uapq"),R(C,"id","start-date"),R(C,"type","date"),C.value=Y=Ut(t[3]),R(C,"max","2025-07-01"),R(C,"class","svelte-125uapq"),R(D,"id","end-date"),R(D,"type","date"),D.value=g=Ut(t[4]),R(D,"max","2025-07-01"),R(D,"class","svelte-125uapq"),R(P,"class","date-range-labels svelte-125uapq"),R(dt,"class","svelte-125uapq"),R(V,"class","svelte-125uapq"),R(W,"class","play-button svelte-125uapq"),R(N,"class","svelte-125uapq"),R(O,"class","svelte-125uapq"),R(G,"class","date-navigation svelte-125uapq"),R(d,"class","date-controls svelte-125uapq"),R(o,"class","filter-panel svelte-125uapq"),R(et,"class","scatterplot-container svelte-125uapq"),R(i,"class","content svelte-125uapq"),R(e,"class","container svelte-125uapq")},m(ft,kt){ot(ft,e,kt),z(e,n),z(e,r),z(e,i),z(i,o),z(o,s),z(s,l),z(o,u),z(o,a),z(o,c),z(o,h),z(o,m),z(o,_),z(o,x),z(o,L),z(o,E),z(o,S),z(o,T),mt&&mt.m(o,null),z(o,H),wt&&wt.m(o,null),z(o,tt),z(o,J),z(o,K),z(o,X),qn(X,t[9]),z(o,f),z(o,d),z(d,w),z(d,v),z(d,C),z(d,p),z(d,D),z(d,b),Ke(A,d,null),z(d,q),z(d,P),z(P,F),z(F,rt),z(P,st),z(P,pt),z(pt,$),z(d,gt),z(d,G),z(G,dt),z(G,y),z(G,V),z(G,Z),z(G,W),Mt.m(W,null),z(G,M),z(G,N),z(G,B),z(G,O),z(i,at),z(i,et),Yt[lt].m(et,null),ht=!0,ut||(yt=[_t(l,"click",t[28]),_t(_,"change",t[23]),_t(S,"input",t[26]),_t(X,"change",t[33]),_t(X,"input",t[33]),_t(X,"input",t[27]),_t(C,"change",t[34]),_t(D,"change",t[35]),_t(dt,"click",t[40]),_t(V,"click",t[41]),_t(W,"click",t[25]),_t(N,"click",t[42]),_t(O,"click",t[43])],ut=!0)},p(ft,kt){ft[8].length?mt?mt.p(ft,kt):(mt=br(ft),mt.c(),mt.m(o,H)):mt&&(mt.d(1),mt=null),ft[1].length?wt?wt.p(ft,kt):(wt=kr(ft),wt.c(),wt.m(o,tt)):wt&&(wt.d(1),wt=null),kt[0]&512&&qn(X,ft[9]),(!ht||kt[0]&8&&Y!==(Y=Ut(ft[3])))&&(C.value=Y),(!ht||kt[0]&16&&g!==(g=Ut(ft[4])))&&(D.value=g);const ve={};kt[0]&524288&&(ve.max=ft[19]),!k&&kt[0]&32&&(k=!0,ve.startValue=ft[5],Pn(()=>k=!1)),!I&&kt[0]&64&&(I=!0,ve.endValue=ft[6],Pn(()=>I=!1)),A.$set(ve),(!ht||kt[0]&8)&&j!==(j=Ut(ft[3])+"")&&Dt(rt,j),(!ht||kt[0]&16)&&Q!==(Q=Ut(ft[4])+"")&&Dt($,Q),Et!==(Et=Tt(ft))&&(Mt.d(1),Mt=Et(ft),Mt&&(Mt.c(),Mt.m(W,null)));let tn=lt;lt=In(ft),lt===tn?Yt[lt].p(ft,kt):(Rr(),Zt(Yt[tn],1,1,()=>{Yt[tn]=null}),Nr(),nt=Yt[lt],nt?nt.p(ft,kt):(nt=Yt[lt]=ae[lt](ft),nt.c()),Xt(nt,1),nt.m(et,null))},i(ft){ht||(Xt(A.$$.fragment,ft),Xt(nt),ht=!0)},o(ft){Zt(A.$$.fragment,ft),Zt(nt),ht=!1},d(ft){ft&&it(e),mt&&mt.d(),wt&&wt.d(),Qe(A),Mt.d(),Yt[lt].d(),ut=!1,Ht(yt)}}}const fu="2025-07-01";function ne(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Ut(t){return t?t.toISOString().split("T")[0]:""}function cu(t,e,n){let r,i;const o="https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",s=new Date(fu);let l=[],u=[],a="org",c=[],h=new Set,m=.04,_=null,x=null,L=[],E=[],S=0,T=0,H=!1,tt=null,J=[],K="",X=!1,f=!1,d="idle",w=0,v=0,C=0;xn(async()=>{try{n(14,f=!0),n(15,d="downloading"),n(16,w=0),n(17,v=0),n(18,C=0);const M=await fetch(o,{mode:"cors",cache:"no-store"});if(!M.ok)throw new Error(`HTTP ${M.status}`);const N=M.headers.get("content-length");n(17,v=N?parseInt(N,10):0);let B="";if(M.body&&M.body.getReader){const O=M.body.getReader(),at=[];let et=0;for(;;){const{done:ht,value:ut}=await O.read();if(ht)break;at.push(ut),et+=ut.byteLength,n(16,w=et),v&&n(18,C=Math.round(et/v*100))}const lt=new Uint8Array(et);let nt=0;for(const ht of at)lt.set(ht,nt),nt+=ht.byteLength;B=new TextDecoder().decode(lt),console.log("CSV head:",B.split(`
`).slice(0,5).join(`
`))}else B=await M.text();n(15,d="parsing"),await Promise.resolve(Y(B)),n(15,d="idle")}catch(M){console.error("Failed to load CSV:",M)}finally{n(14,f=!1)}return()=>{tt&&clearInterval(tt)}});function Y(M){const N=M.split(/\r?\n/);if(N.length>0){const at=N[0].split(",").map(et=>et.trim().toLowerCase()).join(",");N[0]=at,M=N.join(`
`)}const B=ki.parse(M,{header:!0});n(29,l=B.data.filter(O=>O.x&&O.y&&O.date).map((O,at)=>({...O,x:+O.x,y:+O.y,date:new Date(O.date),id:at}))),n(30,u=B.meta.fields||[]),n(31,E=[...new Set(l.map(O=>O.date.getTime()))].sort((O,at)=>O-at).map(O=>new Date(O))),n(3,_=E[0]),n(4,x=E[E.length-1]),x&&x.getTime()>s.getTime()&&n(4,x=new Date(s)),n(5,S=0),n(6,T=i),b(),a&&n(1,c=[...new Set(l.map(O=>O[a]).filter(O=>O!=null&&O!==""))].sort((O,at)=>String(O).localeCompare(String(at))))}function p(M){n(0,a=M.target.value),n(1,c=a?[...new Set(l.map(N=>N[a]).filter(Boolean))].sort((N,B)=>String(N).localeCompare(String(B))):[]),n(2,h=new Set),n(13,X=!1)}function D(M){const N=[...M.target.selectedOptions].map(O=>O.value);N.length===c.length||N.length===0?(n(2,h=new Set),n(7,J=[])):(n(2,h=new Set(N)),n(7,J=l.filter(O=>h.has(O[a])&&(!_||O.date>=_)&&(!x||O.date<=x)))),n(13,X=!1)}function g(M,N,B=!1){B?(n(3,_=E[M]||E[0]),n(4,x=E[N]||E[E.length-1]),x&&x.getTime()>s.getTime()&&n(4,x=new Date(s))):(n(3,_=M),n(4,x=N&&new Date(Math.min(N.getTime(),s.getTime())))),n(13,X=!1),b()}function b(){if(_){const M=_.getTime();n(5,S=Math.max(0,E.findIndex(N=>N.getTime()>=M)))}else n(5,S=0);if(x){const M=s.getTime(),N=Math.min(x.getTime(),M);let B=-1;for(let O=E.length-1;O>=0;O--)if(E[O].getTime()<=N){B=O;break}n(6,T=B>=0?B:0)}else n(6,T=i);S>T&&n(5,S=T),T<S&&n(6,T=S)}function A(M,N){if(M.detail!==void 0)N==="start"?(n(5,S=M.detail),S>T&&n(5,S=T)):(n(6,T=M.detail),T<S&&n(6,T=S)),g(S,T,!0);else{const B=M.target.value?new Date(M.target.value):null;N==="start"?g(B,x):g(_,B),b()}}function k(M){const N=M.target.files[0];if(N){const B=new FileReader;n(13,X=!1),B.onload=O=>Y(O.target.result),B.readAsText(N)}}function I(M){const N=T-S;let B=S+M,O=T+M;B<0&&(B=0,O=N),O>=E.length&&(O=E.length-1,B=Math.max(0,O-N)),n(5,S=B),n(6,T=O),g(S,T,!0)}function q(){H?(clearInterval(tt),n(11,H=!1)):(n(11,H=!0),n(13,X=!1),tt=setInterval(()=>{if(T>=E.length-1){clearInterval(tt),n(11,H=!1);return}I(1)},500))}function P(M){n(12,K=M.target.value),n(13,X=!1)}function F(){n(13,X=!1)}function j(){H&&tt&&(clearInterval(tt),n(11,H=!1));const M=u.includes("org")?"org":r[0]||"";n(0,a=M),n(2,h=new Set),n(7,J=[]),n(12,K=""),n(13,X=!1),n(9,m=.04),E.length?(n(5,S=0),n(6,T=E.length-1),g(S,T,!0)):(n(3,_=null),n(4,x=null),n(5,S=0),n(6,T=0))}function rt(){a=gi(this),n(0,a),n(30,u),n(8,r),n(8,r),n(30,u)}function st(){m=di(this.value),n(9,m)}const pt=M=>A(M,"start"),Q=M=>A(M,"end");function $(M){S=M,n(5,S)}function gt(M){T=M,n(6,T)}const G=M=>A(M,"start"),dt=M=>A(M,"end"),y=()=>I(-7),V=()=>I(-1),Z=()=>I(1),W=()=>I(7);return t.$$.update=()=>{t.$$.dirty[0]&128&&new Set(J.map(M=>M.id)),t.$$.dirty[0]&1073741824&&n(8,r=u.filter(M=>M==="org"||M==="cluster")),t.$$.dirty[0]&1073742081&&(!u||u.length===0||(r.length&&!r.includes(a)?n(0,a=r[0]):r.length===0&&n(0,a=""))),t.$$.dirty[0]&536870943&&n(10,L=l.map(M=>({...M,isHighlighted:h.size>0&&h.size<c.length&&h.has(M[a])&&(!_||M.date>=_)&&(!x||M.date<=x)}))),t.$$.dirty[0]&32|t.$$.dirty[1]&1&&E.length>1&&S/(E.length-1)*100,t.$$.dirty[0]&64|t.$$.dirty[1]&1&&E.length>1&&T/(E.length-1)*100,t.$$.dirty[1]&1&&n(19,i=(()=>{if(!E||E.length===0)return 0;const M=s.getTime(),N=E.findIndex(B=>B.getTime()>M);return N===-1?E.length-1:Math.max(0,N-1)})())},/^https?:\/\//i.test(o),[a,c,h,_,x,S,T,J,r,m,L,H,K,X,f,d,w,v,C,i,p,D,A,k,I,q,P,F,j,l,u,E,rt,st,pt,Q,$,gt,G,dt,y,V,Z,W]}class hu extends Ze{constructor(e){super(),Ge(this,e,cu,uu,We,{},null,[-1,-1])}}new hu({target:document.getElementById("app")});
