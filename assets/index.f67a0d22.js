(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function Sr(t){return t()}function On(){return Object.create(null)}function Ut(t){t.forEach(Sr)}function Er(t){return typeof t=="function"}function We(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hi(t){return Object.keys(t).length===0}function O(t,e){t.appendChild(e)}function at(t,e,n){t.insertBefore(e,n||null)}function st(t){t.parentNode.removeChild(t)}function Cr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function U(t){return document.createElement(t)}function bt(t){return document.createTextNode(t)}function ut(){return bt(" ")}function Ar(){return bt("")}function _t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function D(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function di(t){return t===""?null:+t}function pi(t){return Array.from(t.childNodes)}function Tt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function qn(t,e){t.value=e==null?"":e}function St(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Ln(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function gi(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function mi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let de;function he(t){de=t}function Tr(){if(!de)throw new Error("Function called outside component initialization");return de}function xn(t){Tr().$$.on_mount.push(t)}function _i(){const t=Tr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=mi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const ue=[],Bt=[],Ae=[],sn=[],yi=Promise.resolve();let an=!1;function wi(){an||(an=!0,yi.then(Dr))}function Oe(t){Ae.push(t)}function Pn(t){sn.push(t)}const en=new Set;let ve=0;function Dr(){const t=de;do{for(;ve<ue.length;){const e=ue[ve];ve++,he(e),vi(e.$$)}for(he(null),ue.length=0,ve=0;Bt.length;)Bt.pop()();for(let e=0;e<Ae.length;e+=1){const n=Ae[e];en.has(n)||(en.add(n),n())}Ae.length=0}while(ue.length);for(;sn.length;)sn.pop()();an=!1,en.clear(),he(t)}function vi(t){if(t.fragment!==null){t.update(),Ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Oe)}}const Te=new Set;let Gt;function Rr(){Gt={r:0,c:[],p:Gt}}function Nr(){Gt.r||Ut(Gt.c),Gt=Gt.p}function Ht(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function jt(t,e,n,r){if(t&&t.o){if(Te.has(t))return;Te.add(t),Gt.c.push(()=>{Te.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Fn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function kn(t){t&&t.c()}function Ke(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Oe(()=>{const s=t.$$.on_mount.map(Sr).filter(Er);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ut(s),t.$$.on_mount=[]}),o.forEach(Oe)}function Qe(t,e){const n=t.$$;n.fragment!==null&&(Ut(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bi(t,e){t.$$.dirty[0]===-1&&(ue.push(t),wi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,n,r,i,o,s,l=[-1]){const u=de;he(t);const a=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:On(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:On(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=n?n(t,e.props||{},(h,m,...y)=>{const x=y.length?y[0]:m;return a.ctx&&i(a.ctx[h],a.ctx[h]=x)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](x),c&&bi(t,h)),m}):[],a.update(),c=!0,Ut(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const h=pi(e.target);a.fragment&&a.fragment.l(h),h.forEach(st)}else a.fragment&&a.fragment.c();e.intro&&Ht(t.$$.fragment),Ke(t,e.target,e.anchor,e.customElement),Dr()}he(u)}class Ze{$destroy(){Qe(this,1),this.$destroy=At}$on(e,n){if(!Er(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!hi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(xi,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function c(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(f){var w=Z(f);w.chunkSize=parseInt(w.chunkSize),f.step||f.chunk||(w.chunkSize=null),this._handle=new F(w),(this._handle.streamer=this)._config=w}.call(this,d),this.parseChunk=function(f,w){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let X=this._config.newline;X||(S=this._config.quoteChar||'"',X=this._handle.guessLineEndings(f,S)),f=[...f.split(X).slice(b)].join(X)}this.isFirstChunk&&z(this._config.beforeFirstChunk)&&(S=this._config.beforeFirstChunk(f))!==void 0&&(f=S),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+f,S=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(f=S.meta.cursor,b=(this._finished||(this._partialLine=b.substring(f-this._baseIndex),this._baseIndex=f),S&&S.data&&(this._rowCount+=S.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:S,workerId:a.WORKER_ID,finished:b});else if(z(this._config.chunk)&&!w){if(this._config.chunk(S,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=S=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(S.data),this._completeResults.errors=this._completeResults.errors.concat(S.errors),this._completeResults.meta=S.meta),this._completed||!b||!z(this._config.complete)||S&&S.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||S&&S.meta.paused||this._nextChunk(),S}this._halted=!0},this._sendError=function(f){z(this._config.error)?this._config.error(f):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:f,finished:!1})}}function h(d){var f;(d=d||{}).chunkSize||(d.chunkSize=a.RemoteChunkSize),c.call(this,d),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),o||(f.onload=ot(this._chunkLoaded,this),f.onerror=ot(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,b=this._config.downloadRequestHeaders;for(w in b)f.setRequestHeader(w,b[w])}var S;this._config.chunkSize&&(S=this._start+this._config.chunkSize-1,f.setRequestHeader("Range","bytes="+this._start+"-"+S));try{f.send(this._config.downloadRequestBody)}catch(X){this._chunkError(X.message)}o&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize||f.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(f),this.parseChunk(f.responseText)))},this._chunkError=function(w){w=f.statusText||w,this._sendError(new Error(w))}}function m(d){(d=d||{}).chunkSize||(d.chunkSize=a.LocalChunkSize),c.call(this,d);var f,w,b=typeof FileReader<"u";this.stream=function(S){this._input=S,w=S.slice||S.webkitSlice||S.mozSlice,b?((f=new FileReader).onload=ot(this._chunkLoaded,this),f.onerror=ot(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input,X=(this._config.chunkSize&&(X=Math.min(this._start+this._config.chunkSize,this._input.size),S=w.call(S,this._start,X)),f.readAsText(S,this._config.encoding));b||this._chunkLoaded({target:{result:X}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(f.error)}}function y(d){var f;c.call(this,d=d||{}),this.stream=function(w){return f=w,this._nextChunk()},this._nextChunk=function(){var w,b;if(!this._finished)return w=this._config.chunkSize,f=w?(b=f.substring(0,w),f.substring(w)):(b=f,""),this._finished=!f,this.parseChunk(b)}}function x(d){c.call(this,d=d||{});var f=[],w=!0,b=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):w=!0},this._streamData=ot(function(S){try{f.push(typeof S=="string"?S:S.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(X){this._streamError(X)}},this),this._streamError=ot(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=ot(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=ot(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function F(d){var f,w,b,S,X=Math.pow(2,53),p=-X,E=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,v=this,C=0,M=0,q=!1,I=!1,H=[],P={data:[],errors:[],meta:{}};function j(K){return d.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function et(){if(P&&b&&(ft("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),b=!1),d.skipEmptyLines&&(P.data=P.data.filter(function(pt){return!j(pt)})),dt()){let pt=function(vt,_){z(d.transformHeader)&&(vt=d.transformHeader(vt,_)),H.push(vt)};var Q=pt;if(P)if(Array.isArray(P.data[0])){for(var K=0;dt()&&K<P.data.length;K++)P.data[K].forEach(pt);P.data.splice(0,1)}else P.data.forEach(pt)}function J(pt,vt){for(var _=d.header?{}:[],B=0;B<pt.length;B++){var W=B,R=pt[B],R=((N,V)=>(L=>(d.dynamicTypingFunction&&d.dynamicTyping[L]===void 0&&(d.dynamicTyping[L]=d.dynamicTypingFunction(L)),(d.dynamicTyping[L]||d.dynamicTyping)===!0))(N)?V==="true"||V==="TRUE"||V!=="false"&&V!=="FALSE"&&((L=>{if(E.test(L)&&(L=parseFloat(L),p<L&&L<X))return 1})(V)?parseFloat(V):g.test(V)?new Date(V):V===""?null:V):V)(W=d.header?B>=H.length?"__parsed_extra":H[B]:W,R=d.transform?d.transform(R,W):R);W==="__parsed_extra"?(_[W]=_[W]||[],_[W].push(R)):_[W]=R}return d.header&&(B>H.length?ft("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+B,M+vt):B<H.length&&ft("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+B,M+vt)),_}var mt;P&&(d.header||d.dynamicTyping||d.transform)&&(mt=1,!P.data.length||Array.isArray(P.data[0])?(P.data=P.data.map(J),mt=P.data.length):P.data=J(P.data,0),d.header&&P.meta&&(P.meta.fields=H),M+=mt)}function dt(){return d.header&&H.length===0}function ft(K,J,mt,Q){K={type:K,code:J,message:mt},Q!==void 0&&(K.row=Q),P.errors.push(K)}z(d.step)&&(S=d.step,d.step=function(K){P=K,dt()?et():(et(),P.data.length!==0&&(C+=K.data.length,d.preview&&C>d.preview?w.abort():(P.data=P.data[0],S(P,v))))}),this.parse=function(K,J,mt){var Q=d.quoteChar||'"',Q=(d.newline||(d.newline=this.guessLineEndings(K,Q)),b=!1,d.delimiter?z(d.delimiter)&&(d.delimiter=d.delimiter(K),P.meta.delimiter=d.delimiter):((Q=((pt,vt,_,B,W)=>{var R,N,V,L;W=W||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var nt=0;nt<W.length;nt++){for(var $,rt=W[nt],G=0,ct=0,it=0,gt=(V=void 0,new k({comments:B,delimiter:rt,newline:vt,preview:10}).parse(pt)),ht=0;ht<gt.data.length;ht++)_&&j(gt.data[ht])?it++:($=gt.data[ht].length,ct+=$,V===void 0?V=$:0<$&&(G+=Math.abs($-V),V=$));0<gt.data.length&&(ct/=gt.data.length-it),(N===void 0||G<=N)&&(L===void 0||L<ct)&&1.99<ct&&(N=G,R=rt,L=ct)}return{successful:!!(d.delimiter=R),bestDelimiter:R}})(K,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess)).successful?d.delimiter=Q.bestDelimiter:(b=!0,d.delimiter=a.DefaultDelimiter),P.meta.delimiter=d.delimiter),Z(d));return d.preview&&d.header&&Q.preview++,f=K,w=new k(Q),P=w.parse(f,J,mt),et(),q?{meta:{paused:!0}}:P||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,w.abort(),f=z(d.chunk)?"":f.substring(w.getCharIndex())},this.resume=function(){v.streamer._halted?(q=!1,v.streamer.parseChunk(f,!0)):setTimeout(v.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,w.abort(),P.meta.aborted=!0,z(d.complete)&&d.complete(P),f=""},this.guessLineEndings=function(pt,Q){pt=pt.substring(0,1048576);var Q=new RegExp(A(Q)+"([^]*?)"+A(Q),"gm"),mt=(pt=pt.replace(Q,"")).split("\r"),Q=pt.split(`
`),pt=1<Q.length&&Q[0].length<mt[0].length;if(mt.length===1||pt)return`
`;for(var vt=0,_=0;_<mt.length;_++)mt[_][0]===`
`&&vt++;return vt>=mt.length/2?`\r
`:"\r"}}function A(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(d){var f=(d=d||{}).delimiter,w=d.newline,b=d.comments,S=d.step,X=d.preview,p=d.fastMode,E=null,g=!1,v=d.quoteChar==null?'"':d.quoteChar,C=v;if(d.escapeChar!==void 0&&(C=d.escapeChar),(typeof f!="string"||-1<a.BAD_DELIMITERS.indexOf(f))&&(f=","),b===f)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<a.BAD_DELIMITERS.indexOf(b))&&(b=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var M=0,q=!1;this.parse=function(I,H,P){if(typeof I!="string")throw new Error("Input must be a string");var j=I.length,et=f.length,dt=w.length,ft=b.length,K=z(S),J=[],mt=[],Q=[],pt=M=0;if(!I)return G();if(p||p!==!1&&I.indexOf(v)===-1){for(var vt=I.split(w),_=0;_<vt.length;_++){if(Q=vt[_],M+=Q.length,_!==vt.length-1)M+=w.length;else if(P)return G();if(!b||Q.substring(0,ft)!==b){if(K){if(J=[],L(Q.split(f)),ct(),q)return G()}else L(Q.split(f));if(X&&X<=_)return J=J.slice(0,X),G(!0)}}return G()}for(var B=I.indexOf(f,M),W=I.indexOf(w,M),R=new RegExp(A(C)+A(v),"g"),N=I.indexOf(v,M);;)if(I[M]===v)for(N=M,M++;;){if((N=I.indexOf(v,N+1))===-1)return P||mt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:M}),$();if(N===j-1)return $(I.substring(M,N).replace(R,v));if(v===C&&I[N+1]===C)N++;else if(v===C||N===0||I[N-1]!==C){B!==-1&&B<N+1&&(B=I.indexOf(f,N+1));var V=nt((W=W!==-1&&W<N+1?I.indexOf(w,N+1):W)===-1?B:Math.min(B,W));if(I.substr(N+1+V,et)===f){Q.push(I.substring(M,N).replace(R,v)),I[M=N+1+V+et]!==v&&(N=I.indexOf(v,M)),B=I.indexOf(f,M),W=I.indexOf(w,M);break}if(V=nt(W),I.substring(N+1+V,N+1+V+dt)===w){if(Q.push(I.substring(M,N).replace(R,v)),rt(N+1+V+dt),B=I.indexOf(f,M),N=I.indexOf(v,M),K&&(ct(),q))return G();if(X&&J.length>=X)return G(!0);break}mt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:M}),N++}}else if(b&&Q.length===0&&I.substring(M,M+ft)===b){if(W===-1)return G();M=W+dt,W=I.indexOf(w,M),B=I.indexOf(f,M)}else if(B!==-1&&(B<W||W===-1))Q.push(I.substring(M,B)),M=B+et,B=I.indexOf(f,M);else{if(W===-1)break;if(Q.push(I.substring(M,W)),rt(W+dt),K&&(ct(),q))return G();if(X&&J.length>=X)return G(!0)}return $();function L(it){J.push(it),pt=M}function nt(it){var gt=0;return gt=it!==-1&&(it=I.substring(N+1,it))&&it.trim()===""?it.length:gt}function $(it){return P||(it===void 0&&(it=I.substring(M)),Q.push(it),M=j,L(Q),K&&ct()),G()}function rt(it){M=it,L(Q),Q=[],W=I.indexOf(w,M)}function G(it){if(d.header&&!H&&J.length&&!g){var gt=J[0],ht={},wt=new Set(gt);let Rt=!1;for(let xt=0;xt<gt.length;xt++){let yt=gt[xt];if(ht[yt=z(d.transformHeader)?d.transformHeader(yt,xt):yt]){let kt,Nt=ht[yt];for(;kt=yt+"_"+Nt,Nt++,wt.has(kt););wt.add(kt),gt[xt]=kt,ht[yt]++,Rt=!0,(E=E===null?{}:E)[kt]=yt}else ht[yt]=1,gt[xt]=yt;wt.add(yt)}Rt&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:J,errors:mt,meta:{delimiter:f,linebreak:w,aborted:q,truncated:!!it,cursor:pt+(H||0),renamedHeaders:E}}}function ct(){S(G()),J=[],mt=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return M}}function T(d){var f=d.data,w=l[f.workerId],b=!1;if(f.error)w.userError(f.error,f.file);else if(f.results&&f.results.data){var S={abort:function(){b=!0,Y(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:tt,resume:tt};if(z(w.userStep)){for(var X=0;X<f.results.data.length&&(w.userStep({data:f.results.data[X],errors:f.results.errors,meta:f.results.meta},S),!b);X++);delete f.results}else z(w.userChunk)&&(w.userChunk(f.results,S,f.file),delete f.results)}f.finished&&!b&&Y(f.workerId,f.results)}function Y(d,f){var w=l[d];z(w.userComplete)&&w.userComplete(f),w.terminate(),delete l[d]}function tt(){throw new Error("Not implemented.")}function Z(d){if(typeof d!="object"||d===null)return d;var f,w=Array.isArray(d)?[]:{};for(f in d)w[f]=Z(d[f]);return w}function ot(d,f){return function(){d.apply(f,arguments)}}function z(d){return typeof d=="function"}return a.parse=function(d,f){var w=(f=f||{}).dynamicTyping||!1;if(z(w)&&(f.dynamicTypingFunction=w,w={}),f.dynamicTyping=w,f.transform=!!z(f.transform)&&f.transform,!f.worker||!a.WORKERS_SUPPORTED)return w=null,a.NODE_STREAM_INPUT,typeof d=="string"?(d=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(d),w=new(f.download?h:y)(f)):d.readable===!0&&z(d.read)&&z(d.on)?w=new x(f):(r.File&&d instanceof File||d instanceof Object)&&(w=new m(f)),w.stream(d);(w=(()=>{var b;return!!a.WORKERS_SUPPORTED&&(b=(()=>{var S=r.URL||r.webkitURL||null,X=n.toString();return a.BLOB_URL||(a.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",X,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=T,b.id=u++,l[b.id]=b)})()).userStep=f.step,w.userChunk=f.chunk,w.userComplete=f.complete,w.userError=f.error,f.step=z(f.step),f.chunk=z(f.chunk),f.complete=z(f.complete),f.error=z(f.error),delete f.worker,w.postMessage({input:d,config:f,workerId:w.id})},a.unparse=function(d,f){var w=!1,b=!0,S=",",X=`\r
`,p='"',E=p+p,g=!1,v=null,C=!1,M=((()=>{if(typeof f=="object"){if(typeof f.delimiter!="string"||a.BAD_DELIMITERS.filter(function(H){return f.delimiter.indexOf(H)!==-1}).length||(S=f.delimiter),typeof f.quotes!="boolean"&&typeof f.quotes!="function"&&!Array.isArray(f.quotes)||(w=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(g=f.skipEmptyLines),typeof f.newline=="string"&&(X=f.newline),typeof f.quoteChar=="string"&&(p=f.quoteChar),typeof f.header=="boolean"&&(b=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");v=f.columns}f.escapeChar!==void 0&&(E=f.escapeChar+p),f.escapeFormulae instanceof RegExp?C=f.escapeFormulae:typeof f.escapeFormulae=="boolean"&&f.escapeFormulae&&(C=/^[=+\-@\t\r].*$/)}})(),new RegExp(A(p),"g"));if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return q(null,d,g);if(typeof d[0]=="object")return q(v||Object.keys(d[0]),d,g)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||v),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),q(d.fields||[],d.data||[],g);throw new Error("Unable to serialize unrecognized input");function q(H,P,j){var et="",dt=(typeof H=="string"&&(H=JSON.parse(H)),typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(H)&&0<H.length),ft=!Array.isArray(P[0]);if(dt&&b){for(var K=0;K<H.length;K++)0<K&&(et+=S),et+=I(H[K],K);0<P.length&&(et+=X)}for(var J=0;J<P.length;J++){var mt=(dt?H:P[J]).length,Q=!1,pt=dt?Object.keys(P[J]).length===0:P[J].length===0;if(j&&!dt&&(Q=j==="greedy"?P[J].join("").trim()==="":P[J].length===1&&P[J][0].length===0),j==="greedy"&&dt){for(var vt=[],_=0;_<mt;_++){var B=ft?H[_]:_;vt.push(P[J][B])}Q=vt.join("").trim()===""}if(!Q){for(var W=0;W<mt;W++){0<W&&!pt&&(et+=S);var R=dt&&ft?H[W]:W;et+=I(P[J][R],W)}J<P.length-1&&(!j||0<mt&&!pt)&&(et+=X)}}return et}function I(H,P){var j,et;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(et=!1,C&&typeof H=="string"&&C.test(H)&&(H="'"+H,et=!0),j=H.toString().replace(M,E),(et=et||w===!0||typeof w=="function"&&w(H,P)||Array.isArray(w)&&w[P]||((dt,ft)=>{for(var K=0;K<ft.length;K++)if(-1<dt.indexOf(ft[K]))return!0;return!1})(j,a.BAD_DELIMITERS)||-1<j.indexOf(S)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?p+j+p:j)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=k,a.ParserHandle=F,a.NetworkStreamer=h,a.FileStreamer=m,a.StringStreamer=y,a.ReadableStreamStreamer=x,r.jQuery&&((i=r.jQuery).fn.parse=function(d){var f=d.config||{},w=[];return this.each(function(X){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var p=0;p<this.files.length;p++)w.push({file:this.files[p],inputElem:this,instanceConfig:i.extend({},f)})}),b(),this;function b(){if(w.length===0)z(d.complete)&&d.complete();else{var X,p,E,g,v=w[0];if(z(d.before)){var C=d.before(v.file,v.inputElem);if(typeof C=="object"){if(C.action==="abort")return X="AbortError",p=v.file,E=v.inputElem,g=C.reason,void(z(d.error)&&d.error({name:X},p,E,g));if(C.action==="skip")return void S();typeof C.config=="object"&&(v.instanceConfig=i.extend(v.instanceConfig,C.config))}else if(C==="skip")return void S()}var M=v.instanceConfig.complete;v.instanceConfig.complete=function(q){z(M)&&M(q,v.file,v.inputElem),S()},a.parse(v.file,v.instanceConfig)}}function S(){w.splice(0,1),b()}}),s&&(r.onmessage=function(d){d=d.data,a.WORKER_ID===void 0&&d&&(a.WORKER_ID=d.workerId),typeof d.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(d.input,d.config),finished:!0}):(r.File&&d.input instanceof File||d.input instanceof Object)&&(d=a.parse(d.input,d.config))&&r.postMessage({workerId:a.WORKER_ID,results:d,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(m.prototype=Object.create(c.prototype)).constructor=m,(y.prototype=Object.create(y.prototype)).constructor=y,(x.prototype=Object.create(c.prototype)).constructor=x,a})})(zr);const ki=zr.exports;function De(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ir(t){let e,n,r;t.length!==2?(e=De,n=(l,u)=>De(t(l),u),r=(l,u)=>t(l)-u):(e=t===De||t===Mi?t:Si,n=t,r=t);function i(l,u,a=0,c=l.length){if(a<c){if(e(u,u)!==0)return c;do{const h=a+c>>>1;n(l[h],u)<0?a=h+1:c=h}while(a<c)}return a}function o(l,u,a=0,c=l.length){if(a<c){if(e(u,u)!==0)return c;do{const h=a+c>>>1;n(l[h],u)<=0?a=h+1:c=h}while(a<c)}return a}function s(l,u,a=0,c=l.length){const h=i(l,u,a,c-1);return h>a&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:s,right:o}}function Si(){return 0}function Ei(t){return t===null?NaN:+t}const Ci=Ir(De),Ai=Ci.right;Ir(Ei).center;const Ti=Ai;class Vn extends Map{constructor(e,n=Ni){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Xn(this,e))}has(e){return super.has(Xn(this,e))}set(e,n){return super.set(Di(this,e),n)}delete(e){return super.delete(Ri(this,e))}}function Xn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Di({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ri({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ni(t){return t!==null&&typeof t=="object"?t.valueOf():t}var ln=Math.sqrt(50),un=Math.sqrt(10),fn=Math.sqrt(2);function zi(t,e,n){var r,i=-1,o,s,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=Or(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)/l}return r&&s.reverse(),s}function Or(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ln?10:o>=un?5:o>=fn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ln?10:o>=un?5:o>=fn?2:1)}function Ii(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ln?i*=10:o>=un?i*=5:o>=fn&&(i*=2),e<t?-i:i}function Bn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Hn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function qr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Yn=Symbol("implicit");function Lr(){var t=new Vn,e=[],n=[],r=Yn;function i(o){let s=t.get(o);if(s===void 0){if(r!==Yn)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Vn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lr(e,n).unknown(r)},qr.apply(i,arguments),i}function Mn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _e(){}var pe=.7,qe=1/pe,re="\\s*([+-]?\\d+)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oi=/^#([0-9a-f]{3,8})$/,qi=new RegExp(`^rgb\\(${re},${re},${re}\\)$`),Li=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),Pi=new RegExp(`^rgba\\(${re},${re},${re},${ge}\\)$`),Fi=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${ge}\\)$`),Vi=new RegExp(`^hsl\\(${ge},${Lt},${Lt}\\)$`),Xi=new RegExp(`^hsla\\(${ge},${Lt},${Lt},${ge}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mn(_e,$t,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wn,formatHex:Wn,formatHex8:Bi,formatHsl:Hi,formatRgb:Kn,toString:Kn});function Wn(){return this.rgb().formatHex()}function Bi(){return this.rgb().formatHex8()}function Hi(){return Fr(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function $t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Oi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qn(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?be(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?be(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qi.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Li.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pi.exec(t))?be(e[1],e[2],e[3],e[4]):(e=Fi.exec(t))?be(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vi.exec(t))?jn(e[1],e[2]/100,e[3]/100,1):(e=Xi.exec(t))?jn(e[1],e[2]/100,e[3]/100,e[4]):Un.hasOwnProperty(t)?Qn(Un[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Qn(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function be(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function Yi(t){return t instanceof _e||(t=$t(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function cn(t,e,n,r){return arguments.length===1?Yi(t):new Ct(t,e,n,r==null?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Mn(Ct,cn,Pr(_e,{brighter(t){return t=t==null?qe:Math.pow(qe,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pe:Math.pow(pe,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(Jt(this.r),Jt(this.g),Jt(this.b),Le(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gn,formatHex:Gn,formatHex8:Ui,formatRgb:Zn,toString:Zn}));function Gn(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}`}function Ui(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}${Zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zn(){const t=Le(this.opacity);return`${t===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${t===1?")":`, ${t})`}`}function Le(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zt(t){return t=Jt(t),(t<16?"0":"")+t.toString(16)}function jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,r)}function Fr(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof _e||(t=$t(t)),!t)return new Ot;if(t instanceof Ot)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Ot(s,l,u,t.opacity)}function Wi(t,e,n,r){return arguments.length===1?Fr(t):new Ot(t,e,n,r==null?1:r)}function Ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mn(Ot,Wi,Pr(_e,{brighter(t){return t=t==null?qe:Math.pow(qe,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pe:Math.pow(pe,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ot(Jn(this.h),xe(this.s),xe(this.l),Le(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Le(this.opacity);return`${t===1?"hsl(":"hsla("}${Jn(this.h)}, ${xe(this.s)*100}%, ${xe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jn(t){return t=(t||0)%360,t<0?t+360:t}function xe(t){return Math.max(0,Math.min(1,t||0))}function nn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sn=t=>()=>t;function Ki(t,e){return function(n){return t+n*e}}function Qi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gi(t){return(t=+t)==1?Vr:function(e,n){return n-e?Qi(e,n,t):Sn(isNaN(e)?n:e)}}function Vr(t,e){var n=e-t;return n?Ki(t,n):Sn(isNaN(t)?e:t)}const Pe=function t(e){var n=Gi(e);function r(i,o){var s=n((i=cn(i)).r,(o=cn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=Vr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=u(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function Zi(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ji(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ji(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=En(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function $i(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function It(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function to(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=En(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(hn.source,"g");function eo(t){return function(){return t}}function no(t){return function(e){return t(e)+""}}function Xr(t,e){var n=hn.lastIndex=rn.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=hn.exec(t))&&(i=rn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:It(r,i)})),n=rn.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?no(u[0].x):eo(e):(e=u.length,function(a){for(var c=0,h;c<e;++c)l[(h=u[c]).i]=h.x(a);return l.join("")})}function En(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sn(e):(n==="number"?It:n==="string"?(r=$t(e))?(e=r,Pe):Xr:e instanceof $t?Pe:e instanceof Date?$i:ji(e)?Zi:Array.isArray(e)?Ji:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?to:It)(t,e)}function ro(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $n=180/Math.PI,dn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Br(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*$n,skewX:Math.atan(u)*$n,scaleX:s,scaleY:l}}var ke;function io(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?dn:Br(e.a,e.b,e.c,e.d,e.e,e.f)}function oo(t){return t==null||(ke||(ke=document.createElementNS("http://www.w3.org/2000/svg","g")),ke.setAttribute("transform",t),!(t=ke.transform.baseVal.consolidate()))?dn:(t=t.matrix,Br(t.a,t.b,t.c,t.d,t.e,t.f))}function Hr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,c,h,m,y,x){if(a!==h||c!==m){var F=y.push("translate(",null,e,null,n);x.push({i:F-4,x:It(a,h)},{i:F-2,x:It(c,m)})}else(h||m)&&y.push("translate("+h+e+m+n)}function s(a,c,h,m){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),m.push({i:h.push(i(h)+"rotate(",null,r)-2,x:It(a,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(a,c,h,m){a!==c?m.push({i:h.push(i(h)+"skewX(",null,r)-2,x:It(a,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(a,c,h,m,y,x){if(a!==h||c!==m){var F=y.push(i(y)+"scale(",null,",",null,")");x.push({i:F-4,x:It(a,h)},{i:F-2,x:It(c,m)})}else(h!==1||m!==1)&&y.push(i(y)+"scale("+h+","+m+")")}return function(a,c){var h=[],m=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,h,m),s(a.rotate,c.rotate,h,m),l(a.skewX,c.skewX,h,m),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,h,m),a=c=null,function(y){for(var x=-1,F=m.length,A;++x<F;)h[(A=m[x]).i]=A.x(y);return h.join("")}}}var so=Hr(io,"px, ","px)","deg)"),ao=Hr(oo,", ",")",")"),lo=1e-12;function tr(t){return((t=Math.exp(t))+1/t)/2}function uo(t){return((t=Math.exp(t))-1/t)/2}function fo(t){return((t=Math.exp(2*t))-1)/(t+1)}const co=function t(e,n,r){function i(o,s){var l=o[0],u=o[1],a=o[2],c=s[0],h=s[1],m=s[2],y=c-l,x=h-u,F=y*y+x*x,A,k;if(F<lo)k=Math.log(m/a)/e,A=function(z){return[l+z*y,u+z*x,a*Math.exp(e*z*k)]};else{var T=Math.sqrt(F),Y=(m*m-a*a+r*F)/(2*a*n*T),tt=(m*m-a*a-r*F)/(2*m*n*T),Z=Math.log(Math.sqrt(Y*Y+1)-Y),ot=Math.log(Math.sqrt(tt*tt+1)-tt);k=(ot-Z)/e,A=function(z){var d=z*k,f=tr(Z),w=a/(n*T)*(f*fo(e*d+Z)-uo(Z));return[l+w*y,u+w*x,a*f/tr(e*d+Z)]}}return A.duration=k*1e3*e/Math.SQRT2,A}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,u=l*l;return t(s,l,u)},i}(Math.SQRT2,2,4);function ho(t){return function(){return t}}function po(t){return+t}var er=[0,1];function ee(t){return t}function pn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ho(isNaN(e)?NaN:.5)}function go(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=pn(i,r),o=n(s,o)):(r=pn(r,i),o=n(o,s)),function(l){return o(r(l))}}function _o(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=pn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var u=Ti(t,l,1,r)-1;return o[u](i[u](l))}}function yo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wo(){var t=er,e=er,n=En,r,i,o,s=ee,l,u,a;function c(){var m=Math.min(t.length,e.length);return s!==ee&&(s=go(t[0],t[m-1])),l=m>2?_o:mo,u=a=null,h}function h(m){return m==null||isNaN(m=+m)?o:(u||(u=l(t.map(r),e,n)))(r(s(m)))}return h.invert=function(m){return s(i((a||(a=l(e,t.map(r),It)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,po),c()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),c()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=ro,c()},h.clamp=function(m){return arguments.length?(s=m?!0:ee,c()):s!==ee},h.interpolate=function(m){return arguments.length?(n=m,c()):n},h.unknown=function(m){return arguments.length?(o=m,h):o},function(m,y){return r=m,i=y,c()}}function vo(){return wo()(ee,ee)}function bo(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ie(t){return t=Fe(Math.abs(t)),t?t[1]:NaN}function xo(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ko(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ve(t){if(!(e=Mo.exec(t)))throw new Error("invalid format: "+t);var e;return new Cn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ve.prototype=Cn.prototype;function Cn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function So(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yr;function Eo(t,e){var n=Fe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Yr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fe(t,Math.max(0,e+o-1))[0]}function nr(t,e){var n=Fe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bo,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nr(t*100,e),r:nr,s:Eo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ir(t){return t}var or=Array.prototype.map,sr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Co(t){var e=t.grouping===void 0||t.thousands===void 0?ir:xo(or.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ir:ko(or.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(h){h=Ve(h);var m=h.fill,y=h.align,x=h.sign,F=h.symbol,A=h.zero,k=h.width,T=h.comma,Y=h.precision,tt=h.trim,Z=h.type;Z==="n"?(T=!0,Z="g"):rr[Z]||(Y===void 0&&(Y=12),tt=!0,Z="g"),(A||m==="0"&&y==="=")&&(A=!0,m="0",y="=");var ot=F==="$"?n:F==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():"",z=F==="$"?r:/[%p]/.test(Z)?s:"",d=rr[Z],f=/[defgprs%]/.test(Z);Y=Y===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,Y)):Math.max(0,Math.min(20,Y));function w(b){var S=ot,X=z,p,E,g;if(Z==="c")X=d(b)+X,b="";else{b=+b;var v=b<0||1/b<0;if(b=isNaN(b)?u:d(Math.abs(b),Y),tt&&(b=So(b)),v&&+b==0&&x!=="+"&&(v=!1),S=(v?x==="("?x:l:x==="-"||x==="("?"":x)+S,X=(Z==="s"?sr[8+Yr/3]:"")+X+(v&&x==="("?")":""),f){for(p=-1,E=b.length;++p<E;)if(g=b.charCodeAt(p),48>g||g>57){X=(g===46?i+b.slice(p+1):b.slice(p))+X,b=b.slice(0,p);break}}}T&&!A&&(b=e(b,1/0));var C=S.length+b.length+X.length,M=C<k?new Array(k-C+1).join(m):"";switch(T&&A&&(b=e(M+b,M.length?k-X.length:1/0),M=""),y){case"<":b=S+b+X+M;break;case"=":b=S+M+b+X;break;case"^":b=M.slice(0,C=M.length>>1)+S+b+X+M.slice(C);break;default:b=M+S+b+X;break}return o(b)}return w.toString=function(){return h+""},w}function c(h,m){var y=a((h=Ve(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(ie(m)/3)))*3,F=Math.pow(10,-x),A=sr[8+x/3];return function(k){return y(F*k)+A}}return{format:a,formatPrefix:c}}var Me,Ur,Wr;Ao({thousands:",",grouping:[3],currency:["$",""]});function Ao(t){return Me=Co(t),Ur=Me.format,Wr=Me.formatPrefix,Me}function To(t){return Math.max(0,-ie(Math.abs(t)))}function Do(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ie(e)/3)))*3-ie(Math.abs(t)))}function Ro(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ie(e)-ie(t))+1}function No(t,e,n,r){var i=Ii(t,e,n),o;switch(r=Ve(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Do(i,s))&&(r.precision=o),Wr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ro(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=To(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ur(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return zi(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return No(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],u,a,c=10;for(l<s&&(a=s,s=l,l=a,a=i,i=o,o=a);c-- >0;){if(a=Or(s,l,n),a===u)return r[i]=s,r[o]=l,e(r);if(a>0)s=Math.floor(s/a)*a,l=Math.ceil(l/a)*a;else if(a<0)s=Math.ceil(s*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function gn(){var t=vo();return t.copy=function(){return yo(t,gn())},qr.apply(t,arguments),zo(t)}function Io(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Oo=Io("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function qo(t){let e;return{c(){e=U("p"),e.textContent="Hover over a circle to see details here.",D(e,"class","svelte-b094ih")},m(n,r){at(n,e,r)},p:At,d(n){n&&st(e)}}}function Lo(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",l,u,a,c=t[0].date.toISOString().split("T")[0]+"",h,m,y,x,F=t[0].text+"",A,k=t[6]&&ar(t);return{c(){e=U("h1"),r=bt(n),i=ut(),o=U("span"),l=bt(s),u=ut(),a=U("h2"),h=bt(c),m=ut(),k&&k.c(),y=ut(),x=U("p"),A=bt(F),D(e,"class","svelte-b094ih"),St(o,"background",t[2](t[0][t[1]])),D(o,"class","svelte-b094ih"),D(a,"class","svelte-b094ih"),D(x,"class","svelte-b094ih")},m(T,Y){at(T,e,Y),O(e,r),at(T,i,Y),at(T,o,Y),O(o,l),at(T,u,Y),at(T,a,Y),O(a,h),at(T,m,Y),k&&k.m(T,Y),at(T,y,Y),at(T,x,Y),O(x,A)},p(T,Y){Y&1&&n!==(n=T[0].title+"")&&Tt(r,n),Y&35&&s!==(s=(T[5]?T[5](T[1],T[0][T[1]]):T[0][T[1]])+"")&&Tt(l,s),Y&7&&St(o,"background",T[2](T[0][T[1]])),Y&1&&c!==(c=T[0].date.toISOString().split("T")[0]+"")&&Tt(h,c),T[6]?k?k.p(T,Y):(k=ar(T),k.c(),k.m(y.parentNode,y)):k&&(k.d(1),k=null),Y&1&&F!==(F=T[0].text+"")&&Tt(A,F)},d(T){T&&st(e),T&&st(i),T&&st(o),T&&st(u),T&&st(a),T&&st(m),k&&k.d(T),T&&st(y),T&&st(x)}}}function ar(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&lr(t);return{c(){r&&r.c(),n=Ar()},m(i,o){r&&r.m(i,o),at(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=lr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&st(n)}}}function lr(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=U("p"),n=U("em"),i=bt(r),D(e,"class","svelte-b094ih")},m(o,s){at(o,e,s),O(e,n),O(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Tt(i,r)},d(o){o&&st(e)}}}function Po(t){let e;function n(o,s){return o[0]?Lo:qo}let r=n(t),i=r(t);return{c(){e=U("div"),i.c(),D(e,"class","detail-card svelte-b094ih"),St(e,"left",t[3]+"px"),St(e,"top",t[4]+"px")},m(o,s){at(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&St(e,"left",o[3]+"px"),s&16&&St(e,"top",o[4]+"px")},i:At,o:At,d(o){o&&st(e),i.d()}}}function Fo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:l=0}=e,{posY:u=0}=e,{labelOverride:a=null}=e,{descriptionOverride:c=null}=e;return xn(()=>{s.domain(o.map(h=>h[i]))}),t.$$set=h=>{"hoveredData"in h&&n(0,r=h.hoveredData),"domainColumn"in h&&n(1,i=h.domainColumn),"data"in h&&n(7,o=h.data),"colorScale"in h&&n(2,s=h.colorScale),"posX"in h&&n(3,l=h.posX),"posY"in h&&n(4,u=h.posY),"labelOverride"in h&&n(5,a=h.labelOverride),"descriptionOverride"in h&&n(6,c=h.descriptionOverride)},[r,i,s,l,u,a,c,o]}class Vo extends Ze{constructor(e){super(),Ge(this,e,Fo,Po,We,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var Xo={value:()=>{}};function An(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Re(n)}function Re(t){this._=t}function Bo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Re.prototype=An.prototype={constructor:Re,on:function(t,e){var n=this._,r=Bo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ho(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ur(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ur(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Re(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ho(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ur(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xo,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var mn="http://www.w3.org/1999/xhtml";const fr={svg:"http://www.w3.org/2000/svg",xhtml:mn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function je(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),fr.hasOwnProperty(e)?{space:fr[e],local:t}:t}function Yo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mn&&e.documentElement.namespaceURI===mn?e.createElement(t):e.createElementNS(n,t)}}function Uo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kr(t){var e=je(t);return(e.local?Uo:Yo)(e)}function Wo(){}function Tn(t){return t==null?Wo:function(){return this.querySelector(t)}}function Ko(t){typeof t!="function"&&(t=Tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,c=0;c<s;++c)(u=o[c])&&(a=t.call(u,u.__data__,c,o))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new Dt(r,this._parents)}function Qo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Go(){return[]}function Qr(t){return t==null?Go:function(){return this.querySelectorAll(t)}}function Zo(t){return function(){return Qo(t.apply(this,arguments))}}function jo(t){typeof t=="function"?t=Zo(t):t=Qr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new Dt(r,i)}function Gr(t){return function(){return this.matches(t)}}function Zr(t){return function(e){return e.matches(t)}}var Jo=Array.prototype.find;function $o(t){return function(){return Jo.call(this.children,t)}}function ts(){return this.firstElementChild}function es(t){return this.select(t==null?ts:$o(typeof t=="function"?t:Zr(t)))}var ns=Array.prototype.filter;function rs(){return Array.from(this.children)}function is(t){return function(){return ns.call(this.children,t)}}function os(t){return this.selectAll(t==null?rs:is(typeof t=="function"?t:Zr(t)))}function ss(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Dt(r,this._parents)}function jr(t){return new Array(t.length)}function as(){return new Dt(this._enter||this._groups.map(jr),this._parents)}function Xe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Xe.prototype={constructor:Xe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ls(t){return function(){return t}}function us(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Xe(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function fs(t,e,n,r,i,o,s){var l,u,a=new Map,c=e.length,h=o.length,m=new Array(c),y;for(l=0;l<c;++l)(u=e[l])&&(m[l]=y=s.call(u,u.__data__,l,e)+"",a.has(y)?i[l]=u:a.set(y,u));for(l=0;l<h;++l)y=s.call(t,o[l],l,o)+"",(u=a.get(y))?(r[l]=u,u.__data__=o[l],a.delete(y)):n[l]=new Xe(t,o[l]);for(l=0;l<c;++l)(u=e[l])&&a.get(m[l])===u&&(i[l]=u)}function cs(t){return t.__data__}function hs(t,e){if(!arguments.length)return Array.from(this,cs);var n=e?fs:us,r=this._parents,i=this._groups;typeof t!="function"&&(t=ls(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var c=r[a],h=i[a],m=h.length,y=ds(t.call(c,c&&c.__data__,a,r)),x=y.length,F=l[a]=new Array(x),A=s[a]=new Array(x),k=u[a]=new Array(m);n(c,h,F,A,k,y,e);for(var T=0,Y=0,tt,Z;T<x;++T)if(tt=F[T]){for(T>=Y&&(Y=T+1);!(Z=A[Y])&&++Y<x;);tt._next=Z||null}}return s=new Dt(s,r),s._enter=l,s._exit=u,s}function ds(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ps(){return new Dt(this._exit||this._groups.map(jr),this._parents)}function gs(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ms(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],c=r[u],h=a.length,m=l[u]=new Array(h),y,x=0;x<h;++x)(y=a[x]||c[x])&&(m[x]=y);for(;u<i;++u)l[u]=n[u];return new Dt(l,this._parents)}function _s(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ys(t){t||(t=ws);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new Dt(i,this._parents).order()}function ws(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bs(){return Array.from(this)}function xs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ks(){let t=0;for(const e of this)++t;return t}function Ms(){return!this.node()}function Ss(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function Es(t){return function(){this.removeAttribute(t)}}function Cs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function As(t,e){return function(){this.setAttribute(t,e)}}function Ts(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ds(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Rs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ns(t,e){var n=je(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Cs:Es:typeof e=="function"?n.local?Rs:Ds:n.local?Ts:As)(n,e))}function Jr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zs(t){return function(){this.style.removeProperty(t)}}function Is(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Os(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qs(t,e,n){return arguments.length>1?this.each((e==null?zs:typeof e=="function"?Os:Is)(t,e,n==null?"":n)):oe(this.node(),t)}function oe(t,e){return t.style.getPropertyValue(e)||Jr(t).getComputedStyle(t,null).getPropertyValue(e)}function Ls(t){return function(){delete this[t]}}function Ps(t,e){return function(){this[t]=e}}function Fs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vs(t,e){return arguments.length>1?this.each((e==null?Ls:typeof e=="function"?Fs:Ps)(t,e)):this.node()[t]}function $r(t){return t.trim().split(/^|\s+/)}function Dn(t){return t.classList||new ti(t)}function ti(t){this._node=t,this._names=$r(t.getAttribute("class")||"")}ti.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ei(t,e){for(var n=Dn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ni(t,e){for(var n=Dn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Xs(t){return function(){ei(this,t)}}function Bs(t){return function(){ni(this,t)}}function Hs(t,e){return function(){(e.apply(this,arguments)?ei:ni)(this,t)}}function Ys(t,e){var n=$r(t+"");if(arguments.length<2){for(var r=Dn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Hs:e?Xs:Bs)(n,e))}function Us(){this.textContent=""}function Ws(t){return function(){this.textContent=t}}function Ks(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Qs(t){return arguments.length?this.each(t==null?Us:(typeof t=="function"?Ks:Ws)(t)):this.node().textContent}function Gs(){this.innerHTML=""}function Zs(t){return function(){this.innerHTML=t}}function js(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Js(t){return arguments.length?this.each(t==null?Gs:(typeof t=="function"?js:Zs)(t)):this.node().innerHTML}function $s(){this.nextSibling&&this.parentNode.appendChild(this)}function ta(){return this.each($s)}function ea(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function na(){return this.each(ea)}function ra(t){var e=typeof t=="function"?t:Kr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ia(){return null}function oa(t,e){var n=typeof t=="function"?t:Kr(t),r=e==null?ia:typeof e=="function"?e:Tn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sa(){var t=this.parentNode;t&&t.removeChild(this)}function aa(){return this.each(sa)}function la(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ua(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fa(t){return this.select(t?ua:la)}function ca(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ha(t){return function(e){t.call(this,e,this.__data__)}}function da(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function pa(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ga(t,e,n){return function(){var r=this.__on,i,o=ha(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ma(t,e,n){var r=da(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(i=0,c=l[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?ga:pa,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function ri(t,e,n){var r=Jr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _a(t,e){return function(){return ri(this,t,e)}}function ya(t,e){return function(){return ri(this,t,e.apply(this,arguments))}}function wa(t,e){return this.each((typeof e=="function"?ya:_a)(t,e))}function*va(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ii=[null];function Dt(t,e){this._groups=t,this._parents=e}function ye(){return new Dt([[document.documentElement]],ii)}function ba(){return this}Dt.prototype=ye.prototype={constructor:Dt,select:Ko,selectAll:jo,selectChild:es,selectChildren:os,filter:ss,data:hs,enter:as,exit:ps,join:gs,merge:ms,selection:ba,order:_s,sort:ys,call:vs,nodes:bs,node:xs,size:ks,empty:Ms,each:Ss,attr:Ns,style:qs,property:Vs,classed:Ys,text:Qs,html:Js,raise:ta,lower:na,append:ra,insert:oa,remove:aa,clone:fa,datum:ca,on:ma,dispatch:wa,[Symbol.iterator]:va};function Kt(t){return typeof t=="string"?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],ii)}function xa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Qt(t,e){if(t=xa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const _n={capture:!0,passive:!1};function yn(t){t.preventDefault(),t.stopImmediatePropagation()}function ka(t){var e=t.document.documentElement,n=Kt(t).on("dragstart.drag",yn,_n);"onselectstart"in e?n.on("selectstart.drag",yn,_n):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ma(t,e){var n=t.document.documentElement,r=Kt(t).on("dragstart.drag",null);e&&(r.on("click.drag",yn,_n),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var se=0,fe=0,ae=0,oi=1e3,Be,ce,He=0,te=0,Je=0,me=typeof performance=="object"&&performance.now?performance:Date,si=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Rn(){return te||(si(Sa),te=me.now()+Je)}function Sa(){te=0}function Ye(){this._call=this._time=this._next=null}Ye.prototype=ai.prototype={constructor:Ye,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Rn():+n)+(e==null?0:+e),!this._next&&ce!==this&&(ce?ce._next=this:Be=this,ce=this),this._call=t,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};function ai(t,e,n){var r=new Ye;return r.restart(t,e,n),r}function Ea(){Rn(),++se;for(var t=Be,e;t;)(e=te-t._time)>=0&&t._call.call(void 0,e),t=t._next;--se}function cr(){te=(He=me.now())+Je,se=fe=0;try{Ea()}finally{se=0,Aa(),te=0}}function Ca(){var t=me.now(),e=t-He;e>oi&&(Je-=e,He=t)}function Aa(){for(var t,e=Be,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Be=n);ce=t,wn(r)}function wn(t){if(!se){fe&&(fe=clearTimeout(fe));var e=t-te;e>24?(t<1/0&&(fe=setTimeout(cr,t-me.now()-Je)),ae&&(ae=clearInterval(ae))):(ae||(He=me.now(),ae=setInterval(Ca,oi)),se=1,si(cr))}}function hr(t,e,n){var r=new Ye;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ta=An("start","end","cancel","interrupt"),Da=[],li=0,dr=1,vn=2,Ne=3,pr=4,bn=5,ze=6;function $e(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Ra(t,n,{name:e,index:r,group:i,on:Ta,tween:Da,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:li})}function Nn(t,e){var n=qt(t,e);if(n.state>li)throw new Error("too late; already scheduled");return n}function Pt(t,e){var n=qt(t,e);if(n.state>Ne)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ra(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ai(o,0,n.time);function o(a){n.state=dr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,h,m,y;if(n.state!==dr)return u();for(c in r)if(y=r[c],y.name===n.name){if(y.state===Ne)return hr(s);y.state===pr?(y.state=ze,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[c]):+c<e&&(y.state=ze,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[c])}if(hr(function(){n.state===Ne&&(n.state=pr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=vn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vn){for(n.state=Ne,i=new Array(m=n.tween.length),c=0,h=-1;c<m;++c)(y=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=y);i.length=h+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=bn,1),h=-1,m=i.length;++h<m;)i[h].call(t,c);n.state===bn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ze,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Ie(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>vn&&r.state<bn,r.state=ze,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Na(t){return this.each(function(){Ie(this,t)})}function za(t,e){var n,r;return function(){var i=Pt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Ia(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Pt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function Oa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?za:Ia)(n,t,e))}function zn(t,e,n){var r=t._id;return t.each(function(){var i=Pt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,r).value[e]}}function ui(t,e){var n;return(typeof e=="number"?It:e instanceof $t?Pe:(n=$t(e))?(e=n,Pe):Xr)(t,e)}function qa(t){return function(){this.removeAttribute(t)}}function La(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Fa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Va(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Xa(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ba(t,e){var n=je(t),r=n==="transform"?ao:ui;return this.attrTween(t,typeof e=="function"?(n.local?Xa:Va)(n,r,zn(this,"attr."+t,e)):e==null?(n.local?La:qa)(n):(n.local?Fa:Pa)(n,r,e))}function Ha(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ya(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ua(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ya(t,o)),n}return i._value=e,i}function Wa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ha(t,o)),n}return i._value=e,i}function Ka(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=je(t);return this.tween(n,(r.local?Ua:Wa)(r,e))}function Qa(t,e){return function(){Nn(this,t).delay=+e.apply(this,arguments)}}function Ga(t,e){return e=+e,function(){Nn(this,t).delay=e}}function Za(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qa:Ga)(e,t)):qt(this.node(),e).delay}function ja(t,e){return function(){Pt(this,t).duration=+e.apply(this,arguments)}}function Ja(t,e){return e=+e,function(){Pt(this,t).duration=e}}function $a(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ja:Ja)(e,t)):qt(this.node(),e).duration}function tl(t,e){if(typeof e!="function")throw new Error;return function(){Pt(this,t).ease=e}}function el(t){var e=this._id;return arguments.length?this.each(tl(e,t)):qt(this.node(),e).ease}function nl(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Pt(this,t).ease=n}}function rl(t){if(typeof t!="function")throw new Error;return this.each(nl(this._id,t))}function il(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Yt(r,this._parents,this._name,this._id)}function ol(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],c=u.length,h=s[l]=new Array(c),m,y=0;y<c;++y)(m=u[y]||a[y])&&(h[y]=m);for(;l<r;++l)s[l]=e[l];return new Yt(s,this._parents,this._name,this._id)}function sl(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function al(t,e,n){var r,i,o=sl(e)?Nn:Pt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function ll(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(al(n,t,e))}function ul(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fl(){return this.on("end.remove",ul(this._id))}function cl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Tn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),c,h,m=0;m<u;++m)(c=l[m])&&(h=t.call(c,c.__data__,m,l))&&("__data__"in c&&(h.__data__=c.__data__),a[m]=h,$e(a[m],e,n,m,a,qt(c,n)));return new Yt(o,this._parents,e,n)}function hl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,c,h=0;h<a;++h)if(c=u[h]){for(var m=t.call(c,c.__data__,h,u),y,x=qt(c,n),F=0,A=m.length;F<A;++F)(y=m[F])&&$e(y,e,n,F,m,x);o.push(m),s.push(c)}return new Yt(o,s,e,n)}var dl=ye.prototype.constructor;function pl(){return new dl(this._groups,this._parents)}function gl(t,e){var n,r,i;return function(){var o=oe(this,t),s=(this.style.removeProperty(t),oe(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function fi(t){return function(){this.style.removeProperty(t)}}function ml(t,e,n){var r,i=n+"",o;return function(){var s=oe(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function _l(t,e,n){var r,i,o;return function(){var s=oe(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),oe(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function yl(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=Pt(this,t),a=u.on,c=u.value[o]==null?l||(l=fi(e)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(s,i=c),u.on=r}}function wl(t,e,n){var r=(t+="")=="transform"?so:ui;return e==null?this.styleTween(t,gl(t,r)).on("end.style."+t,fi(t)):typeof e=="function"?this.styleTween(t,_l(t,r,zn(this,"style."+t,e))).each(yl(this._id,t)):this.styleTween(t,ml(t,r,e),n).on("end.style."+t,null)}function vl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function bl(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&vl(t,s,n)),r}return o._value=e,o}function xl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,bl(t,e,n==null?"":n))}function kl(t){return function(){this.textContent=t}}function Ml(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Sl(t){return this.tween("text",typeof t=="function"?Ml(zn(this,"text",t)):kl(t==null?"":t+""))}function El(t){return function(e){this.textContent=t.call(this,e)}}function Cl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&El(i)),e}return r._value=t,r}function Al(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Cl(t))}function Tl(){for(var t=this._name,e=this._id,n=ci(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=qt(u,e);$e(u,t,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Yt(r,this._parents,t,n)}function Dl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=Pt(this,r),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var Rl=0;function Yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ci(){return++Rl}var Vt=ye.prototype;Yt.prototype={constructor:Yt,select:cl,selectAll:hl,selectChild:Vt.selectChild,selectChildren:Vt.selectChildren,filter:il,merge:ol,selection:pl,transition:Tl,call:Vt.call,nodes:Vt.nodes,node:Vt.node,size:Vt.size,empty:Vt.empty,each:Vt.each,on:ll,attr:Ba,attrTween:Ka,style:wl,styleTween:xl,text:Sl,textTween:Al,remove:fl,tween:Oa,delay:Za,duration:$a,ease:el,easeVarying:rl,end:Dl,[Symbol.iterator]:Vt[Symbol.iterator]};function Nl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zl={time:null,delay:0,duration:250,ease:Nl};function Il(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ol(t){var e,n;t instanceof Yt?(e=t._id,t=t._name):(e=ci(),(n=zl).time=Rn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&$e(u,t,e,a,s,n||Il(u,e));return new Yt(r,this._parents,t,e)}ye.prototype.interrupt=Na;ye.prototype.transition=Ol;const Se=t=>()=>t;function ql(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Xt(t,e,n){this.k=t,this.x=e,this.y=n}Xt.prototype={constructor:Xt,scale:function(t){return t===1?this:new Xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ue=new Xt(1,0,0);Xt.prototype;function on(t){t.stopImmediatePropagation()}function le(t){t.preventDefault(),t.stopImmediatePropagation()}function Ll(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Pl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function gr(){return this.__zoom||Ue}function Fl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Vl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Bl(){var t=Ll,e=Pl,n=Xl,r=Fl,i=Vl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=co,a=An("start","zoom","end"),c,h,m,y=500,x=150,F=0,A=10;function k(p){p.property("__zoom",gr).on("wheel.zoom",d,{passive:!1}).on("mousedown.zoom",f).on("dblclick.zoom",w).filter(i).on("touchstart.zoom",b).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(p,E,g,v){var C=p.selection?p.selection():p;C.property("__zoom",gr),p!==C?Z(p,E,g,v):C.interrupt().each(function(){ot(this,arguments).event(v).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},k.scaleBy=function(p,E,g,v){k.scaleTo(p,function(){var C=this.__zoom.k,M=typeof E=="function"?E.apply(this,arguments):E;return C*M},g,v)},k.scaleTo=function(p,E,g,v){k.transform(p,function(){var C=e.apply(this,arguments),M=this.__zoom,q=g==null?tt(C):typeof g=="function"?g.apply(this,arguments):g,I=M.invert(q),H=typeof E=="function"?E.apply(this,arguments):E;return n(Y(T(M,H),q,I),C,s)},g,v)},k.translateBy=function(p,E,g,v){k.transform(p,function(){return n(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,v)},k.translateTo=function(p,E,g,v,C){k.transform(p,function(){var M=e.apply(this,arguments),q=this.__zoom,I=v==null?tt(M):typeof v=="function"?v.apply(this,arguments):v;return n(Ue.translate(I[0],I[1]).scale(q.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof g=="function"?-g.apply(this,arguments):-g),M,s)},v,C)};function T(p,E){return E=Math.max(o[0],Math.min(o[1],E)),E===p.k?p:new Xt(E,p.x,p.y)}function Y(p,E,g){var v=E[0]-g[0]*p.k,C=E[1]-g[1]*p.k;return v===p.x&&C===p.y?p:new Xt(p.k,v,C)}function tt(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function Z(p,E,g,v){p.on("start.zoom",function(){ot(this,arguments).event(v).start()}).on("interrupt.zoom end.zoom",function(){ot(this,arguments).event(v).end()}).tween("zoom",function(){var C=this,M=arguments,q=ot(C,M).event(v),I=e.apply(C,M),H=g==null?tt(I):typeof g=="function"?g.apply(C,M):g,P=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),j=C.__zoom,et=typeof E=="function"?E.apply(C,M):E,dt=u(j.invert(H).concat(P/j.k),et.invert(H).concat(P/et.k));return function(ft){if(ft===1)ft=et;else{var K=dt(ft),J=P/K[2];ft=new Xt(J,H[0]-K[0]*J,H[1]-K[1]*J)}q.zoom(null,ft)}})}function ot(p,E,g){return!g&&p.__zooming||new z(p,E)}function z(p,E){this.that=p,this.args=E,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,E),this.taps=0}z.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,E){return this.mouse&&p!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var E=Kt(this.that).datum();a.call(p,this.that,new ql(p,{sourceEvent:this.sourceEvent,target:k,type:p,transform:this.that.__zoom,dispatch:a}),E)}};function d(p,...E){if(!t.apply(this,arguments))return;var g=ot(this,E).event(p),v=this.__zoom,C=Math.max(o[0],Math.min(o[1],v.k*Math.pow(2,r.apply(this,arguments)))),M=Qt(p);if(g.wheel)(g.mouse[0][0]!==M[0]||g.mouse[0][1]!==M[1])&&(g.mouse[1]=v.invert(g.mouse[0]=M)),clearTimeout(g.wheel);else{if(v.k===C)return;g.mouse=[M,v.invert(M)],Ie(this),g.start()}le(p),g.wheel=setTimeout(q,x),g.zoom("mouse",n(Y(T(v,C),g.mouse[0],g.mouse[1]),g.extent,s));function q(){g.wheel=null,g.end()}}function f(p,...E){if(m||!t.apply(this,arguments))return;var g=p.currentTarget,v=ot(this,E,!0).event(p),C=Kt(p.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",P,!0),M=Qt(p,g),q=p.clientX,I=p.clientY;ka(p.view),on(p),v.mouse=[M,this.__zoom.invert(M)],Ie(this),v.start();function H(j){if(le(j),!v.moved){var et=j.clientX-q,dt=j.clientY-I;v.moved=et*et+dt*dt>F}v.event(j).zoom("mouse",n(Y(v.that.__zoom,v.mouse[0]=Qt(j,g),v.mouse[1]),v.extent,s))}function P(j){C.on("mousemove.zoom mouseup.zoom",null),Ma(j.view,v.moved),le(j),v.event(j).end()}}function w(p,...E){if(!!t.apply(this,arguments)){var g=this.__zoom,v=Qt(p.changedTouches?p.changedTouches[0]:p,this),C=g.invert(v),M=g.k*(p.shiftKey?.5:2),q=n(Y(T(g,M),v,C),e.apply(this,E),s);le(p),l>0?Kt(this).transition().duration(l).call(Z,q,v,p):Kt(this).call(k.transform,q,v,p)}}function b(p,...E){if(!!t.apply(this,arguments)){var g=p.touches,v=g.length,C=ot(this,E,p.changedTouches.length===v).event(p),M,q,I,H;for(on(p),q=0;q<v;++q)I=g[q],H=Qt(I,this),H=[H,this.__zoom.invert(H),I.identifier],C.touch0?!C.touch1&&C.touch0[2]!==H[2]&&(C.touch1=H,C.taps=0):(C.touch0=H,M=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),M&&(C.taps<2&&(h=H[0],c=setTimeout(function(){c=null},y)),Ie(this),C.start())}}function S(p,...E){if(!!this.__zooming){var g=ot(this,E).event(p),v=p.changedTouches,C=v.length,M,q,I,H;for(le(p),M=0;M<C;++M)q=v[M],I=Qt(q,this),g.touch0&&g.touch0[2]===q.identifier?g.touch0[0]=I:g.touch1&&g.touch1[2]===q.identifier&&(g.touch1[0]=I);if(q=g.that.__zoom,g.touch1){var P=g.touch0[0],j=g.touch0[1],et=g.touch1[0],dt=g.touch1[1],ft=(ft=et[0]-P[0])*ft+(ft=et[1]-P[1])*ft,K=(K=dt[0]-j[0])*K+(K=dt[1]-j[1])*K;q=T(q,Math.sqrt(ft/K)),I=[(P[0]+et[0])/2,(P[1]+et[1])/2],H=[(j[0]+dt[0])/2,(j[1]+dt[1])/2]}else if(g.touch0)I=g.touch0[0],H=g.touch0[1];else return;g.zoom("touch",n(Y(q,I,H),g.extent,s))}}function X(p,...E){if(!!this.__zooming){var g=ot(this,E).event(p),v=p.changedTouches,C=v.length,M,q;for(on(p),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),M=0;M<C;++M)q=v[M],g.touch0&&g.touch0[2]===q.identifier?delete g.touch0:g.touch1&&g.touch1[2]===q.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(q=Qt(q,this),Math.hypot(h[0]-q[0],h[1]-q[1])<A)){var I=Kt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return k.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:Se(+p),k):r},k.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Se(!!p),k):t},k.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:Se(!!p),k):i},k.extent=function(p){return arguments.length?(e=typeof p=="function"?p:Se([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),k):e},k.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],k):[o[0],o[1]]},k.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],k):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},k.constrain=function(p){return arguments.length?(n=p,k):n},k.duration=function(p){return arguments.length?(l=+p,k):l},k.interpolate=function(p){return arguments.length?(u=p,k):u},k.on=function(){var p=a.on.apply(a,arguments);return p===a?k:p},k.clickDistance=function(p){return arguments.length?(F=(p=+p)*p,k):Math.sqrt(F)},k.tapDistance=function(p){return arguments.length?(A=+p,k):A},k}function mr(t){let e,n;return e=new Vo({props:{hoveredData:t[6],data:t[0],domainColumn:t[1],colorScale:t[9],posX:t[7],posY:t[8]}}),{c(){kn(e.$$.fragment)},m(r,i){Ke(e,r,i),n=!0},p(r,i){const o={};i[0]&64&&(o.hoveredData=r[6]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&512&&(o.colorScale=r[9]),i[0]&128&&(o.posX=r[7]),i[0]&256&&(o.posY=r[8]),e.$set(o)},i(r){n||(Ht(e.$$.fragment,r),n=!0)},o(r){jt(e.$$.fragment,r),n=!1},d(r){Qe(e,r)}}}function Hl(t){let e,n,r,i,o,s,l,u,a,c,h,m,y,x=t[6]&&mr(t);return{c(){e=U("div"),n=U("div"),r=U("button"),r.textContent="+",i=ut(),o=U("button"),o.textContent="\u2212",s=ut(),l=U("button"),l.textContent="\u27F2",u=ut(),a=U("canvas"),c=ut(),x&&x.c(),D(r,"class","zoom-btn svelte-1q7voxg"),D(r,"aria-label","Zoom in"),D(r,"title","Zoom in"),D(o,"class","zoom-btn svelte-1q7voxg"),D(o,"aria-label","Zoom out"),D(o,"title","Zoom out"),D(l,"class","zoom-btn svelte-1q7voxg"),D(l,"aria-label","Reset zoom"),D(l,"title","Reset zoom"),D(n,"class","zoom-controls svelte-1q7voxg"),D(n,"aria-label","Zoom controls"),D(a,"width",t[2]),D(a,"height",t[3]),D(a,"class","svelte-1q7voxg"),D(e,"class","chart-container svelte-1q7voxg")},m(F,A){at(F,e,A),O(e,n),O(n,r),O(n,i),O(n,o),O(n,s),O(n,l),O(e,u),O(e,a),t[31](a),O(e,c),x&&x.m(e,null),t[32](e),h=!0,m||(y=[_t(r,"click",t[13]),_t(o,"click",t[14]),_t(l,"click",t[15]),_t(a,"mousemove",t[10]),_t(a,"mouseleave",t[12]),_t(a,"click",t[11])],m=!0)},p(F,A){(!h||A[0]&4)&&D(a,"width",F[2]),(!h||A[0]&8)&&D(a,"height",F[3]),F[6]?x?(x.p(F,A),A[0]&64&&Ht(x,1)):(x=mr(F),x.c(),Ht(x,1),x.m(e,null)):x&&(Rr(),jt(x,1,1,()=>{x=null}),Nr())},i(F){h||(Ht(x),h=!0)},o(F){jt(x),h=!1},d(F){F&&st(e),t[31](null),x&&x.d(),t[32](null),m=!1,Ut(y)}}}const Ee=6,Yl=.5,Ul=20,_r=280,yr=160;function Ce(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Wl(t,e,n){let r,i,o,s,l,u,a,c,h,{data:m=[]}=e,{domainColumn:y=""}=e,{opacity:x=1}=e,{selectedValues:F=new Set}=e,{searchQuery:A=""}=e,{showAnnotations:k=!0}=e,{highlightedData:T=[]}=e,{startDate:Y=null}=e,{endDate:tt=null}=e,{uniqueValues:Z=[]}=e,ot=[],z,d,f,w=800,b=600;const S={top:20,right:20,bottom:20,left:20};let X=null,p=null,E=Ue,g,v,C=0,M=0,q,I=1;function H(){if(!z||!d)return;const _=d.getBoundingClientRect();_.width>0&&_.height>0&&(n(2,w=Math.floor(_.width)),n(3,b=Math.floor(_.height))),I=Math.max(window.devicePixelRatio||1,1),n(4,z.style.width="100%",z),n(4,z.style.height="100%",z),n(4,z.width=Math.max(1,Math.floor(w*I)),z),n(4,z.height=Math.max(1,Math.floor(b*I)),z),n(24,f=z.getContext("2d")),f.setTransform(I,0,0,I,0,0)}function P(){if(!(!f||!m.length)){if(f.clearRect(0,0,w,b),f.save(),f.translate(E.x,E.y),f.scale(E.k,E.k),m.forEach(_=>{f.beginPath(),f.arc(S.left+u(_.x),S.top+h(_.y),Math.max(.5,Ee/E.k),0,Math.PI*2),n(24,f.fillStyle=q(_[y]),f);const B=.9,W=Math.max(0,Math.min(1,x));n(24,f.globalAlpha=_.isActive?B:W,f),f.fill(),n(24,f.globalAlpha=.2,f)}),k&&ot.forEach(_=>{n(24,f.globalAlpha=1,f),f.beginPath(),f.arc(_.x,_.y,_.radius,0,Math.PI*2),n(24,f.strokeStyle="red",f),n(24,f.lineWidth=2,f),f.setLineDash([5,5]),f.stroke();const B=180,W=12;n(24,f.font="16px Arial",f);const R=_.x+_.label_x,N=_.y+_.label_y;let V=0,L=0,nt=[];if(_.label){const xt=_.label.split(" ");let yt="";xt.forEach((kt,Nt)=>{const Et=yt+kt+" ";f.measureText(Et).width>B&&Nt>0?(nt.push(yt),V=Math.max(V,f.measureText(yt).width),yt=kt+" "):yt=Et}),nt.push(yt),V=Math.max(V,f.measureText(yt).width),L=W*nt.length}const $=R,rt=N-W,G=V,ct=L;let it,gt;_.x<$?it=$:_.x>$+G?it=$+G:it=_.x,_.y<rt?gt=rt:_.y>rt+ct?gt=rt+ct:gt=_.y;const ht=Math.atan2(gt-_.y,it-_.x),wt=_.x+_.radius*Math.cos(ht),Rt=_.y+_.radius*Math.sin(ht);if(f.setLineDash([]),f.beginPath(),f.moveTo(wt,Rt),f.lineTo(it,gt),n(24,f.strokeStyle="red",f),n(24,f.lineWidth=1,f),f.stroke(),_.label){n(24,f.font="16px Arial",f),n(24,f.fillStyle="red",f);const xt=16;nt.forEach((yt,kt)=>{f.fillText(yt,R,N+kt*xt)})}}),f.setLineDash([]),X){const _=S.left+u(X.x),B=S.top+h(X.y);f.beginPath(),f.arc(_,B,Math.max(.5,Ee/E.k),0,Math.PI*2),n(24,f.fillStyle=q(X[y]),f),n(24,f.globalAlpha=1,f),f.fill(),n(24,f.strokeStyle="black",f),n(24,f.lineWidth=Math.max(1,2/E.k),f),f.stroke();const[W,R]=[E.applyX(_),E.applyY(B)];let N=W+12;N+_r>w-S.right&&(N=W-12-_r);let V=R-yr*.5;const L=S.top+8,nt=b-S.bottom-(yr+8);V=Math.max(L,Math.min(V,nt)),n(7,C=N),n(8,M=V)}f.restore()}}function j(_){const B=z.getBoundingClientRect(),W=w/B.width,R=b/B.height,N=(_.clientX-B.left)*W,V=(_.clientY-B.top)*R,[L,nt]=E.invert([N,V]),$=m.find(rt=>{var Et,Ft;const G=S.left+u(rt.x),ct=S.top+h(rt.y),it=G-L,gt=ct-nt,ht=Math.sqrt(it*it+gt*gt)<(Ee+3)/E.k,Rt=!!(A&&String(A).trim().length)?Ce((Et=rt.title)!=null?Et:"",A)||Ce((Ft=rt.text)!=null?Ft:"",A):!0,yt=F&&F.size>0&&F.size<r?F.has(rt[y]):!0,kt=Y&&tt?rt.date>=Y&&rt.date<=tt:!0;return ht&&(Rt&&yt&&kt)});$?(n(6,X=$),p=$,n(4,z.style.cursor="pointer",z)):(n(6,X=null),p=null,n(4,z.style.cursor="crosshair",z)),P()}function et(_){const B=z.getBoundingClientRect(),W=w/B.width,R=b/B.height,N=(_.clientX-B.left)*W,V=(_.clientY-B.top)*R,[L,nt]=E.invert([N,V]),$=m.find(G=>{var Ft,zt;const ct=S.left+u(G.x),it=S.top+h(G.y),gt=ct-L,ht=it-nt,wt=Math.sqrt(gt*gt+ht*ht)<(Ee+3)/E.k,xt=!!(A&&String(A).trim().length)?Ce((Ft=G.title)!=null?Ft:"",A)||Ce((zt=G.text)!=null?zt:"",A):!0,kt=F&&F.size>0&&F.size<r?F.has(G[y]):!0,Nt=Y&&tt?G.date>=Y&&G.date<=tt:!0;return wt&&(xt&&kt&&Nt)});if(!$)return;const rt=$.url||$.link||$.href||$.permalink;rt&&typeof window<"u"&&window.open(rt,"_blank","noopener,noreferrer")}function dt(){n(6,X=p),P()}let ft;xn(()=>(n(24,f=z.getContext("2d")),H(),window.ResizeObserver&&(ft=new ResizeObserver(()=>{H(),P()}),ft.observe(d)),g=Bl().scaleExtent([Yl,Ul]).filter(_=>{const B=_;return B.type==="wheel"||B.type==="touchstart"||B.type==="touchmove"?!0:B.type==="mousedown"?B.button===0&&!B.ctrlKey&&!B.metaKey&&!B.shiftKey:!B.ctrlKey&&!B.metaKey&&!B.shiftKey}).on("zoom",_=>{E=_.transform,P()}),v=Kt(z),v.call(g),P(),()=>{ft&&ft.disconnect()}));function K(_,B){var N;if((N=B==null?void 0:B.stopPropagation)==null||N.call(B),!v||!g)return;const W=w/2,R=b/2;v.transition().duration(200).call(g.scaleBy,_,[W,R])}function J(_){K(1.25,_)}function mt(_){K(1/1.25,_)}function Q(_){var B;(B=_==null?void 0:_.stopPropagation)==null||B.call(_),!(!v||!g)&&v.transition().duration(200).call(g.transform,Ue)}function pt(_){Bt[_?"unshift":"push"](()=>{z=_,n(4,z)})}function vt(_){Bt[_?"unshift":"push"](()=>{d=_,n(5,d)})}return t.$$set=_=>{"data"in _&&n(0,m=_.data),"domainColumn"in _&&n(1,y=_.domainColumn),"opacity"in _&&n(16,x=_.opacity),"selectedValues"in _&&n(17,F=_.selectedValues),"searchQuery"in _&&n(18,A=_.searchQuery),"showAnnotations"in _&&n(19,k=_.showAnnotations),"highlightedData"in _&&n(20,T=_.highlightedData),"startDate"in _&&n(21,Y=_.startDate),"endDate"in _&&n(22,tt=_.endDate),"uniqueValues"in _&&n(23,Z=_.uniqueValues)},t.$$.update=()=>{t.$$.dirty[0]&1048576&&new Set(T.map(_=>_.id)),t.$$.dirty[0]&3&&(r=new Set(m.map(_=>_[y])).size),t.$$.dirty[0]&4&&n(28,i=w-S.left-S.right),t.$$.dirty[0]&8&&n(25,o=b-S.top-S.bottom),t.$$.dirty[0]&1&&n(30,s=[Hn(m,_=>_.x),Bn(m,_=>_.x)]),t.$$.dirty[0]&1073741824&&n(29,l=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&805306368&&(u=gn().domain(l).range([0,i])),t.$$.dirty[0]&1&&n(27,a=[Hn(m,_=>_.y),Bn(m,_=>_.y)]),t.$$.dirty[0]&134217728&&n(26,c=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&100663296&&(h=gn().domain(c).range([o,0])),t.$$.dirty[0]&8388610&&n(9,q=Lr(Oo).domain(y?Z:[])),t.$$.dirty[0]&1&&m.length&&new Date(Math.min(...m.map(_=>_.date.getTime()))),t.$$.dirty[0]&1&&m.length&&new Date(Math.max(...m.map(_=>_.date.getTime()))),t.$$.dirty[0]&24051715&&f&&m.length&&P()},[m,y,w,b,z,d,X,C,M,q,j,et,dt,J,mt,Q,x,F,A,k,T,Y,tt,Z,f,o,c,a,i,l,s,pt,vt]}class Kl extends Ze{constructor(e){super(),Ge(this,e,Wl,Hl,We,{data:0,domainColumn:1,opacity:16,selectedValues:17,searchQuery:18,showAnnotations:19,highlightedData:20,startDate:21,endDate:22,uniqueValues:23},null,[-1,-1])}}function Ql(t){let e,n,r,i,o,s,l,u,a;return{c(){e=U("div"),n=U("div"),r=U("div"),i=ut(),o=U("div"),s=ut(),l=U("div"),D(r,"class","track-inner svelte-vytkle"),D(n,"class","track svelte-vytkle"),D(o,"class","thumb start-thumb svelte-vytkle"),St(o,"left",t[4]+"%"),D(l,"class","thumb end-thumb svelte-vytkle"),St(l,"left",t[3]+"%"),D(e,"class","range-slider svelte-vytkle"),St(e,"--start-percent",t[4]+"%"),St(e,"--end-percent",t[3]+"%")},m(c,h){at(c,e,h),O(e,n),O(n,r),O(e,i),O(e,o),t[13](o),O(e,s),O(e,l),t[16](l),t[19](e),u||(a=[_t(r,"mousedown",t[11]),_t(r,"touchstart",t[12]),_t(o,"mousedown",t[14]),_t(o,"touchstart",t[15]),_t(l,"mousedown",t[17]),_t(l,"touchstart",t[18])],u=!0)},p(c,[h]){h&16&&St(o,"left",c[4]+"%"),h&8&&St(l,"left",c[3]+"%"),h&16&&St(e,"--start-percent",c[4]+"%"),h&8&&St(e,"--end-percent",c[3]+"%")},i:At,o:At,d(c){c&&st(e),t[13](null),t[16](null),t[19](null),u=!1,Ut(a)}}}function Gl(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:l}=e,{endValue:u}=e;const a=_i();let c,h,m,y=!1,x=null,F=null,A=0;function k(g,v){y=!0,x=v,F=c.getBoundingClientRect(),v==="range"&&(A=u-l),window.addEventListener("mousemove",T),window.addEventListener("mouseup",Y)}function T(g){if(!y)return;const v=Math.min(Math.max(0,(g.clientX-F.left)/F.width),1),C=Math.round(v*(s-o)+o);if(x==="start")n(7,l=Math.min(C,u)),a("startChange",l);else if(x==="end")n(8,u=Math.max(C,l)),a("endChange",u);else if(x==="range"){let M=C-Math.floor(A/2),q=C+Math.ceil(A/2);M<o&&(M=o,q=o+A),q>s&&(q=s,M=s-A),M=Math.max(o,M),q=Math.min(s,q),n(7,l=M),n(8,u=q),a("startChange",l),a("endChange",u)}}function Y(){y=!1,window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",Y)}function tt(g,v){g.preventDefault(),y=!0,x=v,F=c.getBoundingClientRect(),v==="range"&&(A=u-l),window.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",ot)}function Z(g){if(g.preventDefault(),!y)return;const v=g.touches[0],C=Math.min(Math.max(0,(v.clientX-F.left)/F.width),1),M=Math.round(C*(s-o)+o);if(x==="start")n(7,l=Math.min(M,u)),a("startChange",l);else if(x==="end")n(8,u=Math.max(M,l)),a("endChange",u);else if(x==="range"){let q=M-Math.floor(A/2),I=M+Math.ceil(A/2);q<o&&(q=o,I=o+A),I>s&&(I=s,q=s-A),q=Math.max(o,q),I=Math.min(s,I),n(7,l=q),n(8,u=I),a("startChange",l),a("endChange",u)}}function ot(){y=!1,window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",ot)}const z=g=>k(g,"range"),d=g=>tt(g,"range");function f(g){Bt[g?"unshift":"push"](()=>{h=g,n(1,h)})}const w=g=>k(g,"start"),b=g=>tt(g,"start");function S(g){Bt[g?"unshift":"push"](()=>{m=g,n(2,m)})}const X=g=>k(g,"end"),p=g=>tt(g,"end");function E(g){Bt[g?"unshift":"push"](()=>{c=g,n(0,c)})}return t.$$set=g=>{"min"in g&&n(9,o=g.min),"max"in g&&n(10,s=g.max),"startValue"in g&&n(7,l=g.startValue),"endValue"in g&&n(8,u=g.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(l-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[c,h,m,i,r,k,tt,l,u,o,s,z,d,f,w,b,S,X,p,E]}class Zl extends Ze{constructor(e){super(),Ge(this,e,Gl,Ql,We,{min:9,max:10,startValue:7,endValue:8})}}function wr(t,e,n){const r=t.slice();return r[54]=e[n],r}function vr(t,e,n){const r=t.slice();return r[57]=e[n],r}function br(t){let e,n,r,i,o,s,l=t[9],u=[];for(let a=0;a<l.length;a+=1)u[a]=xr(vr(t,l,a));return{c(){e=U("label"),e.textContent="\u{1F3A8} Color by Column:",n=ut(),r=U("select"),i=U("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();D(e,"for","domain-column"),D(e,"class","svelte-125uapq"),i.__value="",i.value=i.__value,i.disabled=!0,D(r,"id","domain-column"),D(r,"class","svelte-125uapq"),t[0]===void 0&&Oe(()=>t[32].call(r))},m(a,c){at(a,e,c),at(a,n,c),at(a,r,c),O(r,i);for(let h=0;h<u.length;h+=1)u[h].m(r,null);Ln(r,t[0]),o||(s=[_t(r,"change",t[20]),_t(r,"change",t[32])],o=!0)},p(a,c){if(c[0]&512){l=a[9];let h;for(h=0;h<l.length;h+=1){const m=vr(a,l,h);u[h]?u[h].p(m,c):(u[h]=xr(m),u[h].c(),u[h].m(r,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=l.length}c[0]&513&&Ln(r,a[0])},d(a){a&&st(e),a&&st(n),a&&st(r),Cr(u,a),o=!1,Ut(s)}}}function xr(t){let e,n=t[57]+"",r,i;return{c(){e=U("option"),r=bt(n),e.__value=i=t[57],e.value=e.__value},m(o,s){at(o,e,s),O(e,r)},p(o,s){s[0]&512&&n!==(n=o[57]+"")&&Tt(r,n),s[0]&512&&i!==(i=o[57])&&(e.__value=i,e.value=e.__value)},d(o){o&&st(e)}}}function kr(t){let e,n,r,i,o,s=t[1],l=[];for(let u=0;u<s.length;u+=1)l[u]=Mr(wr(t,s,u));return{c(){e=U("label"),e.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",n=ut(),r=U("select");for(let u=0;u<l.length;u+=1)l[u].c();D(e,"for","value-select"),D(e,"class","svelte-125uapq"),D(r,"id","value-select"),r.multiple=!0,D(r,"size","5"),D(r,"class","multi-select svelte-125uapq")},m(u,a){at(u,e,a),at(u,n,a),at(u,r,a);for(let c=0;c<l.length;c+=1)l[c].m(r,null);i||(o=_t(r,"change",t[21]),i=!0)},p(u,a){if(a[0]&6){s=u[1];let c;for(c=0;c<s.length;c+=1){const h=wr(u,s,c);l[c]?l[c].p(h,a):(l[c]=Mr(h),l[c].c(),l[c].m(r,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},d(u){u&&st(e),u&&st(n),u&&st(r),Cr(l,u),i=!1,o()}}}function Mr(t){let e,n=t[54]+"",r,i,o;return{c(){e=U("option"),r=bt(n),e.__value=i=t[54],e.value=e.__value,e.selected=o=t[2].has(t[54])},m(s,l){at(s,e,l),O(e,r)},p(s,l){l[0]&2&&n!==(n=s[54]+"")&&Tt(r,n),l[0]&2&&i!==(i=s[54])&&(e.__value=i,e.value=e.__value),l[0]&6&&o!==(o=s[2].has(s[54]))&&(e.selected=o)},d(s){s&&st(e)}}}function jl(t){let e;return{c(){e=bt("\u25B6")},m(n,r){at(n,e,r)},d(n){n&&st(e)}}}function Jl(t){let e;return{c(){e=bt("\u275A\u275A")},m(n,r){at(n,e,r)},d(n){n&&st(e)}}}function $l(t){let e;return{c(){e=U("p"),e.textContent="Waiting for data"},m(n,r){at(n,e,r)},p:At,i:At,o:At,d(n){n&&st(e)}}}function tu(t){let e,n,r;function i(c,h){return c[15]==="downloading"?iu:c[15]==="parsing"?ru:nu}let o=i(t),s=o(t);function l(c,h){return c[15]==="downloading"?su:ou}let u=l(t),a=u(t);return{c(){e=U("div"),n=U("div"),s.c(),r=ut(),a.c(),D(n,"class","progress-header svelte-125uapq"),D(e,"class","progress-wrap svelte-125uapq")},m(c,h){at(c,e,h),O(e,n),s.m(n,null),O(e,r),a.m(e,null)},p(c,h){o!==(o=i(c))&&(s.d(1),s=o(c),s&&(s.c(),s.m(n,null))),u===(u=l(c))&&a?a.p(c,h):(a.d(1),a=u(c),a&&(a.c(),a.m(e,null)))},i:At,o:At,d(c){c&&st(e),s.d(),a.d()}}}function eu(t){let e,n;return e=new Kl({props:{data:t[11],domainColumn:t[0],selectedValues:t[2],opacity:t[10],searchQuery:t[8],showAnnotations:t[13],highlightedData:t[7],startDate:t[3],endDate:t[4],uniqueValues:t[1]}}),{c(){kn(e.$$.fragment)},m(r,i){Ke(e,r,i),n=!0},p(r,i){const o={};i[0]&2048&&(o.data=r[11]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&1024&&(o.opacity=r[10]),i[0]&256&&(o.searchQuery=r[8]),i[0]&8192&&(o.showAnnotations=r[13]),i[0]&128&&(o.highlightedData=r[7]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),i[0]&2&&(o.uniqueValues=r[1]),e.$set(o)},i(r){n||(Ht(e.$$.fragment,r),n=!0)},o(r){jt(e.$$.fragment,r),n=!1},d(r){Qe(e,r)}}}function nu(t){let e;return{c(){e=bt("Loading...")},m(n,r){at(n,e,r)},d(n){n&&st(e)}}}function ru(t){let e;return{c(){e=bt("Parsing CSV...")},m(n,r){at(n,e,r)},d(n){n&&st(e)}}}function iu(t){let e;return{c(){e=bt("Downloading CSV...")},m(n,r){at(n,e,r)},d(n){n&&st(e)}}}function ou(t){let e;return{c(){e=U("div"),D(e,"class","progress-bar indeterminate svelte-125uapq")},m(n,r){at(n,e,r)},p:At,d(n){n&&st(e)}}}function su(t){let e;function n(o,s){return o[17]?lu:au}let r=n(t),i=r(t);return{c(){i.c(),e=Ar()},m(o,s){i.m(o,s),at(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&st(e)}}}function au(t){let e,n,r,i=ne(t[16])+"",o;return{c(){e=U("div"),n=ut(),r=U("div"),o=bt(i),D(e,"class","progress-bar indeterminate svelte-125uapq"),D(r,"class","progress-label svelte-125uapq")},m(s,l){at(s,e,l),at(s,n,l),at(s,r,l),O(r,o)},p(s,l){l[0]&65536&&i!==(i=ne(s[16])+"")&&Tt(o,i)},d(s){s&&st(e),s&&st(n),s&&st(r)}}}function lu(t){let e,n,r,i,o,s,l=ne(t[16])+"",u,a,c=ne(t[17])+"",h,m;return{c(){e=U("div"),n=U("div"),r=ut(),i=U("div"),o=bt(t[18]),s=bt("% ("),u=bt(l),a=bt(" / "),h=bt(c),m=bt(")"),D(n,"class","progress-fill svelte-125uapq"),St(n,"width",t[18]+"%"),D(e,"class","progress-bar svelte-125uapq"),D(i,"class","progress-label svelte-125uapq")},m(y,x){at(y,e,x),O(e,n),at(y,r,x),at(y,i,x),O(i,o),O(i,s),O(i,u),O(i,a),O(i,h),O(i,m)},p(y,x){x[0]&262144&&St(n,"width",y[18]+"%"),x[0]&262144&&Tt(o,y[18]),x[0]&65536&&l!==(l=ne(y[16])+"")&&Tt(u,l),x[0]&131072&&c!==(c=ne(y[17])+"")&&Tt(h,c)},d(y){y&&st(e),y&&st(r),y&&st(i)}}}function uu(t){let e,n,r,i,o,s,l,u,a,c,h,m,y,x,F,A,k,T,Y,tt,Z,ot,z,d,f,w,b,S,X,p,E,g,v,C,M,q,I,H,P,j=Wt(t[3])+"",et,dt,ft,K=Wt(t[4])+"",J,mt,Q,pt,vt,_,B,W,R,N,V,L,nt,$,rt,G,ct,it,gt,ht=t[9].length&&br(t),wt=t[1].length&&kr(t);function Rt(lt){t[36](lt)}function xt(lt){t[37](lt)}let yt={min:0,max:t[19]};t[5]!==void 0&&(yt.startValue=t[5]),t[6]!==void 0&&(yt.endValue=t[6]),C=new Zl({props:yt}),Bt.push(()=>Fn(C,"startValue",Rt)),Bt.push(()=>Fn(C,"endValue",xt)),C.$on("startChange",t[38]),C.$on("endChange",t[39]);function kt(lt,Mt){return lt[12]?Jl:jl}let Nt=kt(t),Et=Nt(t);const Ft=[eu,tu,$l],zt=[];function In(lt,Mt){return lt[11].length?0:lt[14]?1:2}return rt=In(t),G=zt[rt]=Ft[rt](t),{c(){e=U("div"),n=U("div"),n.innerHTML=`<h1 class="title svelte-125uapq">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the
      articles are similar in meaning.</p>`,r=ut(),i=U("div"),o=U("div"),s=U("div"),l=U("button"),l.textContent="Reset filters",u=ut(),a=U("div"),a.innerHTML=`<details close=""><summary class="svelte-125uapq">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-125uapq"><p class="svelte-125uapq">Semantic maps are tools that allow users to visually explore how
              different topics and ideas are connected. By analyzing the
              relationships between articles, these maps can reveal patterns and
              clusters in the data.</p> 
            <p class="svelte-125uapq">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-125uapq"><li class="svelte-125uapq">Audit their coverage by identifying themes that may be
                underrepresented or overlooked.</li> 
              <li class="svelte-125uapq">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-125uapq">Discover which topics are being covered by other outlets,
                offering opportunities to adjust their editorial focus or
                collaborate.</li></ul></div></details>`,c=ut(),h=U("label"),h.textContent="\u{1F4C1} Upload CSV:",m=ut(),y=U("input"),x=ut(),F=U("label"),F.textContent="\u{1F50D} Search Text (supports regex):",A=ut(),k=U("input"),T=ut(),ht&&ht.c(),Y=ut(),wt&&wt.c(),tt=ut(),Z=U("label"),Z.textContent="\u{1F4A1} Adjust Opacity:",ot=ut(),z=U("input"),d=ut(),f=U("div"),w=U("label"),w.textContent="\u{1F4C5} Date Range:",b=ut(),S=U("input"),p=ut(),E=U("input"),v=ut(),kn(C.$$.fragment),I=ut(),H=U("div"),P=U("span"),et=bt(j),dt=ut(),ft=U("span"),J=bt(K),mt=ut(),Q=U("div"),pt=U("button"),pt.textContent="-1W",vt=ut(),_=U("button"),_.textContent="-1D",B=ut(),W=U("button"),Et.c(),R=ut(),N=U("button"),N.textContent="+1D",V=ut(),L=U("button"),L.textContent="+1W",nt=ut(),$=U("div"),G.c(),D(n,"class","title-section svelte-125uapq"),D(l,"class","reset-btn svelte-125uapq"),D(s,"class","filter-actions svelte-125uapq"),D(a,"class","nerd-box svelte-125uapq"),D(h,"for","file-upload"),D(h,"class","svelte-125uapq"),D(y,"id","file-upload"),D(y,"type","file"),D(y,"accept",".csv"),D(y,"class","svelte-125uapq"),D(F,"for","search-input"),D(F,"class","svelte-125uapq"),D(k,"id","search-input"),D(k,"type","text"),D(k,"placeholder","Search or regex pattern..."),D(k,"class","svelte-125uapq"),D(Z,"for","opacity-slider"),D(Z,"class","svelte-125uapq"),D(z,"id","opacity-slider"),D(z,"type","range"),D(z,"min","0"),D(z,"max",".3"),D(z,"step","0.01"),D(z,"class","svelte-125uapq"),D(w,"for","start-date"),D(w,"class","svelte-125uapq"),D(S,"id","start-date"),D(S,"type","date"),S.value=X=Wt(t[3]),D(S,"max","2025-07-01"),D(S,"class","svelte-125uapq"),D(E,"id","end-date"),D(E,"type","date"),E.value=g=Wt(t[4]),D(E,"max","2025-07-01"),D(E,"class","svelte-125uapq"),D(H,"class","date-range-labels svelte-125uapq"),D(pt,"class","svelte-125uapq"),D(_,"class","svelte-125uapq"),D(W,"class","play-button svelte-125uapq"),D(N,"class","svelte-125uapq"),D(L,"class","svelte-125uapq"),D(Q,"class","date-navigation svelte-125uapq"),D(f,"class","date-controls svelte-125uapq"),D(o,"class","filter-panel svelte-125uapq"),D($,"class","scatterplot-container svelte-125uapq"),D(i,"class","content svelte-125uapq"),D(e,"class","container svelte-125uapq")},m(lt,Mt){at(lt,e,Mt),O(e,n),O(e,r),O(e,i),O(i,o),O(o,s),O(s,l),O(o,u),O(o,a),O(o,c),O(o,h),O(o,m),O(o,y),O(o,x),O(o,F),O(o,A),O(o,k),O(o,T),ht&&ht.m(o,null),O(o,Y),wt&&wt.m(o,null),O(o,tt),O(o,Z),O(o,ot),O(o,z),qn(z,t[10]),O(o,d),O(o,f),O(f,w),O(f,b),O(f,S),O(f,p),O(f,E),O(f,v),Ke(C,f,null),O(f,I),O(f,H),O(H,P),O(P,et),O(H,dt),O(H,ft),O(ft,J),O(f,mt),O(f,Q),O(Q,pt),O(Q,vt),O(Q,_),O(Q,B),O(Q,W),Et.m(W,null),O(Q,R),O(Q,N),O(Q,V),O(Q,L),O(i,nt),O(i,$),zt[rt].m($,null),ct=!0,it||(gt=[_t(l,"click",t[28]),_t(y,"change",t[23]),_t(k,"input",t[26]),_t(z,"change",t[33]),_t(z,"input",t[33]),_t(z,"input",t[27]),_t(S,"change",t[34]),_t(E,"change",t[35]),_t(pt,"click",t[40]),_t(_,"click",t[41]),_t(W,"click",t[25]),_t(N,"click",t[42]),_t(L,"click",t[43])],it=!0)},p(lt,Mt){lt[9].length?ht?ht.p(lt,Mt):(ht=br(lt),ht.c(),ht.m(o,Y)):ht&&(ht.d(1),ht=null),lt[1].length?wt?wt.p(lt,Mt):(wt=kr(lt),wt.c(),wt.m(o,tt)):wt&&(wt.d(1),wt=null),Mt[0]&1024&&qn(z,lt[10]),(!ct||Mt[0]&8&&X!==(X=Wt(lt[3])))&&(S.value=X),(!ct||Mt[0]&16&&g!==(g=Wt(lt[4])))&&(E.value=g);const we={};Mt[0]&524288&&(we.max=lt[19]),!M&&Mt[0]&32&&(M=!0,we.startValue=lt[5],Pn(()=>M=!1)),!q&&Mt[0]&64&&(q=!0,we.endValue=lt[6],Pn(()=>q=!1)),C.$set(we),(!ct||Mt[0]&8)&&j!==(j=Wt(lt[3])+"")&&Tt(et,j),(!ct||Mt[0]&16)&&K!==(K=Wt(lt[4])+"")&&Tt(J,K),Nt!==(Nt=kt(lt))&&(Et.d(1),Et=Nt(lt),Et&&(Et.c(),Et.m(W,null)));let tn=rt;rt=In(lt),rt===tn?zt[rt].p(lt,Mt):(Rr(),jt(zt[tn],1,1,()=>{zt[tn]=null}),Nr(),G=zt[rt],G?G.p(lt,Mt):(G=zt[rt]=Ft[rt](lt),G.c()),Ht(G,1),G.m($,null))},i(lt){ct||(Ht(C.$$.fragment,lt),Ht(G),ct=!0)},o(lt){jt(C.$$.fragment,lt),jt(G),ct=!1},d(lt){lt&&st(e),ht&&ht.d(),wt&&wt.d(),Qe(C),Et.d(),zt[rt].d(),it=!1,Ut(gt)}}}const fu="2025-07-01";function ne(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Wt(t){return t?t.toISOString().split("T")[0]:""}function cu(t,e,n){let r,i;const o="https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",s=new Date(fu);let l=[],u=[],a="org",c=[],h=new Set,m=.02,y=null,x=null,F=[],A=[],k=0,T=0,Y=!1,tt=null,Z=[],ot="",z=!1,d=!1,f="idle",w=0,b=0,S=0;xn(async()=>{try{n(14,d=!0),n(15,f="downloading"),n(16,w=0),n(17,b=0),n(18,S=0);const R=await fetch(o,{mode:"cors",cache:"no-store"});if(!R.ok)throw new Error(`HTTP ${R.status}`);const N=R.headers.get("content-length");n(17,b=N?parseInt(N,10):0);let V="";if(R.body&&R.body.getReader){const L=R.body.getReader(),nt=[];let $=0;for(;;){const{done:ct,value:it}=await L.read();if(ct)break;nt.push(it),$+=it.byteLength,n(16,w=$),b&&n(18,S=Math.round($/b*100))}const rt=new Uint8Array($);let G=0;for(const ct of nt)rt.set(ct,G),G+=ct.byteLength;V=new TextDecoder().decode(rt),console.log("CSV head:",V.split(`
`).slice(0,5).join(`
`))}else V=await R.text();n(15,f="parsing"),await Promise.resolve(X(V)),n(15,f="idle")}catch(R){console.error("Failed to load CSV:",R)}finally{n(14,d=!1)}return()=>{tt&&clearInterval(tt)}});function X(R){const N=R.split(/\r?\n/);if(N.length>0){const nt=N[0].split(",").map($=>$.trim().toLowerCase()).join(",");N[0]=nt,R=N.join(`
`)}const V=ki.parse(R,{header:!0});n(29,l=V.data.filter(L=>L.x&&L.y&&L.date).map((L,nt)=>({...L,x:+L.x,y:+L.y,date:new Date(L.date),id:nt}))),n(30,u=V.meta.fields||[]),n(31,A=[...new Set(l.map(L=>L.date.getTime()))].sort((L,nt)=>L-nt).map(L=>new Date(L))),n(3,y=A[0]),n(4,x=A[A.length-1]),x&&x.getTime()>s.getTime()&&n(4,x=new Date(s)),n(5,k=0),n(6,T=i),v(),a&&n(1,c=[...new Set(l.map(L=>L[a]).filter(L=>L!=null&&L!==""))].sort((L,nt)=>String(L).localeCompare(String(nt))))}function p(R){n(0,a=R.target.value),n(1,c=a?[...new Set(l.map(N=>N[a]).filter(Boolean))].sort((N,V)=>String(N).localeCompare(String(V))):[]),n(2,h=new Set),n(13,z=!1)}function E(R){const N=[...R.target.selectedOptions].map(L=>L.value);N.length===c.length||N.length===0?(n(2,h=new Set),n(7,Z=[])):(n(2,h=new Set(N)),n(7,Z=l.filter(L=>h.has(L[a])&&(!y||L.date>=y)&&(!x||L.date<=x)))),n(13,z=!1)}function g(R,N,V=!1){V?(n(3,y=A[R]||A[0]),n(4,x=A[N]||A[A.length-1]),x&&x.getTime()>s.getTime()&&n(4,x=new Date(s))):(n(3,y=R),n(4,x=N&&new Date(Math.min(N.getTime(),s.getTime())))),n(13,z=!1),v()}function v(){if(y){const R=y.getTime();n(5,k=Math.max(0,A.findIndex(N=>N.getTime()>=R)))}else n(5,k=0);if(x){const R=s.getTime(),N=Math.min(x.getTime(),R);let V=-1;for(let L=A.length-1;L>=0;L--)if(A[L].getTime()<=N){V=L;break}n(6,T=V>=0?V:0)}else n(6,T=i);k>T&&n(5,k=T),T<k&&n(6,T=k)}function C(R,N){if(R.detail!==void 0)N==="start"?(n(5,k=R.detail),k>T&&n(5,k=T)):(n(6,T=R.detail),T<k&&n(6,T=k)),g(k,T,!0);else{const V=R.target.value?new Date(R.target.value):null;N==="start"?g(V,x):g(y,V),v()}}function M(R){const N=R.target.files[0];if(N){const V=new FileReader;n(13,z=!1),V.onload=L=>X(L.target.result),V.readAsText(N)}}function q(R){const N=T-k;let V=k+R,L=T+R;V<0&&(V=0,L=N),L>=A.length&&(L=A.length-1,V=Math.max(0,L-N)),n(5,k=V),n(6,T=L),g(k,T,!0)}function I(){Y?(clearInterval(tt),n(12,Y=!1)):(n(12,Y=!0),n(13,z=!1),tt=setInterval(()=>{if(T>=A.length-1){clearInterval(tt),n(12,Y=!1);return}q(1)},500))}function H(R){n(8,ot=R.target.value),n(13,z=!1)}function P(){n(13,z=!1)}function j(){Y&&tt&&(clearInterval(tt),n(12,Y=!1));const R=u.includes("org")?"org":r[0]||"";n(0,a=R),n(2,h=new Set),n(7,Z=[]),n(8,ot=""),n(13,z=!1),n(10,m=.02),n(10,m=+m),A.length?(n(5,k=0),n(6,T=A.length-1),g(k,T,!0)):(n(3,y=null),n(4,x=null),n(5,k=0),n(6,T=0))}function et(){a=gi(this),n(0,a),n(30,u),n(9,r),n(9,r),n(30,u)}function dt(){m=di(this.value),n(10,m)}const ft=R=>C(R,"start"),K=R=>C(R,"end");function J(R){k=R,n(5,k)}function mt(R){T=R,n(6,T)}const Q=R=>C(R,"start"),pt=R=>C(R,"end"),vt=()=>q(-7),_=()=>q(-1),B=()=>q(1),W=()=>q(7);return t.$$.update=()=>{if(t.$$.dirty[0]&128&&new Set(Z.map(R=>R.id)),t.$$.dirty[0]&1073741824&&n(9,r=u.filter(R=>R==="org"||R==="cluster")),t.$$.dirty[0]&1073742337&&(!u||u.length===0||(r.length&&!r.includes(a)?n(0,a=r[0]):r.length===0&&n(0,a=""))),t.$$.dirty[0]&536871295|t.$$.dirty[1]&1){const R=A.length&&k===0&&T===A.length-1,N=h.size>0&&h.size<c.length,V=ot&&ot.trim().length>0,L=!R||N||V;n(11,F=l.map(nt=>{var gt,ht,wt,Rt;const $=(!y||nt.date>=y)&&(!x||nt.date<=x),rt=N?h.has(nt[a]):!0;let G=!0;if(V)try{const xt=new RegExp(ot,"i");G=xt.test((gt=nt.title)!=null?gt:"")||xt.test((ht=nt.text)!=null?ht:"")}catch{G=((wt=nt.title)!=null?wt:"").toLowerCase().includes(ot.toLowerCase())||((Rt=nt.text)!=null?Rt:"").toLowerCase().includes(ot.toLowerCase())}let ct=!1,it=!1;return L?(ct=$&&rt&&G,it=$&&rt&&G):(ct=!1,it=!1),{...nt,isActive:ct,isHighlighted:it}}))}t.$$.dirty[0]&32|t.$$.dirty[1]&1&&A.length>1&&k/(A.length-1)*100,t.$$.dirty[0]&64|t.$$.dirty[1]&1&&A.length>1&&T/(A.length-1)*100,t.$$.dirty[1]&1&&n(19,i=(()=>{if(!A||A.length===0)return 0;const R=s.getTime(),N=A.findIndex(V=>V.getTime()>R);return N===-1?A.length-1:Math.max(0,N-1)})())},/^https?:\/\//i.test(o),[a,c,h,y,x,k,T,Z,ot,r,m,F,Y,z,d,f,w,b,S,i,p,E,C,M,q,I,H,P,j,l,u,A,et,dt,ft,K,J,mt,Q,pt,vt,_,B,W]}class hu extends Ze{constructor(e){super(),Ge(this,e,cu,uu,We,{},null,[-1,-1])}}new hu({target:document.getElementById("app")});
