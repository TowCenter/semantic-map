(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Rt(){}function Cr(t){return t()}function Ln(){return Object.create(null)}function Wt(t){t.forEach(Cr)}function Ar(t){return typeof t=="function"}function Ge(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function pi(t){return Object.keys(t).length===0}function z(t,e){t.appendChild(e)}function st(t,e,n){t.insertBefore(e,n||null)}function ot(t){t.parentNode.removeChild(t)}function Tr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function K(t){return document.createElement(t)}function xt(t){return document.createTextNode(t)}function lt(){return xt(" ")}function Dr(){return xt("")}function _t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function R(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gi(t){return t===""?null:+t}function mi(t){return Array.from(t.childNodes)}function Ot(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Fn(t,e){t.value=e==null?"":e}function At(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Pn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function _i(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function yi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let me;function ge(t){me=t}function Rr(){if(!me)throw new Error("Function called outside component initialization");return me}function Sn(t){Rr().$$.on_mount.push(t)}function wi(){const t=Rr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=yi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const he=[],Ht=[],De=[],ln=[],vi=Promise.resolve();let un=!1;function bi(){un||(un=!0,vi.then(Nr))}function Fe(t){De.push(t)}function Vn(t){ln.push(t)}const rn=new Set;let ke=0;function Nr(){const t=me;do{for(;ke<he.length;){const e=he[ke];ke++,ge(e),xi(e.$$)}for(ge(null),he.length=0,ke=0;Ht.length;)Ht.pop()();for(let e=0;e<De.length;e+=1){const n=De[e];rn.has(n)||(rn.add(n),n())}De.length=0}while(he.length);for(;ln.length;)ln.pop()();un=!1,rn.clear(),ge(t)}function xi(t){if(t.fragment!==null){t.update(),Wt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Fe)}}const Re=new Set;let Jt;function Or(){Jt={r:0,c:[],p:Jt}}function zr(){Jt.r||Wt(Jt.c),Jt=Jt.p}function Yt(t,e){t&&t.i&&(Re.delete(t),t.i(e))}function $t(t,e,n,r){if(t&&t.o){if(Re.has(t))return;Re.add(t),Jt.c.push(()=>{Re.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function qn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Mn(t){t&&t.c()}function Ze(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Fe(()=>{const s=t.$$.on_mount.map(Cr).filter(Ar);t.$$.on_destroy?t.$$.on_destroy.push(...s):Wt(s),t.$$.on_mount=[]}),o.forEach(Fe)}function Je(t,e){const n=t.$$;n.fragment!==null&&(Wt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ki(t,e){t.$$.dirty[0]===-1&&(he.push(t),bi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,r,i,o,s,l=[-1]){const u=me;ge(t);const a=t.$$={fragment:null,ctx:[],props:o,update:Rt,not_equal:i,bound:Ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ln(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(c,m,...b)=>{const S=b.length?b[0]:m;return a.ctx&&i(a.ctx[c],a.ctx[c]=S)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](S),f&&ki(t,c)),m}):[],a.update(),f=!0,Wt(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const c=mi(e.target);a.fragment&&a.fragment.l(c),c.forEach(ot)}else a.fragment&&a.fragment.c();e.intro&&Yt(t.$$.fragment),Ze(t,e.target,e.anchor,e.customElement),Nr()}ge(u)}class $e{$destroy(){Je(this,1),this.$destroy=Rt}$on(e,n){if(!Ar(n))return Rt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!pi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Si,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function f(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(d){var w=J(d);w.chunkSize=parseInt(w.chunkSize),d.step||d.chunk||(w.chunkSize=null),this._handle=new D(w),(this._handle.streamer=this)._config=w}.call(this,h),this.parseChunk=function(d,w){var y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<y){let _=this._config.newline;_||(A=this._config.quoteChar||'"',_=this._handle.guessLineEndings(d,A)),d=[...d.split(_).slice(y)].join(_)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(d))!==void 0&&(d=A),this.isFirstChunk=!1,this._halted=!1;var y=this._partialLine+d,A=(this._partialLine="",this._handle.parse(y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(d=A.meta.cursor,y=(this._finished||(this._partialLine=y.substring(d-this._baseIndex),this._baseIndex=d),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:A,workerId:a.WORKER_ID,finished:y});else if(L(this._config.chunk)&&!w){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!y||!L(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),y||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(d){L(this._config.error)?this._config.error(d):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:d,finished:!1})}}function c(h){var d;(h=h||{}).chunkSize||(h.chunkSize=a.RemoteChunkSize),f.call(this,h),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),o||(d.onload=H(this._chunkLoaded,this),d.onerror=H(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,y=this._config.downloadRequestHeaders;for(w in y)d.setRequestHeader(w,y[w])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,d.setRequestHeader("Range","bytes="+this._start+"-"+A));try{d.send(this._config.downloadRequestBody)}catch(_){this._chunkError(_.message)}o&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize||d.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(d),this.parseChunk(d.responseText)))},this._chunkError=function(w){w=d.statusText||w,this._sendError(new Error(w))}}function m(h){(h=h||{}).chunkSize||(h.chunkSize=a.LocalChunkSize),f.call(this,h);var d,w,y=typeof FileReader<"u";this.stream=function(A){this._input=A,w=A.slice||A.webkitSlice||A.mozSlice,y?((d=new FileReader).onload=H(this._chunkLoaded,this),d.onerror=H(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,_=(this._config.chunkSize&&(_=Math.min(this._start+this._config.chunkSize,this._input.size),A=w.call(A,this._start,_)),d.readAsText(A,this._config.encoding));y||this._chunkLoaded({target:{result:_}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(d.error)}}function b(h){var d;f.call(this,h=h||{}),this.stream=function(w){return d=w,this._nextChunk()},this._nextChunk=function(){var w,y;if(!this._finished)return w=this._config.chunkSize,d=w?(y=d.substring(0,w),d.substring(w)):(y=d,""),this._finished=!d,this.parseChunk(y)}}function S(h){f.call(this,h=h||{});var d=[],w=!0,y=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){y&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):w=!0},this._streamData=H(function(A){try{d.push(typeof A=="string"?A:A.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(_){this._streamError(_)}},this),this._streamError=H(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=H(function(){this._streamCleanUp(),y=!0,this._streamData("")},this),this._streamCleanUp=H(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function D(h){var d,w,y,A,_=Math.pow(2,53),p=-_,C=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,x=this,T=0,v=0,F=!1,N=!1,q=[],P={data:[],errors:[],meta:{}};function Z(G){return h.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function et(){if(P&&y&&(at("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),y=!1),h.skipEmptyLines&&(P.data=P.data.filter(function(ut){return!Z(ut)})),it()){let ut=function(yt,ht){L(h.transformHeader)&&(yt=h.transformHeader(yt,ht)),q.push(yt)};var Q=ut;if(P)if(Array.isArray(P.data[0])){for(var G=0;it()&&G<P.data.length;G++)P.data[G].forEach(ut);P.data.splice(0,1)}else P.data.forEach(ut)}function nt(ut,yt){for(var ht=h.header?{}:[],ft=0;ft<ut.length;ft++){var $=ft,bt=ut[ft],bt=((k,W)=>(X=>(h.dynamicTypingFunction&&h.dynamicTyping[X]===void 0&&(h.dynamicTyping[X]=h.dynamicTypingFunction(X)),(h.dynamicTyping[X]||h.dynamicTyping)===!0))(k)?W==="true"||W==="TRUE"||W!=="false"&&W!=="FALSE"&&((X=>{if(C.test(X)&&(X=parseFloat(X),p<X&&X<_))return 1})(W)?parseFloat(W):g.test(W)?new Date(W):W===""?null:W):W)($=h.header?ft>=q.length?"__parsed_extra":q[ft]:$,bt=h.transform?h.transform(bt,$):bt);$==="__parsed_extra"?(ht[$]=ht[$]||[],ht[$].push(bt)):ht[$]=bt}return h.header&&(ft>q.length?at("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+ft,v+yt):ft<q.length&&at("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+ft,v+yt)),ht}var gt;P&&(h.header||h.dynamicTyping||h.transform)&&(gt=1,!P.data.length||Array.isArray(P.data[0])?(P.data=P.data.map(nt),gt=P.data.length):P.data=nt(P.data,0),h.header&&P.meta&&(P.meta.fields=q),v+=gt)}function it(){return h.header&&q.length===0}function at(G,nt,gt,Q){G={type:G,code:nt,message:gt},Q!==void 0&&(G.row=Q),P.errors.push(G)}L(h.step)&&(A=h.step,h.step=function(G){P=G,it()?et():(et(),P.data.length!==0&&(T+=G.data.length,h.preview&&T>h.preview?w.abort():(P.data=P.data[0],A(P,x))))}),this.parse=function(G,nt,gt){var Q=h.quoteChar||'"',Q=(h.newline||(h.newline=this.guessLineEndings(G,Q)),y=!1,h.delimiter?L(h.delimiter)&&(h.delimiter=h.delimiter(G),P.meta.delimiter=h.delimiter):((Q=((ut,yt,ht,ft,$)=>{var bt,k,W,X;$=$||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var wt=0;wt<$.length;wt++){for(var ct,dt=$[wt],rt=0,E=0,V=0,I=(W=void 0,new M({comments:ft,delimiter:dt,newline:yt,preview:10}).parse(ut)),Y=0;Y<I.data.length;Y++)ht&&Z(I.data[Y])?V++:(ct=I.data[Y].length,E+=ct,W===void 0?W=ct:0<ct&&(rt+=Math.abs(ct-W),W=ct));0<I.data.length&&(E/=I.data.length-V),(k===void 0||rt<=k)&&(X===void 0||X<E)&&1.99<E&&(k=rt,bt=dt,X=E)}return{successful:!!(h.delimiter=bt),bestDelimiter:bt}})(G,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=Q.bestDelimiter:(y=!0,h.delimiter=a.DefaultDelimiter),P.meta.delimiter=h.delimiter),J(h));return h.preview&&h.header&&Q.preview++,d=G,w=new M(Q),P=w.parse(d,nt,gt),et(),F?{meta:{paused:!0}}:P||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,w.abort(),d=L(h.chunk)?"":d.substring(w.getCharIndex())},this.resume=function(){x.streamer._halted?(F=!1,x.streamer.parseChunk(d,!0)):setTimeout(x.resume,3)},this.aborted=function(){return N},this.abort=function(){N=!0,w.abort(),P.meta.aborted=!0,L(h.complete)&&h.complete(P),d=""},this.guessLineEndings=function(ut,Q){ut=ut.substring(0,1048576);var Q=new RegExp(B(Q)+"([^]*?)"+B(Q),"gm"),gt=(ut=ut.replace(Q,"")).split("\r"),Q=ut.split(`
`),ut=1<Q.length&&Q[0].length<gt[0].length;if(gt.length===1||ut)return`
`;for(var yt=0,ht=0;ht<gt.length;ht++)gt[ht][0]===`
`&&yt++;return yt>=gt.length/2?`\r
`:"\r"}}function B(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(h){var d=(h=h||{}).delimiter,w=h.newline,y=h.comments,A=h.step,_=h.preview,p=h.fastMode,C=null,g=!1,x=h.quoteChar==null?'"':h.quoteChar,T=x;if(h.escapeChar!==void 0&&(T=h.escapeChar),(typeof d!="string"||-1<a.BAD_DELIMITERS.indexOf(d))&&(d=","),y===d)throw new Error("Comment character same as delimiter");y===!0?y="#":(typeof y!="string"||-1<a.BAD_DELIMITERS.indexOf(y))&&(y=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var v=0,F=!1;this.parse=function(N,q,P){if(typeof N!="string")throw new Error("Input must be a string");var Z=N.length,et=d.length,it=w.length,at=y.length,G=L(A),nt=[],gt=[],Q=[],ut=v=0;if(!N)return rt();if(p||p!==!1&&N.indexOf(x)===-1){for(var yt=N.split(w),ht=0;ht<yt.length;ht++){if(Q=yt[ht],v+=Q.length,ht!==yt.length-1)v+=w.length;else if(P)return rt();if(!y||Q.substring(0,at)!==y){if(G){if(nt=[],X(Q.split(d)),E(),F)return rt()}else X(Q.split(d));if(_&&_<=ht)return nt=nt.slice(0,_),rt(!0)}}return rt()}for(var ft=N.indexOf(d,v),$=N.indexOf(w,v),bt=new RegExp(B(T)+B(x),"g"),k=N.indexOf(x,v);;)if(N[v]===x)for(k=v,v++;;){if((k=N.indexOf(x,k+1))===-1)return P||gt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:nt.length,index:v}),ct();if(k===Z-1)return ct(N.substring(v,k).replace(bt,x));if(x===T&&N[k+1]===T)k++;else if(x===T||k===0||N[k-1]!==T){ft!==-1&&ft<k+1&&(ft=N.indexOf(d,k+1));var W=wt(($=$!==-1&&$<k+1?N.indexOf(w,k+1):$)===-1?ft:Math.min(ft,$));if(N.substr(k+1+W,et)===d){Q.push(N.substring(v,k).replace(bt,x)),N[v=k+1+W+et]!==x&&(k=N.indexOf(x,v)),ft=N.indexOf(d,v),$=N.indexOf(w,v);break}if(W=wt($),N.substring(k+1+W,k+1+W+it)===w){if(Q.push(N.substring(v,k).replace(bt,x)),dt(k+1+W+it),ft=N.indexOf(d,v),k=N.indexOf(x,v),G&&(E(),F))return rt();if(_&&nt.length>=_)return rt(!0);break}gt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:nt.length,index:v}),k++}}else if(y&&Q.length===0&&N.substring(v,v+at)===y){if($===-1)return rt();v=$+it,$=N.indexOf(w,v),ft=N.indexOf(d,v)}else if(ft!==-1&&(ft<$||$===-1))Q.push(N.substring(v,ft)),v=ft+et,ft=N.indexOf(d,v);else{if($===-1)break;if(Q.push(N.substring(v,$)),dt($+it),G&&(E(),F))return rt();if(_&&nt.length>=_)return rt(!0)}return ct();function X(V){nt.push(V),ut=v}function wt(V){var I=0;return I=V!==-1&&(V=N.substring(k+1,V))&&V.trim()===""?V.length:I}function ct(V){return P||(V===void 0&&(V=N.substring(v)),Q.push(V),v=Z,X(Q),G&&E()),rt()}function dt(V){v=V,X(Q),Q=[],$=N.indexOf(w,v)}function rt(V){if(h.header&&!q&&nt.length&&!g){var I=nt[0],Y={},pt=new Set(I);let Mt=!1;for(let St=0;St<I.length;St++){let mt=I[St];if(Y[mt=L(h.transformHeader)?h.transformHeader(mt,St):mt]){let kt,Et=Y[mt];for(;kt=mt+"_"+Et,Et++,pt.has(kt););pt.add(kt),I[St]=kt,Y[mt]++,Mt=!0,(C=C===null?{}:C)[kt]=mt}else Y[mt]=1,I[St]=mt;pt.add(mt)}Mt&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:nt,errors:gt,meta:{delimiter:d,linebreak:w,aborted:F,truncated:!!V,cursor:ut+(q||0),renamedHeaders:C}}}function E(){A(rt()),nt=[],gt=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return v}}function O(h){var d=h.data,w=l[d.workerId],y=!1;if(d.error)w.userError(d.error,d.file);else if(d.results&&d.results.data){var A={abort:function(){y=!0,U(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(L(w.userStep)){for(var _=0;_<d.results.data.length&&(w.userStep({data:d.results.data[_],errors:d.results.errors,meta:d.results.meta},A),!y);_++);delete d.results}else L(w.userChunk)&&(w.userChunk(d.results,A,d.file),delete d.results)}d.finished&&!y&&U(d.workerId,d.results)}function U(h,d){var w=l[h];L(w.userComplete)&&w.userComplete(d),w.terminate(),delete l[h]}function j(){throw new Error("Not implemented.")}function J(h){if(typeof h!="object"||h===null)return h;var d,w=Array.isArray(h)?[]:{};for(d in h)w[d]=J(h[d]);return w}function H(h,d){return function(){h.apply(d,arguments)}}function L(h){return typeof h=="function"}return a.parse=function(h,d){var w=(d=d||{}).dynamicTyping||!1;if(L(w)&&(d.dynamicTypingFunction=w,w={}),d.dynamicTyping=w,d.transform=!!L(d.transform)&&d.transform,!d.worker||!a.WORKERS_SUPPORTED)return w=null,a.NODE_STREAM_INPUT,typeof h=="string"?(h=(y=>y.charCodeAt(0)!==65279?y:y.slice(1))(h),w=new(d.download?c:b)(d)):h.readable===!0&&L(h.read)&&L(h.on)?w=new S(d):(r.File&&h instanceof File||h instanceof Object)&&(w=new m(d)),w.stream(h);(w=(()=>{var y;return!!a.WORKERS_SUPPORTED&&(y=(()=>{var A=r.URL||r.webkitURL||null,_=n.toString();return a.BLOB_URL||(a.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",_,")();"],{type:"text/javascript"})))})(),(y=new r.Worker(y)).onmessage=O,y.id=u++,l[y.id]=y)})()).userStep=d.step,w.userChunk=d.chunk,w.userComplete=d.complete,w.userError=d.error,d.step=L(d.step),d.chunk=L(d.chunk),d.complete=L(d.complete),d.error=L(d.error),delete d.worker,w.postMessage({input:h,config:d,workerId:w.id})},a.unparse=function(h,d){var w=!1,y=!0,A=",",_=`\r
`,p='"',C=p+p,g=!1,x=null,T=!1,v=((()=>{if(typeof d=="object"){if(typeof d.delimiter!="string"||a.BAD_DELIMITERS.filter(function(q){return d.delimiter.indexOf(q)!==-1}).length||(A=d.delimiter),typeof d.quotes!="boolean"&&typeof d.quotes!="function"&&!Array.isArray(d.quotes)||(w=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(g=d.skipEmptyLines),typeof d.newline=="string"&&(_=d.newline),typeof d.quoteChar=="string"&&(p=d.quoteChar),typeof d.header=="boolean"&&(y=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");x=d.columns}d.escapeChar!==void 0&&(C=d.escapeChar+p),d.escapeFormulae instanceof RegExp?T=d.escapeFormulae:typeof d.escapeFormulae=="boolean"&&d.escapeFormulae&&(T=/^[=+\-@\t\r].*$/)}})(),new RegExp(B(p),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return F(null,h,g);if(typeof h[0]=="object")return F(x||Object.keys(h[0]),h,g)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||x),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),F(h.fields||[],h.data||[],g);throw new Error("Unable to serialize unrecognized input");function F(q,P,Z){var et="",it=(typeof q=="string"&&(q=JSON.parse(q)),typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(q)&&0<q.length),at=!Array.isArray(P[0]);if(it&&y){for(var G=0;G<q.length;G++)0<G&&(et+=A),et+=N(q[G],G);0<P.length&&(et+=_)}for(var nt=0;nt<P.length;nt++){var gt=(it?q:P[nt]).length,Q=!1,ut=it?Object.keys(P[nt]).length===0:P[nt].length===0;if(Z&&!it&&(Q=Z==="greedy"?P[nt].join("").trim()==="":P[nt].length===1&&P[nt][0].length===0),Z==="greedy"&&it){for(var yt=[],ht=0;ht<gt;ht++){var ft=at?q[ht]:ht;yt.push(P[nt][ft])}Q=yt.join("").trim()===""}if(!Q){for(var $=0;$<gt;$++){0<$&&!ut&&(et+=A);var bt=it&&at?q[$]:$;et+=N(P[nt][bt],$)}nt<P.length-1&&(!Z||0<gt&&!ut)&&(et+=_)}}return et}function N(q,P){var Z,et;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(et=!1,T&&typeof q=="string"&&T.test(q)&&(q="'"+q,et=!0),Z=q.toString().replace(v,C),(et=et||w===!0||typeof w=="function"&&w(q,P)||Array.isArray(w)&&w[P]||((it,at)=>{for(var G=0;G<at.length;G++)if(-1<it.indexOf(at[G]))return!0;return!1})(Z,a.BAD_DELIMITERS)||-1<Z.indexOf(A)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?p+Z+p:Z)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=M,a.ParserHandle=D,a.NetworkStreamer=c,a.FileStreamer=m,a.StringStreamer=b,a.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var d=h.config||{},w=[];return this.each(function(_){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var p=0;p<this.files.length;p++)w.push({file:this.files[p],inputElem:this,instanceConfig:i.extend({},d)})}),y(),this;function y(){if(w.length===0)L(h.complete)&&h.complete();else{var _,p,C,g,x=w[0];if(L(h.before)){var T=h.before(x.file,x.inputElem);if(typeof T=="object"){if(T.action==="abort")return _="AbortError",p=x.file,C=x.inputElem,g=T.reason,void(L(h.error)&&h.error({name:_},p,C,g));if(T.action==="skip")return void A();typeof T.config=="object"&&(x.instanceConfig=i.extend(x.instanceConfig,T.config))}else if(T==="skip")return void A()}var v=x.instanceConfig.complete;x.instanceConfig.complete=function(F){L(v)&&v(F,x.file,x.inputElem),A()},a.parse(x.file,x.instanceConfig)}}function A(){w.splice(0,1),y()}}),s&&(r.onmessage=function(h){h=h.data,a.WORKER_ID===void 0&&h&&(a.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=a.parse(h.input,h.config))&&r.postMessage({workerId:a.WORKER_ID,results:h,finished:!0})}),(c.prototype=Object.create(f.prototype)).constructor=c,(m.prototype=Object.create(f.prototype)).constructor=m,(b.prototype=Object.create(b.prototype)).constructor=b,(S.prototype=Object.create(f.prototype)).constructor=S,a})})(Ir);const Mi=Ir.exports;function Ne(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lr(t){let e,n,r;t.length!==2?(e=Ne,n=(l,u)=>Ne(t(l),u),r=(l,u)=>t(l)-u):(e=t===Ne||t===Ei?t:Ci,n=t,r=t);function i(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const c=a+f>>>1;n(l[c],u)<0?a=c+1:f=c}while(a<f)}return a}function o(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const c=a+f>>>1;n(l[c],u)<=0?a=c+1:f=c}while(a<f)}return a}function s(l,u,a=0,f=l.length){const c=i(l,u,a,f-1);return c>a&&r(l[c-1],u)>-r(l[c],u)?c-1:c}return{left:i,center:s,right:o}}function Ci(){return 0}function Ai(t){return t===null?NaN:+t}const Ti=Lr(Ne),Di=Ti.right;Lr(Ai).center;const Ri=Di;class Xn extends Map{constructor(e,n=zi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Bn(this,e))}has(e){return super.has(Bn(this,e))}set(e,n){return super.set(Ni(this,e),n)}delete(e){return super.delete(Oi(this,e))}}function Bn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ni({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Oi({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zi(t){return t!==null&&typeof t=="object"?t.valueOf():t}var fn=Math.sqrt(50),cn=Math.sqrt(10),hn=Math.sqrt(2);function Ii(t,e,n){var r,i=-1,o,s,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=Fr(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)/l}return r&&s.reverse(),s}function Fr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fn?10:o>=cn?5:o>=hn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fn?10:o>=cn?5:o>=hn?2:1)}function Li(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fn?i*=10:o>=cn?i*=5:o>=hn&&(i*=2),e<t?-i:i}function Hn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Un=Symbol("implicit");function Vr(){var t=new Xn,e=[],n=[],r=Un;function i(o){let s=t.get(o);if(s===void 0){if(r!==Un)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Xn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vr(e,n).unknown(r)},Pr.apply(i,arguments),i}function En(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ve(){}var _e=.7,Pe=1/_e,se="\\s*([+-]?\\d+)\\s*",ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fi=/^#([0-9a-f]{3,8})$/,Pi=new RegExp(`^rgb\\(${se},${se},${se}\\)$`),Vi=new RegExp(`^rgb\\(${Vt},${Vt},${Vt}\\)$`),qi=new RegExp(`^rgba\\(${se},${se},${se},${ye}\\)$`),Xi=new RegExp(`^rgba\\(${Vt},${Vt},${Vt},${ye}\\)$`),Bi=new RegExp(`^hsl\\(${ye},${Vt},${Vt}\\)$`),Hi=new RegExp(`^hsla\\(${ye},${Vt},${Vt},${ye}\\)$`),Wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};En(ve,ee,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kn,formatHex:Kn,formatHex8:Yi,formatHsl:Ui,formatRgb:Qn,toString:Qn});function Kn(){return this.rgb().formatHex()}function Yi(){return this.rgb().formatHex8()}function Ui(){return Xr(this).formatHsl()}function Qn(){return this.rgb().formatRgb()}function ee(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gn(e):n===3?new Dt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Se(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Se(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pi.exec(t))?new Dt(e[1],e[2],e[3],1):(e=Vi.exec(t))?new Dt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qi.exec(t))?Se(e[1],e[2],e[3],e[4]):(e=Xi.exec(t))?Se(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bi.exec(t))?jn(e[1],e[2]/100,e[3]/100,1):(e=Hi.exec(t))?jn(e[1],e[2]/100,e[3]/100,e[4]):Wn.hasOwnProperty(t)?Gn(Wn[t]):t==="transparent"?new Dt(NaN,NaN,NaN,0):null}function Gn(t){return new Dt(t>>16&255,t>>8&255,t&255,1)}function Se(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dt(t,e,n,r)}function Wi(t){return t instanceof ve||(t=ee(t)),t?(t=t.rgb(),new Dt(t.r,t.g,t.b,t.opacity)):new Dt}function dn(t,e,n,r){return arguments.length===1?Wi(t):new Dt(t,e,n,r==null?1:r)}function Dt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}En(Dt,dn,qr(ve,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_e:Math.pow(_e,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dt(te(this.r),te(this.g),te(this.b),Ve(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatHex8:Ki,formatRgb:Jn,toString:Jn}));function Zn(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}`}function Ki(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}${jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jn(){const t=Ve(this.opacity);return`${t===1?"rgb(":"rgba("}${te(this.r)}, ${te(this.g)}, ${te(this.b)}${t===1?")":`, ${t})`}`}function Ve(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function te(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jt(t){return t=te(t),(t<16?"0":"")+t.toString(16)}function jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lt(t,e,n,r)}function Xr(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof ve||(t=ee(t)),!t)return new Lt;if(t instanceof Lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Lt(s,l,u,t.opacity)}function Qi(t,e,n,r){return arguments.length===1?Xr(t):new Lt(t,e,n,r==null?1:r)}function Lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}En(Lt,Qi,qr(ve,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_e:Math.pow(_e,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dt(on(t>=240?t-240:t+120,i,r),on(t,i,r),on(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lt($n(this.h),Me(this.s),Me(this.l),Ve(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ve(this.opacity);return`${t===1?"hsl(":"hsla("}${$n(this.h)}, ${Me(this.s)*100}%, ${Me(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $n(t){return t=(t||0)%360,t<0?t+360:t}function Me(t){return Math.max(0,Math.min(1,t||0))}function on(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cn=t=>()=>t;function Gi(t,e){return function(n){return t+n*e}}function Zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ji(t){return(t=+t)==1?Br:function(e,n){return n-e?Zi(e,n,t):Cn(isNaN(e)?n:e)}}function Br(t,e){var n=e-t;return n?Gi(t,n):Cn(isNaN(t)?e:t)}const qe=function t(e){var n=Ji(e);function r(i,o){var s=n((i=dn(i)).r,(o=dn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=Br(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=a(f),i+""}}return r.gamma=t,r}(1);function ji(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $i(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function to(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=An(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function eo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function It(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function no(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=An(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(pn.source,"g");function ro(t){return function(){return t}}function io(t){return function(e){return t(e)+""}}function Hr(t,e){var n=pn.lastIndex=sn.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=pn.exec(t))&&(i=sn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:It(r,i)})),n=sn.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?io(u[0].x):ro(e):(e=u.length,function(a){for(var f=0,c;f<e;++f)l[(c=u[f]).i]=c.x(a);return l.join("")})}function An(t,e){var n=typeof e,r;return e==null||n==="boolean"?Cn(e):(n==="number"?It:n==="string"?(r=ee(e))?(e=r,qe):Hr:e instanceof ee?qe:e instanceof Date?eo:$i(e)?ji:Array.isArray(e)?to:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?no:It)(t,e)}function oo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var tr=180/Math.PI,gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yr(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tr,skewX:Math.atan(u)*tr,scaleX:s,scaleY:l}}var Ee;function so(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?gn:Yr(e.a,e.b,e.c,e.d,e.e,e.f)}function ao(t){return t==null||(Ee||(Ee=document.createElementNS("http://www.w3.org/2000/svg","g")),Ee.setAttribute("transform",t),!(t=Ee.transform.baseVal.consolidate()))?gn:(t=t.matrix,Yr(t.a,t.b,t.c,t.d,t.e,t.f))}function Ur(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,f,c,m,b,S){if(a!==c||f!==m){var D=b.push("translate(",null,e,null,n);S.push({i:D-4,x:It(a,c)},{i:D-2,x:It(f,m)})}else(c||m)&&b.push("translate("+c+e+m+n)}function s(a,f,c,m){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),m.push({i:c.push(i(c)+"rotate(",null,r)-2,x:It(a,f)})):f&&c.push(i(c)+"rotate("+f+r)}function l(a,f,c,m){a!==f?m.push({i:c.push(i(c)+"skewX(",null,r)-2,x:It(a,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(a,f,c,m,b,S){if(a!==c||f!==m){var D=b.push(i(b)+"scale(",null,",",null,")");S.push({i:D-4,x:It(a,c)},{i:D-2,x:It(f,m)})}else(c!==1||m!==1)&&b.push(i(b)+"scale("+c+","+m+")")}return function(a,f){var c=[],m=[];return a=t(a),f=t(f),o(a.translateX,a.translateY,f.translateX,f.translateY,c,m),s(a.rotate,f.rotate,c,m),l(a.skewX,f.skewX,c,m),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,c,m),a=f=null,function(b){for(var S=-1,D=m.length,B;++S<D;)c[(B=m[S]).i]=B.x(b);return c.join("")}}}var lo=Ur(so,"px, ","px)","deg)"),uo=Ur(ao,", ",")",")"),fo=1e-12;function er(t){return((t=Math.exp(t))+1/t)/2}function co(t){return((t=Math.exp(t))-1/t)/2}function ho(t){return((t=Math.exp(2*t))-1)/(t+1)}const po=function t(e,n,r){function i(o,s){var l=o[0],u=o[1],a=o[2],f=s[0],c=s[1],m=s[2],b=f-l,S=c-u,D=b*b+S*S,B,M;if(D<fo)M=Math.log(m/a)/e,B=function(L){return[l+L*b,u+L*S,a*Math.exp(e*L*M)]};else{var O=Math.sqrt(D),U=(m*m-a*a+r*D)/(2*a*n*O),j=(m*m-a*a-r*D)/(2*m*n*O),J=Math.log(Math.sqrt(U*U+1)-U),H=Math.log(Math.sqrt(j*j+1)-j);M=(H-J)/e,B=function(L){var h=L*M,d=er(J),w=a/(n*O)*(d*ho(e*h+J)-co(J));return[l+w*b,u+w*S,a*d/er(e*h+J)]}}return B.duration=M*1e3*e/Math.SQRT2,B}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,u=l*l;return t(s,l,u)},i}(Math.SQRT2,2,4);function go(t){return function(){return t}}function mo(t){return+t}var nr=[0,1];function ie(t){return t}function mn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:go(isNaN(e)?NaN:.5)}function _o(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=mn(i,r),o=n(s,o)):(r=mn(r,i),o=n(o,s)),function(l){return o(r(l))}}function wo(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=mn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var u=Ri(t,l,1,r)-1;return o[u](i[u](l))}}function vo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bo(){var t=nr,e=nr,n=An,r,i,o,s=ie,l,u,a;function f(){var m=Math.min(t.length,e.length);return s!==ie&&(s=_o(t[0],t[m-1])),l=m>2?wo:yo,u=a=null,c}function c(m){return m==null||isNaN(m=+m)?o:(u||(u=l(t.map(r),e,n)))(r(s(m)))}return c.invert=function(m){return s(i((a||(a=l(e,t.map(r),It)))(m)))},c.domain=function(m){return arguments.length?(t=Array.from(m,mo),f()):t.slice()},c.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},c.rangeRound=function(m){return e=Array.from(m),n=oo,f()},c.clamp=function(m){return arguments.length?(s=m?!0:ie,f()):s!==ie},c.interpolate=function(m){return arguments.length?(n=m,f()):n},c.unknown=function(m){return arguments.length?(o=m,c):o},function(m,b){return r=m,i=b,f()}}function xo(){return bo()(ie,ie)}function ko(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ae(t){return t=Xe(Math.abs(t)),t?t[1]:NaN}function So(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Mo(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Be(t){if(!(e=Eo.exec(t)))throw new Error("invalid format: "+t);var e;return new Tn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Be.prototype=Tn.prototype;function Tn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Co(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wr;function Ao(t,e){var n=Xe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Wr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xe(t,Math.max(0,e+o-1))[0]}function rr(t,e){var n=Xe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ir={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ko,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rr(t*100,e),r:rr,s:Ao,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function or(t){return t}var sr=Array.prototype.map,ar=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function To(t){var e=t.grouping===void 0||t.thousands===void 0?or:So(sr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?or:Mo(sr.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(c){c=Be(c);var m=c.fill,b=c.align,S=c.sign,D=c.symbol,B=c.zero,M=c.width,O=c.comma,U=c.precision,j=c.trim,J=c.type;J==="n"?(O=!0,J="g"):ir[J]||(U===void 0&&(U=12),j=!0,J="g"),(B||m==="0"&&b==="=")&&(B=!0,m="0",b="=");var H=D==="$"?n:D==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",L=D==="$"?r:/[%p]/.test(J)?s:"",h=ir[J],d=/[defgprs%]/.test(J);U=U===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function w(y){var A=H,_=L,p,C,g;if(J==="c")_=h(y)+_,y="";else{y=+y;var x=y<0||1/y<0;if(y=isNaN(y)?u:h(Math.abs(y),U),j&&(y=Co(y)),x&&+y==0&&S!=="+"&&(x=!1),A=(x?S==="("?S:l:S==="-"||S==="("?"":S)+A,_=(J==="s"?ar[8+Wr/3]:"")+_+(x&&S==="("?")":""),d){for(p=-1,C=y.length;++p<C;)if(g=y.charCodeAt(p),48>g||g>57){_=(g===46?i+y.slice(p+1):y.slice(p))+_,y=y.slice(0,p);break}}}O&&!B&&(y=e(y,1/0));var T=A.length+y.length+_.length,v=T<M?new Array(M-T+1).join(m):"";switch(O&&B&&(y=e(v+y,v.length?M-_.length:1/0),v=""),b){case"<":y=A+y+_+v;break;case"=":y=A+v+y+_;break;case"^":y=v.slice(0,T=v.length>>1)+A+y+_+v.slice(T);break;default:y=v+A+y+_;break}return o(y)}return w.toString=function(){return c+""},w}function f(c,m){var b=a((c=Be(c),c.type="f",c)),S=Math.max(-8,Math.min(8,Math.floor(ae(m)/3)))*3,D=Math.pow(10,-S),B=ar[8+S/3];return function(M){return b(D*M)+B}}return{format:a,formatPrefix:f}}var Ce,Kr,Qr;Do({thousands:",",grouping:[3],currency:["$",""]});function Do(t){return Ce=To(t),Kr=Ce.format,Qr=Ce.formatPrefix,Ce}function Ro(t){return Math.max(0,-ae(Math.abs(t)))}function No(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ae(e)/3)))*3-ae(Math.abs(t)))}function Oo(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ae(e)-ae(t))+1}function zo(t,e,n,r){var i=Li(t,e,n),o;switch(r=Be(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=No(i,s))&&(r.precision=o),Qr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Oo(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ro(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kr(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ii(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return zo(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],u,a,f=10;for(l<s&&(a=s,s=l,l=a,a=i,i=o,o=a);f-- >0;){if(a=Fr(s,l,n),a===u)return r[i]=s,r[o]=l,e(r);if(a>0)s=Math.floor(s/a)*a,l=Math.ceil(l/a)*a;else if(a<0)s=Math.ceil(s*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function _n(){var t=xo();return t.copy=function(){return vo(t,_n())},Pr.apply(t,arguments),Io(t)}function Lo(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Fo=Lo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Po(t){let e;return{c(){e=K("p"),e.textContent="Hover over a circle to see details here.",R(e,"class","svelte-b094ih")},m(n,r){st(n,e,r)},p:Rt,d(n){n&&ot(e)}}}function Vo(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",l,u,a,f=t[0].date.toISOString().split("T")[0]+"",c,m,b,S,D=t[0].text+"",B,M=t[6]&&lr(t);return{c(){e=K("h1"),r=xt(n),i=lt(),o=K("span"),l=xt(s),u=lt(),a=K("h2"),c=xt(f),m=lt(),M&&M.c(),b=lt(),S=K("p"),B=xt(D),R(e,"class","svelte-b094ih"),At(o,"background",t[2](t[0][t[1]])),R(o,"class","svelte-b094ih"),R(a,"class","svelte-b094ih"),R(S,"class","svelte-b094ih")},m(O,U){st(O,e,U),z(e,r),st(O,i,U),st(O,o,U),z(o,l),st(O,u,U),st(O,a,U),z(a,c),st(O,m,U),M&&M.m(O,U),st(O,b,U),st(O,S,U),z(S,B)},p(O,U){U&1&&n!==(n=O[0].title+"")&&Ot(r,n),U&35&&s!==(s=(O[5]?O[5](O[1],O[0][O[1]]):O[0][O[1]])+"")&&Ot(l,s),U&7&&At(o,"background",O[2](O[0][O[1]])),U&1&&f!==(f=O[0].date.toISOString().split("T")[0]+"")&&Ot(c,f),O[6]?M?M.p(O,U):(M=lr(O),M.c(),M.m(b.parentNode,b)):M&&(M.d(1),M=null),U&1&&D!==(D=O[0].text+"")&&Ot(B,D)},d(O){O&&ot(e),O&&ot(i),O&&ot(o),O&&ot(u),O&&ot(a),O&&ot(m),M&&M.d(O),O&&ot(b),O&&ot(S)}}}function lr(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&ur(t);return{c(){r&&r.c(),n=Dr()},m(i,o){r&&r.m(i,o),st(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=ur(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&ot(n)}}}function ur(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=K("p"),n=K("em"),i=xt(r),R(e,"class","svelte-b094ih")},m(o,s){st(o,e,s),z(e,n),z(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Ot(i,r)},d(o){o&&ot(e)}}}function qo(t){let e;function n(o,s){return o[0]?Vo:Po}let r=n(t),i=r(t);return{c(){e=K("div"),i.c(),R(e,"class","detail-card svelte-b094ih"),At(e,"left",t[3]+"px"),At(e,"top",t[4]+"px")},m(o,s){st(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&At(e,"left",o[3]+"px"),s&16&&At(e,"top",o[4]+"px")},i:Rt,o:Rt,d(o){o&&ot(e),i.d()}}}function Xo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:l=0}=e,{posY:u=0}=e,{labelOverride:a=null}=e,{descriptionOverride:f=null}=e;return Sn(()=>{s.domain(o.map(c=>c[i]))}),t.$$set=c=>{"hoveredData"in c&&n(0,r=c.hoveredData),"domainColumn"in c&&n(1,i=c.domainColumn),"data"in c&&n(7,o=c.data),"colorScale"in c&&n(2,s=c.colorScale),"posX"in c&&n(3,l=c.posX),"posY"in c&&n(4,u=c.posY),"labelOverride"in c&&n(5,a=c.labelOverride),"descriptionOverride"in c&&n(6,f=c.descriptionOverride)},[r,i,s,l,u,a,f,o]}class Bo extends $e{constructor(e){super(),je(this,e,Xo,qo,Ge,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var Ho={value:()=>{}};function Dn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oe(n)}function Oe(t){this._=t}function Yo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oe.prototype=Dn.prototype={constructor:Oe,on:function(t,e){var n=this._,r=Yo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Uo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=fr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oe(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Uo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ho,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yn="http://www.w3.org/1999/xhtml";const cr={svg:"http://www.w3.org/2000/svg",xhtml:yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),cr.hasOwnProperty(e)?{space:cr[e],local:t}:t}function Wo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yn&&e.documentElement.namespaceURI===yn?e.createElement(t):e.createElementNS(n,t)}}function Ko(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gr(t){var e=tn(t);return(e.local?Ko:Wo)(e)}function Qo(){}function Rn(t){return t==null?Qo:function(){return this.querySelector(t)}}function Go(t){typeof t!="function"&&(t=Rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,f=0;f<s;++f)(u=o[f])&&(a=t.call(u,u.__data__,f,o))&&("__data__"in u&&(a.__data__=u.__data__),l[f]=a);return new zt(r,this._parents)}function Zo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Jo(){return[]}function Zr(t){return t==null?Jo:function(){return this.querySelectorAll(t)}}function jo(t){return function(){return Zo(t.apply(this,arguments))}}function $o(t){typeof t=="function"?t=jo(t):t=Zr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new zt(r,i)}function Jr(t){return function(){return this.matches(t)}}function jr(t){return function(e){return e.matches(t)}}var ts=Array.prototype.find;function es(t){return function(){return ts.call(this.children,t)}}function ns(){return this.firstElementChild}function rs(t){return this.select(t==null?ns:es(typeof t=="function"?t:jr(t)))}var is=Array.prototype.filter;function os(){return Array.from(this.children)}function ss(t){return function(){return is.call(this.children,t)}}function as(t){return this.selectAll(t==null?os:ss(typeof t=="function"?t:jr(t)))}function ls(t){typeof t!="function"&&(t=Jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new zt(r,this._parents)}function $r(t){return new Array(t.length)}function us(){return new zt(this._enter||this._groups.map($r),this._parents)}function He(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}He.prototype={constructor:He,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fs(t){return function(){return t}}function cs(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new He(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function hs(t,e,n,r,i,o,s){var l,u,a=new Map,f=e.length,c=o.length,m=new Array(f),b;for(l=0;l<f;++l)(u=e[l])&&(m[l]=b=s.call(u,u.__data__,l,e)+"",a.has(b)?i[l]=u:a.set(b,u));for(l=0;l<c;++l)b=s.call(t,o[l],l,o)+"",(u=a.get(b))?(r[l]=u,u.__data__=o[l],a.delete(b)):n[l]=new He(t,o[l]);for(l=0;l<f;++l)(u=e[l])&&a.get(m[l])===u&&(i[l]=u)}function ds(t){return t.__data__}function ps(t,e){if(!arguments.length)return Array.from(this,ds);var n=e?hs:cs,r=this._parents,i=this._groups;typeof t!="function"&&(t=fs(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var f=r[a],c=i[a],m=c.length,b=gs(t.call(f,f&&f.__data__,a,r)),S=b.length,D=l[a]=new Array(S),B=s[a]=new Array(S),M=u[a]=new Array(m);n(f,c,D,B,M,b,e);for(var O=0,U=0,j,J;O<S;++O)if(j=D[O]){for(O>=U&&(U=O+1);!(J=B[U])&&++U<S;);j._next=J||null}}return s=new zt(s,r),s._enter=l,s._exit=u,s}function gs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ms(){return new zt(this._exit||this._groups.map($r),this._parents)}function _s(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ys(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],f=r[u],c=a.length,m=l[u]=new Array(c),b,S=0;S<c;++S)(b=a[S]||f[S])&&(m[S]=b);for(;u<i;++u)l[u]=n[u];return new zt(l,this._parents)}function ws(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function vs(t){t||(t=bs);function e(c,m){return c&&m?t(c.__data__,m.__data__):!c-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,f=0;f<l;++f)(a=s[f])&&(u[f]=a);u.sort(e)}return new zt(i,this._parents).order()}function bs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ks(){return Array.from(this)}function Ss(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ms(){let t=0;for(const e of this)++t;return t}function Es(){return!this.node()}function Cs(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function As(t){return function(){this.removeAttribute(t)}}function Ts(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ds(t,e){return function(){this.setAttribute(t,e)}}function Rs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ns(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Os(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zs(t,e){var n=tn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ts:As:typeof e=="function"?n.local?Os:Ns:n.local?Rs:Ds)(n,e))}function ti(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Is(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fs(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ps(t,e,n){return arguments.length>1?this.each((e==null?Is:typeof e=="function"?Fs:Ls)(t,e,n==null?"":n)):le(this.node(),t)}function le(t,e){return t.style.getPropertyValue(e)||ti(t).getComputedStyle(t,null).getPropertyValue(e)}function Vs(t){return function(){delete this[t]}}function qs(t,e){return function(){this[t]=e}}function Xs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Bs(t,e){return arguments.length>1?this.each((e==null?Vs:typeof e=="function"?Xs:qs)(t,e)):this.node()[t]}function ei(t){return t.trim().split(/^|\s+/)}function Nn(t){return t.classList||new ni(t)}function ni(t){this._node=t,this._names=ei(t.getAttribute("class")||"")}ni.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ri(t,e){for(var n=Nn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ii(t,e){for(var n=Nn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hs(t){return function(){ri(this,t)}}function Ys(t){return function(){ii(this,t)}}function Us(t,e){return function(){(e.apply(this,arguments)?ri:ii)(this,t)}}function Ws(t,e){var n=ei(t+"");if(arguments.length<2){for(var r=Nn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Us:e?Hs:Ys)(n,e))}function Ks(){this.textContent=""}function Qs(t){return function(){this.textContent=t}}function Gs(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Zs(t){return arguments.length?this.each(t==null?Ks:(typeof t=="function"?Gs:Qs)(t)):this.node().textContent}function Js(){this.innerHTML=""}function js(t){return function(){this.innerHTML=t}}function $s(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function ta(t){return arguments.length?this.each(t==null?Js:(typeof t=="function"?$s:js)(t)):this.node().innerHTML}function ea(){this.nextSibling&&this.parentNode.appendChild(this)}function na(){return this.each(ea)}function ra(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ia(){return this.each(ra)}function oa(t){var e=typeof t=="function"?t:Gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sa(){return null}function aa(t,e){var n=typeof t=="function"?t:Gr(t),r=e==null?sa:typeof e=="function"?e:Rn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function la(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.each(la)}function fa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ca(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ha(t){return this.select(t?ca:fa)}function da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pa(t){return function(e){t.call(this,e,this.__data__)}}function ga(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ma(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function _a(t,e,n){return function(){var r=this.__on,i,o=pa(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ya(t,e,n){var r=ga(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,f;u<a;++u)for(i=0,f=l[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?_a:ma,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function oi(t,e,n){var r=ti(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function wa(t,e){return function(){return oi(this,t,e)}}function va(t,e){return function(){return oi(this,t,e.apply(this,arguments))}}function ba(t,e){return this.each((typeof e=="function"?va:wa)(t,e))}function*xa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var si=[null];function zt(t,e){this._groups=t,this._parents=e}function be(){return new zt([[document.documentElement]],si)}function ka(){return this}zt.prototype=be.prototype={constructor:zt,select:Go,selectAll:$o,selectChild:rs,selectChildren:as,filter:ls,data:ps,enter:us,exit:ms,join:_s,merge:ys,selection:ka,order:ws,sort:vs,call:xs,nodes:ks,node:Ss,size:Ms,empty:Es,each:Cs,attr:zs,style:Ps,property:Bs,classed:Ws,text:Zs,html:ta,raise:na,lower:ia,append:oa,insert:aa,remove:ua,clone:ha,datum:da,on:ya,dispatch:ba,[Symbol.iterator]:xa};function Qt(t){return typeof t=="string"?new zt([[document.querySelector(t)]],[document.documentElement]):new zt([[t]],si)}function Sa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Zt(t,e){if(t=Sa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const wn={capture:!0,passive:!1};function vn(t){t.preventDefault(),t.stopImmediatePropagation()}function Ma(t){var e=t.document.documentElement,n=Qt(t).on("dragstart.drag",vn,wn);"onselectstart"in e?n.on("selectstart.drag",vn,wn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ea(t,e){var n=t.document.documentElement,r=Qt(t).on("dragstart.drag",null);e&&(r.on("click.drag",vn,wn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ue=0,de=0,fe=0,ai=1e3,Ye,pe,Ue=0,ne=0,en=0,we=typeof performance=="object"&&performance.now?performance:Date,li=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function On(){return ne||(li(Ca),ne=we.now()+en)}function Ca(){ne=0}function We(){this._call=this._time=this._next=null}We.prototype=ui.prototype={constructor:We,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?On():+n)+(e==null?0:+e),!this._next&&pe!==this&&(pe?pe._next=this:Ye=this,pe=this),this._call=t,this._time=n,bn()},stop:function(){this._call&&(this._call=null,this._time=1/0,bn())}};function ui(t,e,n){var r=new We;return r.restart(t,e,n),r}function Aa(){On(),++ue;for(var t=Ye,e;t;)(e=ne-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ue}function hr(){ne=(Ue=we.now())+en,ue=de=0;try{Aa()}finally{ue=0,Da(),ne=0}}function Ta(){var t=we.now(),e=t-Ue;e>ai&&(en-=e,Ue=t)}function Da(){for(var t,e=Ye,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ye=n);pe=t,bn(r)}function bn(t){if(!ue){de&&(de=clearTimeout(de));var e=t-ne;e>24?(t<1/0&&(de=setTimeout(hr,t-we.now()-en)),fe&&(fe=clearInterval(fe))):(fe||(Ue=we.now(),fe=setInterval(Ta,ai)),ue=1,li(hr))}}function dr(t,e,n){var r=new We;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ra=Dn("start","end","cancel","interrupt"),Na=[],fi=0,pr=1,xn=2,ze=3,gr=4,kn=5,Ie=6;function nn(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Oa(t,n,{name:e,index:r,group:i,on:Ra,tween:Na,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fi})}function zn(t,e){var n=Ft(t,e);if(n.state>fi)throw new Error("too late; already scheduled");return n}function qt(t,e){var n=Ft(t,e);if(n.state>ze)throw new Error("too late; already running");return n}function Ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Oa(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ui(o,0,n.time);function o(a){n.state=pr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var f,c,m,b;if(n.state!==pr)return u();for(f in r)if(b=r[f],b.name===n.name){if(b.state===ze)return dr(s);b.state===gr?(b.state=Ie,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[f]):+f<e&&(b.state=Ie,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[f])}if(dr(function(){n.state===ze&&(n.state=gr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=xn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xn){for(n.state=ze,i=new Array(m=n.tween.length),f=0,c=-1;f<m;++f)(b=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=b);i.length=c+1}}function l(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=kn,1),c=-1,m=i.length;++c<m;)i[c].call(t,f);n.state===kn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ie,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Le(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>xn&&r.state<kn,r.state=Ie,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function za(t){return this.each(function(){Le(this,t)})}function Ia(t,e){var n,r;return function(){var i=qt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function La(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=qt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function Fa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ft(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Ia:La)(n,t,e))}function In(t,e,n){var r=t._id;return t.each(function(){var i=qt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ft(i,r).value[e]}}function ci(t,e){var n;return(typeof e=="number"?It:e instanceof ee?qe:(n=ee(e))?(e=n,qe):Hr)(t,e)}function Pa(t){return function(){this.removeAttribute(t)}}function Va(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Xa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Ba(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ha(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ya(t,e){var n=tn(t),r=n==="transform"?uo:ci;return this.attrTween(t,typeof e=="function"?(n.local?Ha:Ba)(n,r,In(this,"attr."+t,e)):e==null?(n.local?Va:Pa)(n):(n.local?Xa:qa)(n,r,e))}function Ua(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wa(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ka(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wa(t,o)),n}return i._value=e,i}function Qa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ua(t,o)),n}return i._value=e,i}function Ga(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=tn(t);return this.tween(n,(r.local?Ka:Qa)(r,e))}function Za(t,e){return function(){zn(this,t).delay=+e.apply(this,arguments)}}function Ja(t,e){return e=+e,function(){zn(this,t).delay=e}}function ja(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Za:Ja)(e,t)):Ft(this.node(),e).delay}function $a(t,e){return function(){qt(this,t).duration=+e.apply(this,arguments)}}function tl(t,e){return e=+e,function(){qt(this,t).duration=e}}function el(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$a:tl)(e,t)):Ft(this.node(),e).duration}function nl(t,e){if(typeof e!="function")throw new Error;return function(){qt(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(nl(e,t)):Ft(this.node(),e).ease}function il(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;qt(this,t).ease=n}}function ol(t){if(typeof t!="function")throw new Error;return this.each(il(this._id,t))}function sl(t){typeof t!="function"&&(t=Jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Ut(r,this._parents,this._name,this._id)}function al(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],f=u.length,c=s[l]=new Array(f),m,b=0;b<f;++b)(m=u[b]||a[b])&&(c[b]=m);for(;l<r;++l)s[l]=e[l];return new Ut(s,this._parents,this._name,this._id)}function ll(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ul(t,e,n){var r,i,o=ll(e)?zn:qt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function fl(t,e){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(t):this.each(ul(n,t,e))}function cl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hl(){return this.on("end.remove",cl(this._id))}function dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),f,c,m=0;m<u;++m)(f=l[m])&&(c=t.call(f,f.__data__,m,l))&&("__data__"in f&&(c.__data__=f.__data__),a[m]=c,nn(a[m],e,n,m,a,Ft(f,n)));return new Ut(o,this._parents,e,n)}function pl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,f,c=0;c<a;++c)if(f=u[c]){for(var m=t.call(f,f.__data__,c,u),b,S=Ft(f,n),D=0,B=m.length;D<B;++D)(b=m[D])&&nn(b,e,n,D,m,S);o.push(m),s.push(f)}return new Ut(o,s,e,n)}var gl=be.prototype.constructor;function ml(){return new gl(this._groups,this._parents)}function _l(t,e){var n,r,i;return function(){var o=le(this,t),s=(this.style.removeProperty(t),le(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function hi(t){return function(){this.style.removeProperty(t)}}function yl(t,e,n){var r,i=n+"",o;return function(){var s=le(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function wl(t,e,n){var r,i,o;return function(){var s=le(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),le(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function vl(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=qt(this,t),a=u.on,f=u.value[o]==null?l||(l=hi(e)):void 0;(a!==n||i!==f)&&(r=(n=a).copy()).on(s,i=f),u.on=r}}function bl(t,e,n){var r=(t+="")=="transform"?lo:ci;return e==null?this.styleTween(t,_l(t,r)).on("end.style."+t,hi(t)):typeof e=="function"?this.styleTween(t,wl(t,r,In(this,"style."+t,e))).each(vl(this._id,t)):this.styleTween(t,yl(t,r,e),n).on("end.style."+t,null)}function xl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function kl(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xl(t,s,n)),r}return o._value=e,o}function Sl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,kl(t,e,n==null?"":n))}function Ml(t){return function(){this.textContent=t}}function El(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Cl(t){return this.tween("text",typeof t=="function"?El(In(this,"text",t)):Ml(t==null?"":t+""))}function Al(t){return function(e){this.textContent=t.call(this,e)}}function Tl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Al(i)),e}return r._value=t,r}function Dl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Tl(t))}function Rl(){for(var t=this._name,e=this._id,n=di(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var f=Ft(u,e);nn(u,t,n,a,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ut(r,this._parents,t,n)}function Nl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=qt(this,r),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var Ol=0;function Ut(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function di(){return++Ol}var Xt=be.prototype;Ut.prototype={constructor:Ut,select:dl,selectAll:pl,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:sl,merge:al,selection:ml,transition:Rl,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:fl,attr:Ya,attrTween:Ga,style:bl,styleTween:Sl,text:Cl,textTween:Dl,remove:hl,tween:Fa,delay:ja,duration:el,ease:rl,easeVarying:ol,end:Nl,[Symbol.iterator]:Xt[Symbol.iterator]};function zl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Il={time:null,delay:0,duration:250,ease:zl};function Ll(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Fl(t){var e,n;t instanceof Ut?(e=t._id,t=t._name):(e=di(),(n=Il).time=On(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&nn(u,t,e,a,s,n||Ll(u,e));return new Ut(r,this._parents,t,e)}be.prototype.interrupt=za;be.prototype.transition=Fl;const Ae=t=>()=>t;function Pl(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Bt(t,e,n){this.k=t,this.x=e,this.y=n}Bt.prototype={constructor:Bt,scale:function(t){return t===1?this:new Bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ke=new Bt(1,0,0);Bt.prototype;function an(t){t.stopImmediatePropagation()}function ce(t){t.preventDefault(),t.stopImmediatePropagation()}function Vl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ql(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function mr(){return this.__zoom||Ke}function Xl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Yl(){var t=Vl,e=ql,n=Hl,r=Xl,i=Bl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=po,a=Dn("start","zoom","end"),f,c,m,b=500,S=150,D=0,B=10;function M(p){p.property("__zoom",mr).on("wheel.zoom",h,{passive:!1}).on("mousedown.zoom",d).on("dblclick.zoom",w).filter(i).on("touchstart.zoom",y).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(p,C,g,x){var T=p.selection?p.selection():p;T.property("__zoom",mr),p!==T?J(p,C,g,x):T.interrupt().each(function(){H(this,arguments).event(x).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},M.scaleBy=function(p,C,g,x){M.scaleTo(p,function(){var T=this.__zoom.k,v=typeof C=="function"?C.apply(this,arguments):C;return T*v},g,x)},M.scaleTo=function(p,C,g,x){M.transform(p,function(){var T=e.apply(this,arguments),v=this.__zoom,F=g==null?j(T):typeof g=="function"?g.apply(this,arguments):g,N=v.invert(F),q=typeof C=="function"?C.apply(this,arguments):C;return n(U(O(v,q),F,N),T,s)},g,x)},M.translateBy=function(p,C,g,x){M.transform(p,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,x)},M.translateTo=function(p,C,g,x,T){M.transform(p,function(){var v=e.apply(this,arguments),F=this.__zoom,N=x==null?j(v):typeof x=="function"?x.apply(this,arguments):x;return n(Ke.translate(N[0],N[1]).scale(F.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof g=="function"?-g.apply(this,arguments):-g),v,s)},x,T)};function O(p,C){return C=Math.max(o[0],Math.min(o[1],C)),C===p.k?p:new Bt(C,p.x,p.y)}function U(p,C,g){var x=C[0]-g[0]*p.k,T=C[1]-g[1]*p.k;return x===p.x&&T===p.y?p:new Bt(p.k,x,T)}function j(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function J(p,C,g,x){p.on("start.zoom",function(){H(this,arguments).event(x).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(x).end()}).tween("zoom",function(){var T=this,v=arguments,F=H(T,v).event(x),N=e.apply(T,v),q=g==null?j(N):typeof g=="function"?g.apply(T,v):g,P=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),Z=T.__zoom,et=typeof C=="function"?C.apply(T,v):C,it=u(Z.invert(q).concat(P/Z.k),et.invert(q).concat(P/et.k));return function(at){if(at===1)at=et;else{var G=it(at),nt=P/G[2];at=new Bt(nt,q[0]-G[0]*nt,q[1]-G[1]*nt)}F.zoom(null,at)}})}function H(p,C,g){return!g&&p.__zooming||new L(p,C)}function L(p,C){this.that=p,this.args=C,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,C),this.taps=0}L.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,C){return this.mouse&&p!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var C=Qt(this.that).datum();a.call(p,this.that,new Pl(p,{sourceEvent:this.sourceEvent,target:M,type:p,transform:this.that.__zoom,dispatch:a}),C)}};function h(p,...C){if(!t.apply(this,arguments))return;var g=H(this,C).event(p),x=this.__zoom,T=Math.max(o[0],Math.min(o[1],x.k*Math.pow(2,r.apply(this,arguments)))),v=Zt(p);if(g.wheel)(g.mouse[0][0]!==v[0]||g.mouse[0][1]!==v[1])&&(g.mouse[1]=x.invert(g.mouse[0]=v)),clearTimeout(g.wheel);else{if(x.k===T)return;g.mouse=[v,x.invert(v)],Le(this),g.start()}ce(p),g.wheel=setTimeout(F,S),g.zoom("mouse",n(U(O(x,T),g.mouse[0],g.mouse[1]),g.extent,s));function F(){g.wheel=null,g.end()}}function d(p,...C){if(m||!t.apply(this,arguments))return;var g=p.currentTarget,x=H(this,C,!0).event(p),T=Qt(p.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",P,!0),v=Zt(p,g),F=p.clientX,N=p.clientY;Ma(p.view),an(p),x.mouse=[v,this.__zoom.invert(v)],Le(this),x.start();function q(Z){if(ce(Z),!x.moved){var et=Z.clientX-F,it=Z.clientY-N;x.moved=et*et+it*it>D}x.event(Z).zoom("mouse",n(U(x.that.__zoom,x.mouse[0]=Zt(Z,g),x.mouse[1]),x.extent,s))}function P(Z){T.on("mousemove.zoom mouseup.zoom",null),Ea(Z.view,x.moved),ce(Z),x.event(Z).end()}}function w(p,...C){if(!!t.apply(this,arguments)){var g=this.__zoom,x=Zt(p.changedTouches?p.changedTouches[0]:p,this),T=g.invert(x),v=g.k*(p.shiftKey?.5:2),F=n(U(O(g,v),x,T),e.apply(this,C),s);ce(p),l>0?Qt(this).transition().duration(l).call(J,F,x,p):Qt(this).call(M.transform,F,x,p)}}function y(p,...C){if(!!t.apply(this,arguments)){var g=p.touches,x=g.length,T=H(this,C,p.changedTouches.length===x).event(p),v,F,N,q;for(an(p),F=0;F<x;++F)N=g[F],q=Zt(N,this),q=[q,this.__zoom.invert(q),N.identifier],T.touch0?!T.touch1&&T.touch0[2]!==q[2]&&(T.touch1=q,T.taps=0):(T.touch0=q,v=!0,T.taps=1+!!f);f&&(f=clearTimeout(f)),v&&(T.taps<2&&(c=q[0],f=setTimeout(function(){f=null},b)),Le(this),T.start())}}function A(p,...C){if(!!this.__zooming){var g=H(this,C).event(p),x=p.changedTouches,T=x.length,v,F,N,q;for(ce(p),v=0;v<T;++v)F=x[v],N=Zt(F,this),g.touch0&&g.touch0[2]===F.identifier?g.touch0[0]=N:g.touch1&&g.touch1[2]===F.identifier&&(g.touch1[0]=N);if(F=g.that.__zoom,g.touch1){var P=g.touch0[0],Z=g.touch0[1],et=g.touch1[0],it=g.touch1[1],at=(at=et[0]-P[0])*at+(at=et[1]-P[1])*at,G=(G=it[0]-Z[0])*G+(G=it[1]-Z[1])*G;F=O(F,Math.sqrt(at/G)),N=[(P[0]+et[0])/2,(P[1]+et[1])/2],q=[(Z[0]+it[0])/2,(Z[1]+it[1])/2]}else if(g.touch0)N=g.touch0[0],q=g.touch0[1];else return;g.zoom("touch",n(U(F,N,q),g.extent,s))}}function _(p,...C){if(!!this.__zooming){var g=H(this,C).event(p),x=p.changedTouches,T=x.length,v,F;for(an(p),m&&clearTimeout(m),m=setTimeout(function(){m=null},b),v=0;v<T;++v)F=x[v],g.touch0&&g.touch0[2]===F.identifier?delete g.touch0:g.touch1&&g.touch1[2]===F.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(F=Zt(F,this),Math.hypot(c[0]-F[0],c[1]-F[1])<B)){var N=Qt(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return M.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:Ae(+p),M):r},M.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Ae(!!p),M):t},M.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:Ae(!!p),M):i},M.extent=function(p){return arguments.length?(e=typeof p=="function"?p:Ae([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),M):e},M.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],M):[o[0],o[1]]},M.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],M):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},M.constrain=function(p){return arguments.length?(n=p,M):n},M.duration=function(p){return arguments.length?(l=+p,M):l},M.interpolate=function(p){return arguments.length?(u=p,M):u},M.on=function(){var p=a.on.apply(a,arguments);return p===a?M:p},M.clickDistance=function(p){return arguments.length?(D=(p=+p)*p,M):Math.sqrt(D)},M.tapDistance=function(p){return arguments.length?(B=+p,M):B},M}function _r(t){let e,n;return e=new Bo({props:{hoveredData:t[8],data:t[0],domainColumn:t[1],colorScale:t[11],posX:t[9],posY:t[10],labelOverride:t[2],descriptionOverride:t[3]}}),{c(){Mn(e.$$.fragment)},m(r,i){Ze(e,r,i),n=!0},p(r,i){const o={};i[0]&256&&(o.hoveredData=r[8]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&2048&&(o.colorScale=r[11]),i[0]&512&&(o.posX=r[9]),i[0]&1024&&(o.posY=r[10]),i[0]&4&&(o.labelOverride=r[2]),i[0]&8&&(o.descriptionOverride=r[3]),e.$set(o)},i(r){n||(Yt(e.$$.fragment,r),n=!0)},o(r){$t(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function Ul(t){let e,n,r,i,o,s,l,u,a,f,c,m,b,S=t[8]&&_r(t);return{c(){e=K("div"),n=K("div"),r=K("button"),r.textContent="+",i=lt(),o=K("button"),o.textContent="\u2212",s=lt(),l=K("button"),l.textContent="\u27F2",u=lt(),a=K("canvas"),f=lt(),S&&S.c(),R(r,"class","zoom-btn svelte-1q7voxg"),R(r,"aria-label","Zoom in"),R(r,"title","Zoom in"),R(o,"class","zoom-btn svelte-1q7voxg"),R(o,"aria-label","Zoom out"),R(o,"title","Zoom out"),R(l,"class","zoom-btn svelte-1q7voxg"),R(l,"aria-label","Reset zoom"),R(l,"title","Reset zoom"),R(n,"class","zoom-controls svelte-1q7voxg"),R(n,"aria-label","Zoom controls"),R(a,"width",t[4]),R(a,"height",t[5]),R(a,"class","svelte-1q7voxg"),R(e,"class","chart-container svelte-1q7voxg")},m(D,B){st(D,e,B),z(e,n),z(n,r),z(n,i),z(n,o),z(n,s),z(n,l),z(e,u),z(e,a),t[33](a),z(e,f),S&&S.m(e,null),t[34](e),c=!0,m||(b=[_t(r,"click",t[15]),_t(o,"click",t[16]),_t(l,"click",t[17]),_t(a,"mousemove",t[12]),_t(a,"mouseleave",t[14]),_t(a,"click",t[13])],m=!0)},p(D,B){(!c||B[0]&16)&&R(a,"width",D[4]),(!c||B[0]&32)&&R(a,"height",D[5]),D[8]?S?(S.p(D,B),B[0]&256&&Yt(S,1)):(S=_r(D),S.c(),Yt(S,1),S.m(e,null)):S&&(Or(),$t(S,1,1,()=>{S=null}),zr())},i(D){c||(Yt(S),c=!0)},o(D){$t(S),c=!1},d(D){D&&ot(e),t[33](null),S&&S.d(),t[34](null),m=!1,Wt(b)}}}const Te=6,Wl=.5,Kl=20,yr=280,wr=160;function re(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Ql(t,e,n){let r,i,o,s,l,u,a,f,c,m,b,{data:S=[]}=e,{domainColumn:D=""}=e,{opacity:B=1}=e,{selectedValues:M=new Set}=e,{searchQuery:O=""}=e,{showAnnotations:U=!0}=e,{highlightedData:j=[]}=e,{startDate:J=null}=e,{endDate:H=null}=e,{labelOverride:L=null}=e,{descriptionOverride:h=null}=e,{hasAnyFilter:d=void 0}=e,w=[],y,A,_,p=800,C=600;const g={top:20,right:20,bottom:20,left:20};let x=null,T=null,v=Ke,F,N,q=0,P=0,Z,et=1;function it(){if(!y||!A)return;const k=A.getBoundingClientRect();k.width>0&&k.height>0&&(n(4,p=Math.floor(k.width)),n(5,C=Math.floor(k.height))),et=Math.max(window.devicePixelRatio||1,1),n(6,y.style.width="100%",y),n(6,y.style.height="100%",y),n(6,y.width=Math.max(1,Math.floor(p*et)),y),n(6,y.height=Math.max(1,Math.floor(C*et)),y),n(26,_=y.getContext("2d")),_.setTransform(et,0,0,et,0,0)}function at(){if(!_||!S.length)return;_.clearRect(0,0,p,C),_.save(),_.translate(v.x,v.y),_.scale(v.k,v.k);let k=d;if(k===void 0){const X=!!(O&&String(O).trim().length),wt=M&&M.size>0&&M.size<r,ct=J&&H&&m&&b?J>m||H<b:!1;k=X||wt||ct}const W=Math.max(0,Math.min(1,B));if(S.forEach(X=>{var I,Y;const ct=!!(O&&String(O).trim().length)?re((I=X.title)!=null?I:"",O)||re((Y=X.text)!=null?Y:"",O):!0,rt=M&&M.size>0&&M.size<r?M.has(X[D]):!0,E=J&&H?X.date>=J&&X.date<=H:!0,V=ct&&rt&&E;_.beginPath(),_.arc(g.left+u(X.x),g.top+c(X.y),Math.max(.5,Te/v.k),0,Math.PI*2),n(26,_.fillStyle=Z(X[D]),_),n(26,_.globalAlpha=k&&V?.9:W,_),_.fill(),n(26,_.globalAlpha=1,_)}),U&&w.forEach(X=>{n(26,_.globalAlpha=1,_),_.beginPath(),_.arc(X.x,X.y,X.radius,0,Math.PI*2),n(26,_.strokeStyle="red",_),n(26,_.lineWidth=2,_),_.setLineDash([5,5]),_.stroke();const wt=180,ct=12;n(26,_.font="16px Arial",_);const dt=X.x+X.label_x,rt=X.y+X.label_y;let E=0,V=0,I=[];if(X.label){const Ct=X.label.split(" ");let Tt="";Ct.forEach((tt,vt)=>{const Pt=Tt+tt+" ";_.measureText(Pt).width>wt&&vt>0?(I.push(Tt),E=Math.max(E,_.measureText(Tt).width),Tt=tt+" "):Tt=Pt}),I.push(Tt),E=Math.max(E,_.measureText(Tt).width),V=ct*I.length}const Y=dt,pt=rt-ct,Mt=E,St=V;let mt,kt;X.x<Y?mt=Y:X.x>Y+Mt?mt=Y+Mt:mt=X.x,X.y<pt?kt=pt:X.y>pt+St?kt=pt+St:kt=X.y;const Et=Math.atan2(kt-X.y,mt-X.x),Nt=X.x+X.radius*Math.cos(Et),Gt=X.y+X.radius*Math.sin(Et);if(_.setLineDash([]),_.beginPath(),_.moveTo(Nt,Gt),_.lineTo(mt,kt),n(26,_.strokeStyle="red",_),n(26,_.lineWidth=1,_),_.stroke(),X.label){n(26,_.font="16px Arial",_),n(26,_.fillStyle="red",_);const Ct=16;I.forEach((Tt,tt)=>{_.fillText(Tt,dt,rt+tt*Ct)})}}),_.setLineDash([]),x){const X=g.left+u(x.x),wt=g.top+c(x.y);_.beginPath(),_.arc(X,wt,Math.max(.5,Te/v.k),0,Math.PI*2),n(26,_.fillStyle=Z(x[D]),_),n(26,_.globalAlpha=1,_),_.fill(),n(26,_.strokeStyle="black",_),n(26,_.lineWidth=Math.max(1,2/v.k),_),_.stroke();const[ct,dt]=[v.applyX(X),v.applyY(wt)];let rt=ct+12;rt+yr>p-g.right&&(rt=ct-12-yr);let E=dt-wr*.5;const V=g.top+8,I=C-g.bottom-(wr+8);E=Math.max(V,Math.min(E,I)),n(9,q=rt),n(10,P=E)}_.restore()}function G(k){const W=y.getBoundingClientRect(),X=p/W.width,wt=C/W.height,ct=(k.clientX-W.left)*X,dt=(k.clientY-W.top)*wt,[rt,E]=v.invert([ct,dt]),V=S.find(I=>{var tt,vt;const Y=g.left+u(I.x),pt=g.top+c(I.y),Mt=Y-rt,St=pt-E,mt=Math.sqrt(Mt*Mt+St*St)<(Te+3)/v.k,Et=!!(O&&String(O).trim().length)?re((tt=I.title)!=null?tt:"",O)||re((vt=I.text)!=null?vt:"",O):!0,Gt=M&&M.size>0&&M.size<r?M.has(I[D]):!0,Ct=J&&H?I.date>=J&&I.date<=H:!0;return mt&&(Et&&Gt&&Ct)});V?(n(8,x=V),T=V,n(6,y.style.cursor="pointer",y)):(n(8,x=null),T=null,n(6,y.style.cursor="crosshair",y)),at()}function nt(k){const W=y.getBoundingClientRect(),X=p/W.width,wt=C/W.height,ct=(k.clientX-W.left)*X,dt=(k.clientY-W.top)*wt,[rt,E]=v.invert([ct,dt]),V=S.find(Y=>{var vt,Pt;const pt=g.left+u(Y.x),Mt=g.top+c(Y.y),St=pt-rt,mt=Mt-E,kt=Math.sqrt(St*St+mt*mt)<(Te+3)/v.k,Nt=!!(O&&String(O).trim().length)?re((vt=Y.title)!=null?vt:"",O)||re((Pt=Y.text)!=null?Pt:"",O):!0,Ct=M&&M.size>0&&M.size<r?M.has(Y[D]):!0,Tt=J&&H?Y.date>=J&&Y.date<=H:!0;return kt&&(Nt&&Ct&&Tt)});if(!V)return;const I=V.url||V.link||V.href||V.permalink;I&&typeof window<"u"&&window.open(I,"_blank","noopener,noreferrer")}function gt(){n(8,x=T),at()}let Q;Sn(()=>(n(26,_=y.getContext("2d")),it(),window.ResizeObserver&&(Q=new ResizeObserver(()=>{it(),at()}),Q.observe(A)),F=Yl().scaleExtent([Wl,Kl]).filter(k=>{const W=k;return W.type==="wheel"||W.type==="touchstart"||W.type==="touchmove"?!0:W.type==="mousedown"?W.button===0&&!W.ctrlKey&&!W.metaKey&&!W.shiftKey:!W.ctrlKey&&!W.metaKey&&!W.shiftKey}).on("zoom",k=>{v=k.transform,at()}),N=Qt(y),N.call(F),at(),()=>{Q&&Q.disconnect()}));function ut(k,W){var ct;if((ct=W==null?void 0:W.stopPropagation)==null||ct.call(W),!N||!F)return;const X=p/2,wt=C/2;N.transition().duration(200).call(F.scaleBy,k,[X,wt])}function yt(k){ut(1.25,k)}function ht(k){ut(1/1.25,k)}function ft(k){var W;(W=k==null?void 0:k.stopPropagation)==null||W.call(k),!(!N||!F)&&N.transition().duration(200).call(F.transform,Ke)}function $(k){Ht[k?"unshift":"push"](()=>{y=k,n(6,y)})}function bt(k){Ht[k?"unshift":"push"](()=>{A=k,n(7,A)})}return t.$$set=k=>{"data"in k&&n(0,S=k.data),"domainColumn"in k&&n(1,D=k.domainColumn),"opacity"in k&&n(18,B=k.opacity),"selectedValues"in k&&n(19,M=k.selectedValues),"searchQuery"in k&&n(20,O=k.searchQuery),"showAnnotations"in k&&n(21,U=k.showAnnotations),"highlightedData"in k&&n(22,j=k.highlightedData),"startDate"in k&&n(23,J=k.startDate),"endDate"in k&&n(24,H=k.endDate),"labelOverride"in k&&n(2,L=k.labelOverride),"descriptionOverride"in k&&n(3,h=k.descriptionOverride),"hasAnyFilter"in k&&n(25,d=k.hasAnyFilter)},t.$$.update=()=>{t.$$.dirty[0]&4194304&&new Set(j.map(k=>k.id)),t.$$.dirty[0]&3&&(r=new Set(S.map(k=>k[D])).size),t.$$.dirty[0]&16&&n(30,i=p-g.left-g.right),t.$$.dirty[0]&32&&n(27,o=C-g.top-g.bottom),t.$$.dirty[0]&1&&n(32,s=[Yn(S,k=>k.x),Hn(S,k=>k.x)]),t.$$.dirty[1]&2&&n(31,l=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&(u=_n().domain(l).range([0,i])),t.$$.dirty[0]&1&&n(29,a=[Yn(S,k=>k.y),Hn(S,k=>k.y)]),t.$$.dirty[0]&536870912&&n(28,f=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&402653184&&(c=_n().domain(f).range([o,0])),t.$$.dirty[0]&3&&n(11,Z=Vr(Fo).domain(D?[...new Set(S.map(k=>k[D]).filter(k=>k!=null&&k!==""))]:[])),t.$$.dirty[0]&1&&(m=S.length?new Date(Math.min(...S.map(k=>k.date.getTime()))):null),t.$$.dirty[0]&1&&(b=S.length?new Date(Math.max(...S.map(k=>k.date.getTime()))):null),t.$$.dirty[0]&129761283&&_&&S.length&&at()},[S,D,L,h,p,C,y,A,x,q,P,Z,G,nt,gt,yt,ht,ft,B,M,O,U,j,J,H,d,_,o,f,a,i,l,s,$,bt]}class Gl extends $e{constructor(e){super(),je(this,e,Ql,Ul,Ge,{data:0,domainColumn:1,opacity:18,selectedValues:19,searchQuery:20,showAnnotations:21,highlightedData:22,startDate:23,endDate:24,labelOverride:2,descriptionOverride:3,hasAnyFilter:25},null,[-1,-1])}}function Zl(t){let e,n,r,i,o,s,l,u,a;return{c(){e=K("div"),n=K("div"),r=K("div"),i=lt(),o=K("div"),s=lt(),l=K("div"),R(r,"class","track-inner svelte-vytkle"),R(n,"class","track svelte-vytkle"),R(o,"class","thumb start-thumb svelte-vytkle"),At(o,"left",t[4]+"%"),R(l,"class","thumb end-thumb svelte-vytkle"),At(l,"left",t[3]+"%"),R(e,"class","range-slider svelte-vytkle"),At(e,"--start-percent",t[4]+"%"),At(e,"--end-percent",t[3]+"%")},m(f,c){st(f,e,c),z(e,n),z(n,r),z(e,i),z(e,o),t[13](o),z(e,s),z(e,l),t[16](l),t[19](e),u||(a=[_t(r,"mousedown",t[11]),_t(r,"touchstart",t[12]),_t(o,"mousedown",t[14]),_t(o,"touchstart",t[15]),_t(l,"mousedown",t[17]),_t(l,"touchstart",t[18])],u=!0)},p(f,[c]){c&16&&At(o,"left",f[4]+"%"),c&8&&At(l,"left",f[3]+"%"),c&16&&At(e,"--start-percent",f[4]+"%"),c&8&&At(e,"--end-percent",f[3]+"%")},i:Rt,o:Rt,d(f){f&&ot(e),t[13](null),t[16](null),t[19](null),u=!1,Wt(a)}}}function Jl(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:l}=e,{endValue:u}=e;const a=wi();let f,c,m,b=!1,S=null,D=null,B=0;function M(g,x){b=!0,S=x,D=f.getBoundingClientRect(),x==="range"&&(B=u-l),window.addEventListener("mousemove",O),window.addEventListener("mouseup",U)}function O(g){if(!b)return;const x=Math.min(Math.max(0,(g.clientX-D.left)/D.width),1),T=Math.round(x*(s-o)+o);if(S==="start")n(7,l=Math.min(T,u)),a("startChange",l);else if(S==="end")n(8,u=Math.max(T,l)),a("endChange",u);else if(S==="range"){let v=T-Math.floor(B/2),F=T+Math.ceil(B/2);v<o&&(v=o,F=o+B),F>s&&(F=s,v=s-B),v=Math.max(o,v),F=Math.min(s,F),n(7,l=v),n(8,u=F),a("startChange",l),a("endChange",u)}}function U(){b=!1,window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",U)}function j(g,x){g.preventDefault(),b=!0,S=x,D=f.getBoundingClientRect(),x==="range"&&(B=u-l),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",H)}function J(g){if(g.preventDefault(),!b)return;const x=g.touches[0],T=Math.min(Math.max(0,(x.clientX-D.left)/D.width),1),v=Math.round(T*(s-o)+o);if(S==="start")n(7,l=Math.min(v,u)),a("startChange",l);else if(S==="end")n(8,u=Math.max(v,l)),a("endChange",u);else if(S==="range"){let F=v-Math.floor(B/2),N=v+Math.ceil(B/2);F<o&&(F=o,N=o+B),N>s&&(N=s,F=s-B),F=Math.max(o,F),N=Math.min(s,N),n(7,l=F),n(8,u=N),a("startChange",l),a("endChange",u)}}function H(){b=!1,window.removeEventListener("touchmove",J),window.removeEventListener("touchend",H)}const L=g=>M(g,"range"),h=g=>j(g,"range");function d(g){Ht[g?"unshift":"push"](()=>{c=g,n(1,c)})}const w=g=>M(g,"start"),y=g=>j(g,"start");function A(g){Ht[g?"unshift":"push"](()=>{m=g,n(2,m)})}const _=g=>M(g,"end"),p=g=>j(g,"end");function C(g){Ht[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{"min"in g&&n(9,o=g.min),"max"in g&&n(10,s=g.max),"startValue"in g&&n(7,l=g.startValue),"endValue"in g&&n(8,u=g.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(l-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[f,c,m,i,r,M,j,l,u,o,s,L,h,d,w,y,A,_,p,C]}class jl extends $e{constructor(e){super(),je(this,e,Jl,Zl,Ge,{min:9,max:10,startValue:7,endValue:8})}}const Qe={0:["Federal Government"],1:["Accidents"],2:["Local Events"],3:["Sports"],4:["Weather","Weather and disasters"],5:["Crime","Crime and police activity"],6:["Local Coverage","Community groups, features, business updates and other local coverage"],7:["Other Coverage","Coverage outside of other areas: reviews, religion, science, animals and others"],8:["Fatalities","Crime coverage specific to incidents involving deaths"],9:["Local Government","City and state government and policy"]};function $l(t){const e=Number(t);return Number.isInteger(e)&&Qe[e]?Qe[e][0]:String(t!=null?t:"")}function tu(t){const e=Number(t);return Number.isInteger(e)&&Qe[e]?Qe[e][1]:""}function vr(t,e,n=!0){return n&&t==="cluster"?$l(e):String(e!=null?e:"")}function eu(t,e,n=!0){return n&&t==="cluster"?tu(e):""}function br(t,e,n){const r=t.slice();return r[61]=e[n],r}function xr(t,e,n){const r=t.slice();return r[64]=e[n],r}function kr(t){let e,n,r,i,o,s,l=t[9],u=[];for(let a=0;a<l.length;a+=1)u[a]=Sr(xr(t,l,a));return{c(){e=K("label"),e.textContent="\u{1F3A8} Color by Column:",n=lt(),r=K("select"),i=K("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();R(e,"for","domain-column"),R(e,"class","svelte-15wo1ep"),i.__value="",i.value=i.__value,i.disabled=!0,R(r,"id","domain-column"),R(r,"class","svelte-15wo1ep"),t[0]===void 0&&Fe(()=>t[38].call(r))},m(a,f){st(a,e,f),st(a,n,f),st(a,r,f),z(r,i);for(let c=0;c<u.length;c+=1)u[c].m(r,null);Pn(r,t[0]),o||(s=[_t(r,"change",t[23]),_t(r,"change",t[38])],o=!0)},p(a,f){if(f[0]&512){l=a[9];let c;for(c=0;c<l.length;c+=1){const m=xr(a,l,c);u[c]?u[c].p(m,f):(u[c]=Sr(m),u[c].c(),u[c].m(r,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=l.length}f[0]&513&&Pn(r,a[0])},d(a){a&&ot(e),a&&ot(n),a&&ot(r),Tr(u,a),o=!1,Wt(s)}}}function Sr(t){let e,n=t[64]+"",r,i;return{c(){e=K("option"),r=xt(n),e.__value=i=t[64],e.value=e.__value},m(o,s){st(o,e,s),z(e,r)},p(o,s){s[0]&512&&n!==(n=o[64]+"")&&Ot(r,n),s[0]&512&&i!==(i=o[64])&&(e.__value=i,e.value=e.__value)},d(o){o&&ot(e)}}}function Mr(t){let e,n,r,i,o,s=t[22],l=[];for(let u=0;u<s.length;u+=1)l[u]=Er(br(t,s,u));return{c(){e=K("label"),e.textContent="\u2728 Highlight Values (hold Cmd and click to select multiple):",n=lt(),r=K("select");for(let u=0;u<l.length;u+=1)l[u].c();R(e,"for","value-select"),R(e,"class","svelte-15wo1ep"),R(r,"id","value-select"),r.multiple=!0,R(r,"size","5"),R(r,"class","multi-select svelte-15wo1ep")},m(u,a){st(u,e,a),st(u,n,a),st(u,r,a);for(let f=0;f<l.length;f+=1)l[f].m(r,null);i||(o=_t(r,"change",t[24]),i=!0)},p(u,a){if(a[0]&4194308){s=u[22];let f;for(f=0;f<s.length;f+=1){const c=br(u,s,f);l[f]?l[f].p(c,a):(l[f]=Er(c),l[f].c(),l[f].m(r,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},d(u){u&&ot(e),u&&ot(n),u&&ot(r),Tr(l,u),i=!1,o()}}}function Er(t){let e,n=t[61].label+"",r,i,o;return{c(){e=K("option"),r=xt(n),e.__value=i=t[61].value,e.value=e.__value,e.selected=o=t[2].has(t[61].value)},m(s,l){st(s,e,l),z(e,r)},p(s,l){l[0]&4194304&&n!==(n=s[61].label+"")&&Ot(r,n),l[0]&4194304&&i!==(i=s[61].value)&&(e.__value=i,e.value=e.__value),l[0]&4194308&&o!==(o=s[2].has(s[61].value))&&(e.selected=o)},d(s){s&&ot(e)}}}function nu(t){let e;return{c(){e=xt("\u25B6")},m(n,r){st(n,e,r)},d(n){n&&ot(e)}}}function ru(t){let e;return{c(){e=xt("\u275A\u275A")},m(n,r){st(n,e,r)},d(n){n&&ot(e)}}}function iu(t){let e;return{c(){e=K("p"),e.textContent="Waiting for data"},m(n,r){st(n,e,r)},p:Rt,i:Rt,o:Rt,d(n){n&&ot(e)}}}function ou(t){let e,n,r;function i(f,c){return f[17]==="downloading"?uu:f[17]==="parsing"?lu:au}let o=i(t),s=o(t);function l(f,c){return f[17]==="downloading"?cu:fu}let u=l(t),a=u(t);return{c(){e=K("div"),n=K("div"),s.c(),r=lt(),a.c(),R(n,"class","progress-header svelte-15wo1ep"),R(e,"class","progress-wrap svelte-15wo1ep")},m(f,c){st(f,e,c),z(e,n),s.m(n,null),z(e,r),a.m(e,null)},p(f,c){o!==(o=i(f))&&(s.d(1),s=o(f),s&&(s.c(),s.m(n,null))),u===(u=l(f))&&a?a.p(f,c):(a.d(1),a=u(f),a&&(a.c(),a.m(e,null)))},i:Rt,o:Rt,d(f){f&&ot(e),s.d(),a.d()}}}function su(t){let e,n;return e=new Gl({props:{data:t[13],domainColumn:t[0],selectedValues:t[2],opacity:t[12],searchQuery:t[8],showAnnotations:t[15],highlightedData:t[7],startDate:t[3],endDate:t[4],hasAnyFilter:t[21],labelOverride:t[50],descriptionOverride:t[51]}}),{c(){Mn(e.$$.fragment)},m(r,i){Ze(e,r,i),n=!0},p(r,i){const o={};i[0]&8192&&(o.data=r[13]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&4096&&(o.opacity=r[12]),i[0]&256&&(o.searchQuery=r[8]),i[0]&32768&&(o.showAnnotations=r[15]),i[0]&128&&(o.highlightedData=r[7]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),i[0]&2097152&&(o.hasAnyFilter=r[21]),i[0]&2048&&(o.labelOverride=r[50]),i[0]&2048&&(o.descriptionOverride=r[51]),e.$set(o)},i(r){n||(Yt(e.$$.fragment,r),n=!0)},o(r){$t(e.$$.fragment,r),n=!1},d(r){Je(e,r)}}}function au(t){let e;return{c(){e=xt("Loading...")},m(n,r){st(n,e,r)},d(n){n&&ot(e)}}}function lu(t){let e;return{c(){e=xt("Parsing CSV...")},m(n,r){st(n,e,r)},d(n){n&&ot(e)}}}function uu(t){let e;return{c(){e=xt("Downloading CSV...")},m(n,r){st(n,e,r)},d(n){n&&ot(e)}}}function fu(t){let e;return{c(){e=K("div"),R(e,"class","progress-bar indeterminate svelte-15wo1ep")},m(n,r){st(n,e,r)},p:Rt,d(n){n&&ot(e)}}}function cu(t){let e;function n(o,s){return o[19]?du:hu}let r=n(t),i=r(t);return{c(){i.c(),e=Dr()},m(o,s){i.m(o,s),st(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&ot(e)}}}function hu(t){let e,n,r,i=oe(t[18])+"",o;return{c(){e=K("div"),n=lt(),r=K("div"),o=xt(i),R(e,"class","progress-bar indeterminate svelte-15wo1ep"),R(r,"class","progress-label svelte-15wo1ep")},m(s,l){st(s,e,l),st(s,n,l),st(s,r,l),z(r,o)},p(s,l){l[0]&262144&&i!==(i=oe(s[18])+"")&&Ot(o,i)},d(s){s&&ot(e),s&&ot(n),s&&ot(r)}}}function du(t){let e,n,r,i,o,s,l=oe(t[18])+"",u,a,f=oe(t[19])+"",c,m;return{c(){e=K("div"),n=K("div"),r=lt(),i=K("div"),o=xt(t[20]),s=xt("% ("),u=xt(l),a=xt(" / "),c=xt(f),m=xt(")"),R(n,"class","progress-fill svelte-15wo1ep"),At(n,"width",t[20]+"%"),R(e,"class","progress-bar svelte-15wo1ep"),R(i,"class","progress-label svelte-15wo1ep")},m(b,S){st(b,e,S),z(e,n),st(b,r,S),st(b,i,S),z(i,o),z(i,s),z(i,u),z(i,a),z(i,c),z(i,m)},p(b,S){S[0]&1048576&&At(n,"width",b[20]+"%"),S[0]&1048576&&Ot(o,b[20]),S[0]&262144&&l!==(l=oe(b[18])+"")&&Ot(u,l),S[0]&524288&&f!==(f=oe(b[19])+"")&&Ot(c,f)},d(b){b&&ot(e),b&&ot(r),b&&ot(i)}}}function pu(t){let e,n,r,i,o,s,l,u,a,f,c,m,b,S,D,B,M,O,U,j,J,H,L,h,d,w,y,A,_,p,C,g,x,T,v,F,N,q,P,Z=Kt(t[3])+"",et,it,at,G=Kt(t[4])+"",nt,gt,Q,ut,yt,ht,ft,$,bt,k,W,X,wt,ct,dt,rt,E,V,I,Y=t[9].length&&kr(t),pt=t[1].length&&Mr(t);function Mt(tt){t[42](tt)}function St(tt){t[43](tt)}let mt={min:0,max:t[10]};t[5]!==void 0&&(mt.startValue=t[5]),t[6]!==void 0&&(mt.endValue=t[6]),T=new jl({props:mt}),Ht.push(()=>qn(T,"startValue",Mt)),Ht.push(()=>qn(T,"endValue",St)),T.$on("startChange",t[44]),T.$on("endChange",t[45]);function kt(tt,vt){return tt[14]?ru:nu}let Et=kt(t),Nt=Et(t);const Gt=[su,ou,iu],Ct=[];function Tt(tt,vt){return tt[13].length?0:tt[16]?1:2}return dt=Tt(t),rt=Ct[dt]=Gt[dt](t),{c(){e=K("div"),n=K("div"),n.innerHTML=`<h1 class="title svelte-15wo1ep">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the articles are similar in meaning.</p>`,r=lt(),i=K("div"),o=K("div"),s=K("div"),l=K("button"),l.textContent="Reset filters",u=lt(),a=K("div"),a.innerHTML=`<details close=""><summary class="svelte-15wo1ep">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-15wo1ep"><p class="svelte-15wo1ep">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-15wo1ep">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-15wo1ep"><li class="svelte-15wo1ep">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-15wo1ep">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-15wo1ep">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=lt(),c=K("label"),c.textContent="\u{1F4C1} Upload CSV:",m=lt(),b=K("input"),S=lt(),D=K("label"),D.textContent="\u{1F50D} Search Text (supports regex):",B=lt(),M=K("input"),O=lt(),Y&&Y.c(),U=lt(),pt&&pt.c(),j=lt(),J=K("label"),J.textContent="\u{1F4A1} Opacity:",H=lt(),L=K("input"),h=lt(),d=K("div"),w=K("label"),w.textContent="\u{1F4C5} Date Range:",y=lt(),A=K("input"),p=lt(),C=K("input"),x=lt(),Mn(T.$$.fragment),N=lt(),q=K("div"),P=K("span"),et=xt(Z),it=lt(),at=K("span"),nt=xt(G),gt=lt(),Q=K("div"),ut=K("button"),ut.textContent="-1W",yt=lt(),ht=K("button"),ht.textContent="-1D",ft=lt(),$=K("button"),Nt.c(),bt=lt(),k=K("button"),k.textContent="+1D",W=lt(),X=K("button"),X.textContent="+1W",wt=lt(),ct=K("div"),rt.c(),R(n,"class","title-section svelte-15wo1ep"),R(l,"class","reset-btn svelte-15wo1ep"),R(s,"class","filter-actions svelte-15wo1ep"),R(a,"class","nerd-box svelte-15wo1ep"),R(c,"for","file-upload"),R(c,"class","svelte-15wo1ep"),R(b,"id","file-upload"),R(b,"type","file"),R(b,"accept",".csv"),R(b,"class","svelte-15wo1ep"),R(D,"for","search-input"),R(D,"class","svelte-15wo1ep"),R(M,"id","search-input"),R(M,"type","text"),R(M,"placeholder","Search or regex pattern..."),R(M,"class","svelte-15wo1ep"),R(J,"for","opacity-slider"),R(J,"class","svelte-15wo1ep"),R(L,"id","opacity-slider"),R(L,"type","range"),R(L,"min","0.01"),R(L,"max","1"),R(L,"step","0.1"),R(L,"class","svelte-15wo1ep"),R(w,"for","start-date"),R(w,"class","svelte-15wo1ep"),R(A,"id","start-date"),R(A,"type","date"),A.value=_=Kt(t[3]),R(A,"max","2025-07-01"),R(A,"class","svelte-15wo1ep"),R(C,"id","end-date"),R(C,"type","date"),C.value=g=Kt(t[4]),R(C,"max","2025-07-01"),R(C,"class","svelte-15wo1ep"),R(q,"class","date-range-labels svelte-15wo1ep"),R(ut,"class","svelte-15wo1ep"),R(ht,"class","svelte-15wo1ep"),R($,"class","play-button svelte-15wo1ep"),R(k,"class","svelte-15wo1ep"),R(X,"class","svelte-15wo1ep"),R(Q,"class","date-navigation svelte-15wo1ep"),R(d,"class","date-controls svelte-15wo1ep"),R(o,"class","filter-panel svelte-15wo1ep"),R(ct,"class","scatterplot-container svelte-15wo1ep"),R(i,"class","content svelte-15wo1ep"),R(e,"class","container svelte-15wo1ep")},m(tt,vt){st(tt,e,vt),z(e,n),z(e,r),z(e,i),z(i,o),z(o,s),z(s,l),z(o,u),z(o,a),z(o,f),z(o,c),z(o,m),z(o,b),z(o,S),z(o,D),z(o,B),z(o,M),z(o,O),Y&&Y.m(o,null),z(o,U),pt&&pt.m(o,null),z(o,j),z(o,J),z(o,H),z(o,L),Fn(L,t[12]),z(o,h),z(o,d),z(d,w),z(d,y),z(d,A),z(d,p),z(d,C),z(d,x),Ze(T,d,null),z(d,N),z(d,q),z(q,P),z(P,et),z(q,it),z(q,at),z(at,nt),z(d,gt),z(d,Q),z(Q,ut),z(Q,yt),z(Q,ht),z(Q,ft),z(Q,$),Nt.m($,null),z(Q,bt),z(Q,k),z(Q,W),z(Q,X),z(i,wt),z(i,ct),Ct[dt].m(ct,null),E=!0,V||(I=[_t(l,"click",t[31]),_t(b,"change",t[26]),_t(M,"input",t[29]),_t(L,"change",t[39]),_t(L,"input",t[39]),_t(L,"input",t[30]),_t(A,"change",t[40]),_t(C,"change",t[41]),_t(ut,"click",t[46]),_t(ht,"click",t[47]),_t($,"click",t[28]),_t(k,"click",t[48]),_t(X,"click",t[49])],V=!0)},p(tt,vt){tt[9].length?Y?Y.p(tt,vt):(Y=kr(tt),Y.c(),Y.m(o,U)):Y&&(Y.d(1),Y=null),tt[1].length?pt?pt.p(tt,vt):(pt=Mr(tt),pt.c(),pt.m(o,j)):pt&&(pt.d(1),pt=null),vt[0]&4096&&Fn(L,tt[12]),(!E||vt[0]&8&&_!==(_=Kt(tt[3])))&&(A.value=_),(!E||vt[0]&16&&g!==(g=Kt(tt[4])))&&(C.value=g);const Pt={};vt[0]&1024&&(Pt.max=tt[10]),!v&&vt[0]&32&&(v=!0,Pt.startValue=tt[5],Vn(()=>v=!1)),!F&&vt[0]&64&&(F=!0,Pt.endValue=tt[6],Vn(()=>F=!1)),T.$set(Pt),(!E||vt[0]&8)&&Z!==(Z=Kt(tt[3])+"")&&Ot(et,Z),(!E||vt[0]&16)&&G!==(G=Kt(tt[4])+"")&&Ot(nt,G),Et!==(Et=kt(tt))&&(Nt.d(1),Nt=Et(tt),Nt&&(Nt.c(),Nt.m($,null)));let xe=dt;dt=Tt(tt),dt===xe?Ct[dt].p(tt,vt):(Or(),$t(Ct[xe],1,1,()=>{Ct[xe]=null}),zr(),rt=Ct[dt],rt?rt.p(tt,vt):(rt=Ct[dt]=Gt[dt](tt),rt.c()),Yt(rt,1),rt.m(ct,null))},i(tt){E||(Yt(T.$$.fragment,tt),Yt(rt),E=!0)},o(tt){$t(T.$$.fragment,tt),$t(rt),E=!1},d(tt){tt&&ot(e),Y&&Y.d(),pt&&pt.d(),Je(T),Nt.d(),Ct[dt].d(),V=!1,Wt(I)}}}const gu="2025-07-01";function oe(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Kt(t){return t?t.toISOString().split("T")[0]:""}function mu(t,e,n){let r,i,o,s,l,u,a,f;const c="https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",m=new Date(gu);let b=[],S=[],D="org",B=[],M=new Set,O=.3,U=null,j=null,J=[],H=[],L=0,h=0,d=!1,w=null,y=[],A="",_=!1,p=!1,C="idle",g=0,x=0,T=0;Sn(async()=>{try{n(16,p=!0),n(17,C="downloading"),n(18,g=0),n(19,x=0),n(20,T=0);const E=await fetch(c,{mode:"cors",cache:"no-store"});if(!E.ok)throw new Error(`HTTP ${E.status}`);const V=E.headers.get("content-length");n(19,x=V?parseInt(V,10):0);let I="";if(E.body&&E.body.getReader){const Y=E.body.getReader(),pt=[];let Mt=0;for(;;){const{done:kt,value:Et}=await Y.read();if(kt)break;pt.push(Et),Mt+=Et.byteLength,n(18,g=Mt),x&&n(20,T=Math.round(Mt/x*100))}const St=new Uint8Array(Mt);let mt=0;for(const kt of pt)St.set(kt,mt),mt+=kt.byteLength;I=new TextDecoder().decode(St)}else I=await E.text();n(17,C="parsing"),await Promise.resolve(v(I)),n(17,C="idle")}catch(E){console.error("Failed to load CSV:",E)}finally{n(16,p=!1)}return()=>{w&&clearInterval(w)}});function v(E){const V=Mi.parse(E,{header:!0});n(32,b=V.data.filter(I=>I.x&&I.y&&I.date).map((I,Y)=>({...I,x:+I.x,y:+I.y,date:new Date(I.date),id:Y}))),n(33,S=V.meta.fields||[]),n(34,H=[...new Set(b.map(I=>I.date.getTime()))].sort((I,Y)=>I-Y).map(I=>new Date(I))),n(3,U=H[0]),n(4,j=H[H.length-1]),j&&j.getTime()>m.getTime()&&n(4,j=new Date(m)),n(5,L=0),n(6,h=s),P(),D&&n(1,B=[...new Set(b.map(I=>I[D]).filter(I=>I!=null&&I!==""))])}function F(E){n(0,D=E.target.value),n(1,B=D?[...new Set(b.map(V=>V[D]).filter(Boolean))]:[]),n(2,M=new Set),n(15,_=!1)}function N(E){const V=[...E.target.selectedOptions].map(Y=>Y.value);V.length===B.length||V.length===0?(n(2,M=new Set),n(7,y=[])):(n(2,M=new Set(V)),n(7,y=b.filter(Y=>M.has(Y[D])&&(!U||Y.date>=U)&&(!j||Y.date<=j)))),n(15,_=!1)}function q(E,V,I=!1){I?(n(3,U=H[E]||H[0]),n(4,j=H[V]||H[H.length-1]),j&&j.getTime()>m.getTime()&&n(4,j=new Date(m))):(n(3,U=E),n(4,j=V&&new Date(Math.min(V.getTime(),m.getTime())))),n(15,_=!1),P()}function P(){if(U){const E=U.getTime();n(5,L=Math.max(0,H.findIndex(V=>V.getTime()>=E)))}else n(5,L=0);if(j){const E=m.getTime(),V=Math.min(j.getTime(),E);let I=-1;for(let Y=H.length-1;Y>=0;Y--)if(H[Y].getTime()<=V){I=Y;break}n(6,h=I>=0?I:0)}else n(6,h=s);L>h&&n(5,L=h),h<L&&n(6,h=L)}function Z(E,V){if(E.detail!==void 0)V==="start"?(n(5,L=E.detail),L>h&&n(5,L=h)):(n(6,h=E.detail),h<L&&n(6,h=L)),q(L,h,!0);else{const I=E.target.value?new Date(E.target.value):null;V==="start"?q(I,j):q(U,I),P()}}function et(E){const V=E.target.files[0];if(V){const I=new FileReader;n(15,_=!1),I.onload=Y=>v(Y.target.result),I.readAsText(V)}}function it(E){const V=h-L;let I=L+E,Y=h+E;I<0&&(I=0,Y=V),Y>=H.length&&(Y=H.length-1,I=Math.max(0,Y-V)),n(5,L=I),n(6,h=Y),q(L,h,!0)}function at(){d?(clearInterval(w),n(14,d=!1)):(n(14,d=!0),n(15,_=!1),w=setInterval(()=>{if(h>=H.length-1){clearInterval(w),n(14,d=!1);return}it(1)},500))}function G(E){n(8,A=E.target.value),n(15,_=!1)}function nt(){n(15,_=!1)}function gt(){d&&w&&(clearInterval(w),n(14,d=!1));const E=S.includes("org")?"org":i[0]||"";n(0,D=E),n(2,M=new Set),n(7,y=[]),n(8,A=""),n(15,_=!1),n(12,O=.3),H.length?(n(5,L=0),n(6,h=H.length-1),q(L,h,!0)):(n(3,U=null),n(4,j=null),n(5,L=0),n(6,h=0))}function Q(){D=_i(this),n(0,D),n(33,S),n(9,i),n(9,i),n(33,S)}function ut(){O=gi(this.value),n(12,O)}const yt=E=>Z(E,"start"),ht=E=>Z(E,"end");function ft(E){L=E,n(5,L)}function $(E){h=E,n(6,h)}const bt=E=>Z(E,"start"),k=E=>Z(E,"end"),W=()=>it(-7),X=()=>it(-1),wt=()=>it(1),ct=()=>it(7),dt=(E,V)=>vr(E,V,r),rt=(E,V)=>eu(E,V,r);return t.$$.update=()=>{t.$$.dirty[0]&128&&new Set(y.map(E=>E.id)),t.$$.dirty[1]&4&&n(9,i=S.filter(E=>E==="org"||E==="cluster")),t.$$.dirty[0]&513|t.$$.dirty[1]&4&&(!S||S.length===0||(i.length&&!i.includes(D)?n(0,D=i[0]):i.length===0&&n(0,D=""))),t.$$.dirty[0]&1|t.$$.dirty[1]&2&&n(1,B=D?[...new Set(b.map(E=>E[D]).filter(E=>E!=null&&E!==""))]:[]),t.$$.dirty[0]&2051&&n(22,o=B.map(E=>({value:E,label:vr(D,E,r)}))),t.$$.dirty[0]&31|t.$$.dirty[1]&2&&n(13,J=b.map(E=>({...E,isHighlighted:M.size>0&&M.size<B.length&&M.has(E[D])&&(!U||E.date>=U)&&(!j||E.date<=j)}))),t.$$.dirty[0]&32|t.$$.dirty[1]&8&&H.length>1&&L/(H.length-1)*100,t.$$.dirty[0]&64|t.$$.dirty[1]&8&&H.length>1&&h/(H.length-1)*100,t.$$.dirty[1]&8&&n(10,s=(()=>{if(!H||H.length===0)return 0;const E=m.getTime(),V=H.findIndex(I=>I.getTime()>E);return V===-1?H.length-1:Math.max(0,V-1)})()),t.$$.dirty[0]&256&&n(37,l=!!(A&&String(A).trim().length)),t.$$.dirty[0]&6&&n(36,u=M&&M.size>0&&M.size<B.length),t.$$.dirty[0]&1120|t.$$.dirty[1]&8&&n(35,a=H.length>0?!(L===0&&h===s):!1),t.$$.dirty[1]&112&&n(21,f=l||u||a)},n(11,r=/^https?:\/\//i.test(c)),[D,B,M,U,j,L,h,y,A,i,s,r,O,J,d,_,p,C,g,x,T,f,o,F,N,Z,et,it,at,G,nt,gt,b,S,H,a,u,l,Q,ut,yt,ht,ft,$,bt,k,W,X,wt,ct,dt,rt]}class _u extends $e{constructor(e){super(),je(this,e,mu,pu,Ge,{},null,[-1,-1,-1])}}new _u({target:document.getElementById("app")});
