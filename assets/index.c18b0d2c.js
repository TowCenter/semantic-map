(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function Dt(){}function Pr(t){return t()}function Gn(){return Object.create(null)}function Vt(t){t.forEach(Pr)}function Fr(t){return typeof t=="function"}function un(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}function Ci(t){return Object.keys(t).length===0}function st(t,n){t.appendChild(n)}function vt(t,n,e){t.insertBefore(n,e||null)}function yt(t){t.parentNode.removeChild(t)}function Lr(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function lt(t){return document.createElement(t)}function At(t){return document.createTextNode(t)}function bt(){return At(" ")}function Ur(){return At("")}function St(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function et(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function Ai(t){return t===""?null:+t}function zi(t){return Array.from(t.childNodes)}function It(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function Qn(t,n){t.value=n==null?"":n}function Nt(t,n,e,r){e===null?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}function Jn(t,n){for(let e=0;e<t.options.length;e+=1){const r=t.options[e];if(r.__value===n){r.selected=!0;return}}t.selectedIndex=-1}function Di(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}function Ti(t,n,{bubbles:e=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e,r,n),i}let Se;function xe(t){Se=t}function Wr(){if(!Se)throw new Error("Function called outside component initialization");return Se}function Pn(t){Wr().$$.on_mount.push(t)}function jr(){const t=Wr();return(n,e,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[n];if(i){const s=Ti(n,e,{cancelable:r});return i.slice().forEach(a=>{a.call(t,s)}),!s.defaultPrevented}return!0}}const ye=[],Ft=[],Ue=[],vn=[],Zr=Promise.resolve();let bn=!1;function Hr(){bn||(bn=!0,Zr.then(Vr))}function pe(){return Hr(),Zr}function Xe(t){Ue.push(t)}function Ye(t){vn.push(t)}const gn=new Set;let Ie=0;function Vr(){const t=Se;do{for(;Ie<ye.length;){const n=ye[Ie];Ie++,xe(n),Ri(n.$$)}for(xe(null),ye.length=0,Ie=0;Ft.length;)Ft.pop()();for(let n=0;n<Ue.length;n+=1){const e=Ue[n];gn.has(e)||(gn.add(e),e())}Ue.length=0}while(ye.length);for(;vn.length;)vn.pop()();bn=!1,gn.clear(),xe(t)}function Ri(t){if(t.fragment!==null){t.update(),Vt(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Xe)}}const We=new Set;let $t;function Ii(){$t={r:0,c:[],p:$t}}function Oi(){$t.r||Vt($t.c),$t=$t.p}function se(t,n){t&&t.i&&(We.delete(t),t.i(n))}function we(t,n,e,r){if(t&&t.o){if(We.has(t))return;We.add(t),$t.c.push(()=>{We.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}else r&&r()}function Ke(t,n,e){const r=t.$$.props[n];r!==void 0&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function kn(t){t&&t.c()}function Ge(t,n,e,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(n,e),r||Xe(()=>{const a=t.$$.on_mount.map(Pr).filter(Fr);t.$$.on_destroy?t.$$.on_destroy.push(...a):Vt(a),t.$$.on_mount=[]}),s.forEach(Xe)}function Qe(t,n){const e=t.$$;e.fragment!==null&&(Vt(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Mi(t,n){t.$$.dirty[0]===-1&&(ye.push(t),Hr(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function fn(t,n,e,r,i,s,a,o=[-1]){const l=Se;xe(t);const f=t.$$={fragment:null,ctx:[],props:s,update:Dt,not_equal:i,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(l?l.$$.context:[])),callbacks:Gn(),dirty:o,skip_bound:!1,root:n.target||l.$$.root};a&&a(f.root);let d=!1;if(f.ctx=e?e(t,n.props||{},(p,g,...h)=>{const b=h.length?h[0]:g;return f.ctx&&i(f.ctx[p],f.ctx[p]=b)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](b),d&&Mi(t,p)),g}):[],f.update(),d=!0,Vt(f.before_update),f.fragment=r?r(f.ctx):!1,n.target){if(n.hydrate){const p=zi(n.target);f.fragment&&f.fragment.l(p),p.forEach(yt)}else f.fragment&&f.fragment.c();n.intro&&se(t.$$.fragment),Ge(t,n.target,n.anchor,n.customElement),Vr()}xe(l)}class cn{$destroy(){Qe(this,1),this.$destroy=Dt}$on(n,e){if(!Fr(e))return Dt;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!Ci(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,n){((e,r)=>{t.exports=r()})(ve,function e(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,o={},l=0,f={};function d(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(y){var N=T(y);N.chunkSize=parseInt(N.chunkSize),y.step||y.chunk||(N.chunkSize=null),this._handle=new m(N),(this._handle.streamer=this)._config=N}.call(this,S),this.parseChunk=function(y,N){var z=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<z){let F=this._config.newline;F||(x=this._config.quoteChar||'"',F=this._handle.guessLineEndings(y,x)),y=[...y.split(F).slice(z)].join(F)}this.isFirstChunk&&W(this._config.beforeFirstChunk)&&(x=this._config.beforeFirstChunk(y))!==void 0&&(y=x),this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+y,x=(this._partialLine="",this._handle.parse(z,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(y=x.meta.cursor,z=(this._finished||(this._partialLine=z.substring(y-this._baseIndex),this._baseIndex=y),x&&x.data&&(this._rowCount+=x.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:x,workerId:f.WORKER_ID,finished:z});else if(W(this._config.chunk)&&!N){if(this._config.chunk(x,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=x=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(x.data),this._completeResults.errors=this._completeResults.errors.concat(x.errors),this._completeResults.meta=x.meta),this._completed||!z||!W(this._config.complete)||x&&x.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),z||x&&x.meta.paused||this._nextChunk(),x}this._halted=!0},this._sendError=function(y){W(this._config.error)?this._config.error(y):a&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:y,finished:!1})}}function p(S){var y;(S=S||{}).chunkSize||(S.chunkSize=f.RemoteChunkSize),d.call(this,S),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),s||(y.onload=Z(this._chunkLoaded,this),y.onerror=Z(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N,z=this._config.downloadRequestHeaders;for(N in z)y.setRequestHeader(N,z[N])}var x;this._config.chunkSize&&(x=this._start+this._config.chunkSize-1,y.setRequestHeader("Range","bytes="+this._start+"-"+x));try{y.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}s&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize||y.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(y),this.parseChunk(y.responseText)))},this._chunkError=function(N){N=y.statusText||N,this._sendError(new Error(N))}}function g(S){(S=S||{}).chunkSize||(S.chunkSize=f.LocalChunkSize),d.call(this,S);var y,N,z=typeof FileReader<"u";this.stream=function(x){this._input=x,N=x.slice||x.webkitSlice||x.mozSlice,z?((y=new FileReader).onload=Z(this._chunkLoaded,this),y.onerror=Z(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),x=N.call(x,this._start,F)),y.readAsText(x,this._config.encoding));z||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(y.error)}}function h(S){var y;d.call(this,S=S||{}),this.stream=function(N){return y=N,this._nextChunk()},this._nextChunk=function(){var N,z;if(!this._finished)return N=this._config.chunkSize,y=N?(z=y.substring(0,N),y.substring(N)):(z=y,""),this._finished=!y,this.parseChunk(z)}}function b(S){d.call(this,S=S||{});var y=[],N=!0,z=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){z&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):N=!0},this._streamData=Z(function(x){try{y.push(typeof x=="string"?x:x.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(F){this._streamError(F)}},this),this._streamError=Z(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=Z(function(){this._streamCleanUp(),z=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var y,N,z,x,F=Math.pow(2,53),u=-F,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,I=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,Y=0,B=0,K=!1,R=!1,D=[],Q={data:[],errors:[],meta:{}};function J(at){return S.skipEmptyLines==="greedy"?at.join("").trim()==="":at.length===1&&at[0].length===0}function $(){if(Q&&z&&(pt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),z=!1),S.skipEmptyLines&&(Q.data=Q.data.filter(function(_t){return!J(_t)})),ft()){let _t=function(q,c){W(S.transformHeader)&&(q=S.transformHeader(q,c)),D.push(q)};var ut=_t;if(Q)if(Array.isArray(Q.data[0])){for(var at=0;ft()&&at<Q.data.length;at++)Q.data[at].forEach(_t);Q.data.splice(0,1)}else Q.data.forEach(_t)}function ot(_t,q){for(var c=S.header?{}:[],j=0;j<_t.length;j++){var U=j,E=_t[j],E=((v,M)=>(X=>(S.dynamicTypingFunction&&S.dynamicTyping[X]===void 0&&(S.dynamicTyping[X]=S.dynamicTypingFunction(X)),(S.dynamicTyping[X]||S.dynamicTyping)===!0))(v)?M==="true"||M==="TRUE"||M!=="false"&&M!=="FALSE"&&((X=>{if(P.test(X)&&(X=parseFloat(X),u<X&&X<F))return 1})(M)?parseFloat(M):I.test(M)?new Date(M):M===""?null:M):M)(U=S.header?j>=D.length?"__parsed_extra":D[j]:U,E=S.transform?S.transform(E,U):E);U==="__parsed_extra"?(c[U]=c[U]||[],c[U].push(E)):c[U]=E}return S.header&&(j>D.length?pt("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+j,B+q):j<D.length&&pt("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+j,B+q)),c}var mt;Q&&(S.header||S.dynamicTyping||S.transform)&&(mt=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(ot),mt=Q.data.length):Q.data=ot(Q.data,0),S.header&&Q.meta&&(Q.meta.fields=D),B+=mt)}function ft(){return S.header&&D.length===0}function pt(at,ot,mt,ut){at={type:at,code:ot,message:mt},ut!==void 0&&(at.row=ut),Q.errors.push(at)}W(S.step)&&(x=S.step,S.step=function(at){Q=at,ft()?$():($(),Q.data.length!==0&&(Y+=at.data.length,S.preview&&Y>S.preview?N.abort():(Q.data=Q.data[0],x(Q,O))))}),this.parse=function(at,ot,mt){var ut=S.quoteChar||'"',ut=(S.newline||(S.newline=this.guessLineEndings(at,ut)),z=!1,S.delimiter?W(S.delimiter)&&(S.delimiter=S.delimiter(at),Q.meta.delimiter=S.delimiter):((ut=((_t,q,c,j,U)=>{var E,v,M,X;U=U||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var G=0;G<U.length;G++){for(var L,nt=U[G],H=0,V=0,tt=0,it=(M=void 0,new _({comments:j,delimiter:nt,newline:q,preview:10}).parse(_t)),rt=0;rt<it.data.length;rt++)c&&J(it.data[rt])?tt++:(L=it.data[rt].length,V+=L,M===void 0?M=L:0<L&&(H+=Math.abs(L-M),M=L));0<it.data.length&&(V/=it.data.length-tt),(v===void 0||H<=v)&&(X===void 0||X<V)&&1.99<V&&(v=H,E=nt,X=V)}return{successful:!!(S.delimiter=E),bestDelimiter:E}})(at,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ut.bestDelimiter:(z=!0,S.delimiter=f.DefaultDelimiter),Q.meta.delimiter=S.delimiter),T(S));return S.preview&&S.header&&ut.preview++,y=at,N=new _(ut),Q=N.parse(y,ot,mt),$(),K?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,N.abort(),y=W(S.chunk)?"":y.substring(N.getCharIndex())},this.resume=function(){O.streamer._halted?(K=!1,O.streamer.parseChunk(y,!0)):setTimeout(O.resume,3)},this.aborted=function(){return R},this.abort=function(){R=!0,N.abort(),Q.meta.aborted=!0,W(S.complete)&&S.complete(Q),y=""},this.guessLineEndings=function(_t,ut){_t=_t.substring(0,1048576);var ut=new RegExp(w(ut)+"([^]*?)"+w(ut),"gm"),mt=(_t=_t.replace(ut,"")).split("\r"),ut=_t.split(`
`),_t=1<ut.length&&ut[0].length<mt[0].length;if(mt.length===1||_t)return`
`;for(var q=0,c=0;c<mt.length;c++)mt[c][0]===`
`&&q++;return q>=mt.length/2?`\r
`:"\r"}}function w(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(S){var y=(S=S||{}).delimiter,N=S.newline,z=S.comments,x=S.step,F=S.preview,u=S.fastMode,P=null,I=!1,O=S.quoteChar==null?'"':S.quoteChar,Y=O;if(S.escapeChar!==void 0&&(Y=S.escapeChar),(typeof y!="string"||-1<f.BAD_DELIMITERS.indexOf(y))&&(y=","),z===y)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<f.BAD_DELIMITERS.indexOf(z))&&(z=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var B=0,K=!1;this.parse=function(R,D,Q){if(typeof R!="string")throw new Error("Input must be a string");var J=R.length,$=y.length,ft=N.length,pt=z.length,at=W(x),ot=[],mt=[],ut=[],_t=B=0;if(!R)return H();if(u||u!==!1&&R.indexOf(O)===-1){for(var q=R.split(N),c=0;c<q.length;c++){if(ut=q[c],B+=ut.length,c!==q.length-1)B+=N.length;else if(Q)return H();if(!z||ut.substring(0,pt)!==z){if(at){if(ot=[],X(ut.split(y)),V(),K)return H()}else X(ut.split(y));if(F&&F<=c)return ot=ot.slice(0,F),H(!0)}}return H()}for(var j=R.indexOf(y,B),U=R.indexOf(N,B),E=new RegExp(w(Y)+w(O),"g"),v=R.indexOf(O,B);;)if(R[B]===O)for(v=B,B++;;){if((v=R.indexOf(O,v+1))===-1)return Q||mt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ot.length,index:B}),L();if(v===J-1)return L(R.substring(B,v).replace(E,O));if(O===Y&&R[v+1]===Y)v++;else if(O===Y||v===0||R[v-1]!==Y){j!==-1&&j<v+1&&(j=R.indexOf(y,v+1));var M=G((U=U!==-1&&U<v+1?R.indexOf(N,v+1):U)===-1?j:Math.min(j,U));if(R.substr(v+1+M,$)===y){ut.push(R.substring(B,v).replace(E,O)),R[B=v+1+M+$]!==O&&(v=R.indexOf(O,B)),j=R.indexOf(y,B),U=R.indexOf(N,B);break}if(M=G(U),R.substring(v+1+M,v+1+M+ft)===N){if(ut.push(R.substring(B,v).replace(E,O)),nt(v+1+M+ft),j=R.indexOf(y,B),v=R.indexOf(O,B),at&&(V(),K))return H();if(F&&ot.length>=F)return H(!0);break}mt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ot.length,index:B}),v++}}else if(z&&ut.length===0&&R.substring(B,B+pt)===z){if(U===-1)return H();B=U+ft,U=R.indexOf(N,B),j=R.indexOf(y,B)}else if(j!==-1&&(j<U||U===-1))ut.push(R.substring(B,j)),B=j+$,j=R.indexOf(y,B);else{if(U===-1)break;if(ut.push(R.substring(B,U)),nt(U+ft),at&&(V(),K))return H();if(F&&ot.length>=F)return H(!0)}return L();function X(tt){ot.push(tt),_t=B}function G(tt){var it=0;return it=tt!==-1&&(tt=R.substring(v+1,tt))&&tt.trim()===""?tt.length:it}function L(tt){return Q||(tt===void 0&&(tt=R.substring(B)),ut.push(tt),B=J,X(ut),at&&V()),H()}function nt(tt){B=tt,X(ut),ut=[],U=R.indexOf(N,B)}function H(tt){if(S.header&&!D&&ot.length&&!I){var it=ot[0],rt={},dt=new Set(it);let kt=!1;for(let ht=0;ht<it.length;ht++){let ct=it[ht];if(rt[ct=W(S.transformHeader)?S.transformHeader(ct,ht):ct]){let wt,Et=rt[ct];for(;wt=ct+"_"+Et,Et++,dt.has(wt););dt.add(wt),it[ht]=wt,rt[ct]++,kt=!0,(P=P===null?{}:P)[wt]=ct}else rt[ct]=1,it[ht]=ct;dt.add(ct)}kt&&console.warn("Duplicate headers found and renamed."),I=!0}return{data:ot,errors:mt,meta:{delimiter:y,linebreak:N,aborted:K,truncated:!!tt,cursor:_t+(D||0),renamedHeaders:P}}}function V(){x(H()),ot=[],mt=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return B}}function k(S){var y=S.data,N=o[y.workerId],z=!1;if(y.error)N.userError(y.error,y.file);else if(y.results&&y.results.data){var x={abort:function(){z=!0,C(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(W(N.userStep)){for(var F=0;F<y.results.data.length&&(N.userStep({data:y.results.data[F],errors:y.results.errors,meta:y.results.meta},x),!z);F++);delete y.results}else W(N.userChunk)&&(N.userChunk(y.results,x,y.file),delete y.results)}y.finished&&!z&&C(y.workerId,y.results)}function C(S,y){var N=o[S];W(N.userComplete)&&N.userComplete(y),N.terminate(),delete o[S]}function A(){throw new Error("Not implemented.")}function T(S){if(typeof S!="object"||S===null)return S;var y,N=Array.isArray(S)?[]:{};for(y in S)N[y]=T(S[y]);return N}function Z(S,y){return function(){S.apply(y,arguments)}}function W(S){return typeof S=="function"}return f.parse=function(S,y){var N=(y=y||{}).dynamicTyping||!1;if(W(N)&&(y.dynamicTypingFunction=N,N={}),y.dynamicTyping=N,y.transform=!!W(y.transform)&&y.transform,!y.worker||!f.WORKERS_SUPPORTED)return N=null,f.NODE_STREAM_INPUT,typeof S=="string"?(S=(z=>z.charCodeAt(0)!==65279?z:z.slice(1))(S),N=new(y.download?p:h)(y)):S.readable===!0&&W(S.read)&&W(S.on)?N=new b(y):(r.File&&S instanceof File||S instanceof Object)&&(N=new g(y)),N.stream(S);(N=(()=>{var z;return!!f.WORKERS_SUPPORTED&&(z=(()=>{var x=r.URL||r.webkitURL||null,F=e.toString();return f.BLOB_URL||(f.BLOB_URL=x.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(z=new r.Worker(z)).onmessage=k,z.id=l++,o[z.id]=z)})()).userStep=y.step,N.userChunk=y.chunk,N.userComplete=y.complete,N.userError=y.error,y.step=W(y.step),y.chunk=W(y.chunk),y.complete=W(y.complete),y.error=W(y.error),delete y.worker,N.postMessage({input:S,config:y,workerId:N.id})},f.unparse=function(S,y){var N=!1,z=!0,x=",",F=`\r
`,u='"',P=u+u,I=!1,O=null,Y=!1,B=((()=>{if(typeof y=="object"){if(typeof y.delimiter!="string"||f.BAD_DELIMITERS.filter(function(D){return y.delimiter.indexOf(D)!==-1}).length||(x=y.delimiter),typeof y.quotes!="boolean"&&typeof y.quotes!="function"&&!Array.isArray(y.quotes)||(N=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(I=y.skipEmptyLines),typeof y.newline=="string"&&(F=y.newline),typeof y.quoteChar=="string"&&(u=y.quoteChar),typeof y.header=="boolean"&&(z=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");O=y.columns}y.escapeChar!==void 0&&(P=y.escapeChar+u),y.escapeFormulae instanceof RegExp?Y=y.escapeFormulae:typeof y.escapeFormulae=="boolean"&&y.escapeFormulae&&(Y=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(u),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return K(null,S,I);if(typeof S[0]=="object")return K(O||Object.keys(S[0]),S,I)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||O),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),K(S.fields||[],S.data||[],I);throw new Error("Unable to serialize unrecognized input");function K(D,Q,J){var $="",ft=(typeof D=="string"&&(D=JSON.parse(D)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(D)&&0<D.length),pt=!Array.isArray(Q[0]);if(ft&&z){for(var at=0;at<D.length;at++)0<at&&($+=x),$+=R(D[at],at);0<Q.length&&($+=F)}for(var ot=0;ot<Q.length;ot++){var mt=(ft?D:Q[ot]).length,ut=!1,_t=ft?Object.keys(Q[ot]).length===0:Q[ot].length===0;if(J&&!ft&&(ut=J==="greedy"?Q[ot].join("").trim()==="":Q[ot].length===1&&Q[ot][0].length===0),J==="greedy"&&ft){for(var q=[],c=0;c<mt;c++){var j=pt?D[c]:c;q.push(Q[ot][j])}ut=q.join("").trim()===""}if(!ut){for(var U=0;U<mt;U++){0<U&&!_t&&($+=x);var E=ft&&pt?D[U]:U;$+=R(Q[ot][E],U)}ot<Q.length-1&&(!J||0<mt&&!_t)&&($+=F)}}return $}function R(D,Q){var J,$;return D==null?"":D.constructor===Date?JSON.stringify(D).slice(1,25):($=!1,Y&&typeof D=="string"&&Y.test(D)&&(D="'"+D,$=!0),J=D.toString().replace(B,P),($=$||N===!0||typeof N=="function"&&N(D,Q)||Array.isArray(N)&&N[Q]||((ft,pt)=>{for(var at=0;at<pt.length;at++)if(-1<ft.indexOf(pt[at]))return!0;return!1})(J,f.BAD_DELIMITERS)||-1<J.indexOf(x)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?u+J+u:J)}},f.RECORD_SEP=String.fromCharCode(30),f.UNIT_SEP=String.fromCharCode(31),f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=_,f.ParserHandle=m,f.NetworkStreamer=p,f.FileStreamer=g,f.StringStreamer=h,f.ReadableStreamStreamer=b,r.jQuery&&((i=r.jQuery).fn.parse=function(S){var y=S.config||{},N=[];return this.each(function(F){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var u=0;u<this.files.length;u++)N.push({file:this.files[u],inputElem:this,instanceConfig:i.extend({},y)})}),z(),this;function z(){if(N.length===0)W(S.complete)&&S.complete();else{var F,u,P,I,O=N[0];if(W(S.before)){var Y=S.before(O.file,O.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return F="AbortError",u=O.file,P=O.inputElem,I=Y.reason,void(W(S.error)&&S.error({name:F},u,P,I));if(Y.action==="skip")return void x();typeof Y.config=="object"&&(O.instanceConfig=i.extend(O.instanceConfig,Y.config))}else if(Y==="skip")return void x()}var B=O.instanceConfig.complete;O.instanceConfig.complete=function(K){W(B)&&B(K,O.file,O.inputElem),x()},f.parse(O.file,O.instanceConfig)}}function x(){N.splice(0,1),z()}}),a&&(r.onmessage=function(S){S=S.data,f.WORKER_ID===void 0&&S&&(f.WORKER_ID=S.workerId),typeof S.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(S.input,S.config),finished:!0}):(r.File&&S.input instanceof File||S.input instanceof Object)&&(S=f.parse(S.input,S.config))&&r.postMessage({workerId:f.WORKER_ID,results:S,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,(h.prototype=Object.create(h.prototype)).constructor=h,(b.prototype=Object.create(d.prototype)).constructor=b,f})})(qr);const Ni=qr.exports;function Oe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xr={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,n){(function(e){t.exports=e()})(function(){return function e(r,i,s){function a(f,d){if(!i[f]){if(!r[f]){var p=typeof Oe=="function"&&Oe;if(!d&&p)return p(f,!0);if(o)return o(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var h=i[f]={exports:{}};r[f][0].call(h.exports,function(b){var m=r[f][1][b];return a(m||b)},h,h.exports,e,r,i,s)}return i[f].exports}for(var o=typeof Oe=="function"&&Oe,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(e,r,i){var s=e("./utils"),a=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var f,d,p,g,h,b,m,w=[],_=0,k=l.length,C=k,A=s.getTypeOf(l)!=="string";_<l.length;)C=k-_,p=A?(f=l[_++],d=_<k?l[_++]:0,_<k?l[_++]:0):(f=l.charCodeAt(_++),d=_<k?l.charCodeAt(_++):0,_<k?l.charCodeAt(_++):0),g=f>>2,h=(3&f)<<4|d>>4,b=1<C?(15&d)<<2|p>>6:64,m=2<C?63&p:64,w.push(o.charAt(g)+o.charAt(h)+o.charAt(b)+o.charAt(m));return w.join("")},i.decode=function(l){var f,d,p,g,h,b,m=0,w=0,_="data:";if(l.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&C--,l.charAt(l.length-2)===o.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=a.uint8array?new Uint8Array(0|C):new Array(0|C);m<l.length;)f=o.indexOf(l.charAt(m++))<<2|(g=o.indexOf(l.charAt(m++)))>>4,d=(15&g)<<4|(h=o.indexOf(l.charAt(m++)))>>2,p=(3&h)<<6|(b=o.indexOf(l.charAt(m++))),k[w++]=f,h!==64&&(k[w++]=d),b!==64&&(k[w++]=p);return k}},{"./support":30,"./utils":32}],2:[function(e,r,i){var s=e("./external"),a=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function f(d,p,g,h,b){this.compressedSize=d,this.uncompressedSize=p,this.crc32=g,this.compression=h,this.compressedContent=b}f.prototype={getContentWorker:function(){var d=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(d,p,g){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,i){var s=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,i){var s=e("./utils"),a=function(){for(var o,l=[],f=0;f<256;f++){o=f;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[f]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(f,d,p,g){var h=a,b=g+p;f^=-1;for(var m=g;m<b;m++)f=f>>>8^h[255&(f^d[m])];return-1^f}(0|l,o,o.length,0):function(f,d,p,g){var h=a,b=g+p;f^=-1;for(var m=g;m<b;m++)f=f>>>8^h[255&(f^d.charCodeAt(m))];return-1^f}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(e,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,r,i){var s=null;s=typeof Promise<"u"?Promise:e("lie"),r.exports={Promise:s}},{lie:37}],7:[function(e,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),o=e("./utils"),l=e("./stream/GenericWorker"),f=s?"uint8array":"array";function d(p,g){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,p.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new d("Deflate",p)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,i){function s(h,b){var m,w="";for(m=0;m<b;m++)w+=String.fromCharCode(255&h),h>>>=8;return w}function a(h,b,m,w,_,k){var C,A,T=h.file,Z=h.compression,W=k!==f.utf8encode,S=o.transformTo("string",k(T.name)),y=o.transformTo("string",f.utf8encode(T.name)),N=T.comment,z=o.transformTo("string",k(N)),x=o.transformTo("string",f.utf8encode(N)),F=y.length!==T.name.length,u=x.length!==N.length,P="",I="",O="",Y=T.dir,B=T.date,K={crc32:0,compressedSize:0,uncompressedSize:0};b&&!m||(K.crc32=h.crc32,K.compressedSize=h.compressedSize,K.uncompressedSize=h.uncompressedSize);var R=0;b&&(R|=8),W||!F&&!u||(R|=2048);var D=0,Q=0;Y&&(D|=16),_==="UNIX"?(Q=798,D|=function($,ft){var pt=$;return $||(pt=ft?16893:33204),(65535&pt)<<16}(T.unixPermissions,Y)):(Q=20,D|=function($){return 63&($||0)}(T.dosPermissions)),C=B.getUTCHours(),C<<=6,C|=B.getUTCMinutes(),C<<=5,C|=B.getUTCSeconds()/2,A=B.getUTCFullYear()-1980,A<<=4,A|=B.getUTCMonth()+1,A<<=5,A|=B.getUTCDate(),F&&(I=s(1,1)+s(d(S),4)+y,P+="up"+s(I.length,2)+I),u&&(O=s(1,1)+s(d(z),4)+x,P+="uc"+s(O.length,2)+O);var J="";return J+=`
\0`,J+=s(R,2),J+=Z.magic,J+=s(C,2),J+=s(A,2),J+=s(K.crc32,4),J+=s(K.compressedSize,4),J+=s(K.uncompressedSize,4),J+=s(S.length,2),J+=s(P.length,2),{fileRecord:p.LOCAL_FILE_HEADER+J+S+P,dirRecord:p.CENTRAL_FILE_HEADER+s(Q,2)+J+s(z.length,2)+"\0\0\0\0"+s(D,4)+s(w,4)+S+P+z}}var o=e("../utils"),l=e("../stream/GenericWorker"),f=e("../utf8"),d=e("../crc32"),p=e("../signature");function g(h,b,m,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=m,this.encodeFileName=w,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,l),g.prototype.push=function(h){var b=h.meta.percent||0,m=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(b+100*(m-w-1))/m:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var m=a(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,m=a(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),b)this.push({data:function(w){return p.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var m=this.bytesWritten-h,w=function(_,k,C,A,T){var Z=o.transformTo("string",T(A));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s(k,4)+s(C,4)+s(Z.length,2)+Z}(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(m){b.processChunk(m)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(m){b.error(m)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var b=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<b.length;m++)try{b[m].error(h)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,i){var s=e("../compressions"),a=e("./ZipFileWorker");i.generateWorker=function(o,l,f){var d=new a(l.streamFiles,f,l.platform,l.encodeFileName),p=0;try{o.forEach(function(g,h){p++;var b=function(k,C){var A=k||C,T=s[A];if(!T)throw new Error(A+" is not a valid compression method !");return T}(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},w=h.dir,_=h.date;h._compressWorker(b,m).withStreamInfo("file",{name:g,dir:w,date:_,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=e("./object")).loadAsync=e("./load"),s.support=e("./support"),s.defaults=e("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=e("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,i){var s=e("./utils"),a=e("./external"),o=e("./utf8"),l=e("./zipEntries"),f=e("./stream/Crc32Probe"),d=e("./nodejsUtils");function p(g){return new a.Promise(function(h,b){var m=g.decompressed.getContentWorker().pipe(new f);m.on("error",function(w){b(w)}).on("end",function(){m.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(g,h){var b=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(m){var w=new l(h);return w.load(m),w}).then(function(m){var w=[a.Promise.resolve(m)],_=m.files;if(h.checkCRC32)for(var k=0;k<_.length;k++)w.push(p(_[k]));return a.Promise.all(w)}).then(function(m){for(var w=m.shift(),_=w.files,k=0;k<_.length;k++){var C=_[k],A=C.fileNameStr,T=s.resolve(C.fileNameStr);b.file(T,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:h.createFolders}),C.dir||(b.file(T).unsafeOriginalName=A)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,i){var s=e("../utils"),a=e("../stream/GenericWorker");function o(l,f){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(o,a),o.prototype._bindStream=function(l){var f=this;(this._stream=l).pause(),l.on("data",function(d){f.push({data:d,meta:{percent:0}})}).on("error",function(d){f.isPaused?this.generatedError=d:f.error(d)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,i){var s=e("readable-stream").Readable;function a(o,l,f){s.call(this,l),this._helper=o;var d=this;o.on("data",function(p,g){d.push(p)||d._helper.pause(),f&&f(g)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}e("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(e,r,i){function s(T,Z,W){var S,y=o.getTypeOf(Z),N=o.extend(W||{},d);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(T=_(T)),N.createFolders&&(S=w(T))&&k.call(this,S,!0);var z=y==="string"&&N.binary===!1&&N.base64===!1;W&&W.binary!==void 0||(N.binary=!z),(Z instanceof p&&Z.uncompressedSize===0||N.dir||!Z||Z.length===0)&&(N.base64=!1,N.binary=!0,Z="",N.compression="STORE",y="string");var x=null;x=Z instanceof p||Z instanceof l?Z:b.isNode&&b.isStream(Z)?new m(T,Z):o.prepareContent(T,Z,N.binary,N.optimizedBinaryString,N.base64);var F=new g(T,x,N);this.files[T]=F}var a=e("./utf8"),o=e("./utils"),l=e("./stream/GenericWorker"),f=e("./stream/StreamHelper"),d=e("./defaults"),p=e("./compressedObject"),g=e("./zipObject"),h=e("./generate"),b=e("./nodejsUtils"),m=e("./nodejs/NodejsStreamInputAdapter"),w=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var Z=T.lastIndexOf("/");return 0<Z?T.substring(0,Z):""},_=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},k=function(T,Z){return Z=Z!==void 0?Z:d.createFolders,T=_(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:Z}),this.files[T]};function C(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var Z,W,S;for(Z in this.files)S=this.files[Z],(W=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&T(W,S)},filter:function(T){var Z=[];return this.forEach(function(W,S){T(W,S)&&Z.push(S)}),Z},file:function(T,Z,W){if(arguments.length!==1)return T=this.root+T,s.call(this,T,Z,W),this;if(C(T)){var S=T;return this.filter(function(N,z){return!z.dir&&S.test(N)})}var y=this.files[this.root+T];return y&&!y.dir?y:null},folder:function(T){if(!T)return this;if(C(T))return this.filter(function(y,N){return N.dir&&T.test(y)});var Z=this.root+T,W=k.call(this,Z),S=this.clone();return S.root=W.name,S},remove:function(T){T=this.root+T;var Z=this.files[T];if(Z||(T.slice(-1)!=="/"&&(T+="/"),Z=this.files[T]),Z&&!Z.dir)delete this.files[T];else for(var W=this.filter(function(y,N){return N.name.slice(0,T.length)===T}),S=0;S<W.length;S++)delete this.files[W[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var Z,W={};try{if((W=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=W.type.toLowerCase(),W.compression=W.compression.toUpperCase(),W.type==="binarystring"&&(W.type="string"),!W.type)throw new Error("No output type specified.");o.checkSupport(W.type),W.platform!=="darwin"&&W.platform!=="freebsd"&&W.platform!=="linux"&&W.platform!=="sunos"||(W.platform="UNIX"),W.platform==="win32"&&(W.platform="DOS");var S=W.comment||this.comment||"";Z=h.generateWorker(this,W,S)}catch(y){(Z=new l("error")).error(y)}return new f(Z,W.type||"string",W.mimeType)},generateAsync:function(T,Z){return this.generateInternalStream(T).accumulate(Z)},generateNodeStream:function(T,Z){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(Z)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,i){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,i){var s=e("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}e("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),f=o.charCodeAt(1),d=o.charCodeAt(2),p=o.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===f&&this.data[g+2]===d&&this.data[g+3]===p)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),f=o.charCodeAt(1),d=o.charCodeAt(2),p=o.charCodeAt(3),g=this.readData(4);return l===g[0]&&f===g[1]&&d===g[2]&&p===g[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,r,i){var s=e("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,f=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)f=(f<<8)+this.byteAt(l);return this.index+=o,f},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(e,r,i){var s=e("./Uint8ArrayReader");function a(o){s.call(this,o)}e("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,i){var s=e("./DataReader");function a(o){s.call(this,o)}e("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,r,i){var s=e("./ArrayReader");function a(o){s.call(this,o)}e("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,i){var s=e("../utils"),a=e("../support"),o=e("./ArrayReader"),l=e("./StringReader"),f=e("./NodeBufferReader"),d=e("./Uint8ArrayReader");r.exports=function(p){var g=s.getTypeOf(p);return s.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new f(p):a.uint8array?new d(s.transformTo("uint8array",p)):new o(s.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,i){var s=e("./GenericWorker"),a=e("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,i){var s=e("./GenericWorker"),a=e("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,i){var s=e("../utils"),a=e("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,i){var s=e("../utils"),a=e("./GenericWorker");function o(l){a.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=s.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,f);break;case"uint8array":l=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":l=this.data.slice(this.index,f)}return this.index=f,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(e,r,i){var s=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),l=e("../base64"),f=e("../support"),d=e("../external"),p=null;if(f.nodestream)try{p=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,m){return new d.Promise(function(w,_){var k=[],C=b._internalType,A=b._outputType,T=b._mimeType;b.on("data",function(Z,W){k.push(Z),m&&m(W)}).on("error",function(Z){k=[],_(Z)}).on("end",function(){try{var Z=function(W,S,y){switch(W){case"blob":return s.newBlob(s.transformTo("arraybuffer",S),y);case"base64":return l.encode(S);default:return s.transformTo(W,S)}}(A,function(W,S){var y,N=0,z=null,x=0;for(y=0;y<S.length;y++)x+=S[y].length;switch(W){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(z=new Uint8Array(x),y=0;y<S.length;y++)z.set(S[y],N),N+=S[y].length;return z;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+W+"'")}}(C,k),T);w(Z)}catch(W){_(W)}k=[]}).resume()})}function h(b,m,w){var _=m;switch(m){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=m,this._mimeType=w,s.checkSupport(_),this._worker=b.pipe(new a(_)),b.lock()}catch(k){this._worker=new o("error"),this._worker.error(k)}}h.prototype={accumulate:function(b){return g(this,b)},on:function(b,m){var w=this;return b==="data"?this._worker.on(b,function(_){m.call(w,_.data,_.meta)}):this._worker.on(b,function(){s.delay(m,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,i){for(var s=e("./utils"),a=e("./support"),o=e("./nodejsUtils"),l=e("./stream/GenericWorker"),f=new Array(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;f[254]=f[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):function(b){var m,w,_,k,C,A=b.length,T=0;for(k=0;k<A;k++)(64512&(w=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(_=b.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(_-56320),k++),T+=w<128?1:w<2048?2:w<65536?3:4;for(m=a.uint8array?new Uint8Array(T):new Array(T),k=C=0;C<T;k++)(64512&(w=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(_=b.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(_-56320),k++),w<128?m[C++]=w:(w<2048?m[C++]=192|w>>>6:(w<65536?m[C++]=224|w>>>12:(m[C++]=240|w>>>18,m[C++]=128|w>>>12&63),m[C++]=128|w>>>6&63),m[C++]=128|63&w);return m}(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(b){var m,w,_,k,C=b.length,A=new Array(2*C);for(m=w=0;m<C;)if((_=b[m++])<128)A[w++]=_;else if(4<(k=f[_]))A[w++]=65533,m+=k-1;else{for(_&=k===2?31:k===3?15:7;1<k&&m<C;)_=_<<6|63&b[m++],k--;1<k?A[w++]=65533:_<65536?A[w++]=_:(_-=65536,A[w++]=55296|_>>10&1023,A[w++]=56320|1023&_)}return A.length!==w&&(A.subarray?A=A.subarray(0,w):A.length=w),s.applyFromCharCode(A)}(h=s.transformTo(a.uint8array?"uint8array":"array",h))},s.inherits(p,l),p.prototype.processChunk=function(h){var b=s.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=b;(b=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),b.set(m,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=function(k,C){var A;for((C=C||k.length)>k.length&&(C=k.length),A=C-1;0<=A&&(192&k[A])==128;)A--;return A<0||A===0?C:A+f[k[A]]>C?A:C}(b),_=b;w!==b.length&&(a.uint8array?(_=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(_=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:i.utf8decode(_),meta:h.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,s.inherits(g,l),g.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,i){var s=e("./support"),a=e("./base64"),o=e("./nodejsUtils"),l=e("./external");function f(m){return m}function d(m,w){for(var _=0;_<m.length;++_)w[_]=255&m.charCodeAt(_);return w}e("setimmediate"),i.newBlob=function(m,w){i.checkSupport("blob");try{return new Blob([m],{type:w})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(m),_.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(m,w,_){var k=[],C=0,A=m.length;if(A<=_)return String.fromCharCode.apply(null,m);for(;C<A;)w==="array"||w==="nodebuffer"?k.push(String.fromCharCode.apply(null,m.slice(C,Math.min(C+_,A)))):k.push(String.fromCharCode.apply(null,m.subarray(C,Math.min(C+_,A)))),C+=_;return k.join("")},stringifyByChar:function(m){for(var w="",_=0;_<m.length;_++)w+=String.fromCharCode(m[_]);return w},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function g(m){var w=65536,_=i.getTypeOf(m),k=!0;if(_==="uint8array"?k=p.applyCanBeUsed.uint8array:_==="nodebuffer"&&(k=p.applyCanBeUsed.nodebuffer),k)for(;1<w;)try{return p.stringifyByChunk(m,_,w)}catch{w=Math.floor(w/2)}return p.stringifyByChar(m)}function h(m,w){for(var _=0;_<m.length;_++)w[_]=m[_];return w}i.applyFromCharCode=g;var b={};b.string={string:f,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return b.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,o.allocBuffer(m.length))}},b.array={string:g,array:f,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},b.arraybuffer={string:function(m){return g(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:f,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},b.uint8array={string:g,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:f,nodebuffer:function(m){return o.newBufferFrom(m)}},b.nodebuffer={string:g,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return b.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:f},i.transformTo=function(m,w){if(w=w||"",!m)return w;i.checkSupport(m);var _=i.getTypeOf(w);return b[_][m](w)},i.resolve=function(m){for(var w=m.split("/"),_=[],k=0;k<w.length;k++){var C=w[k];C==="."||C===""&&k!==0&&k!==w.length-1||(C===".."?_.pop():_.push(C))}return _.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var w,_,k="";for(_=0;_<(m||"").length;_++)k+="\\x"+((w=m.charCodeAt(_))<16?"0":"")+w.toString(16).toUpperCase();return k},i.delay=function(m,w,_){setImmediate(function(){m.apply(_||null,w||[])})},i.inherits=function(m,w){function _(){}_.prototype=w.prototype,m.prototype=new _},i.extend=function(){var m,w,_={};for(m=0;m<arguments.length;m++)for(w in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],w)&&_[w]===void 0&&(_[w]=arguments[m][w]);return _},i.prepareContent=function(m,w,_,k,C){return l.Promise.resolve(w).then(function(A){return s.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,Z){var W=new FileReader;W.onload=function(S){T(S.target.result)},W.onerror=function(S){Z(S.target.error)},W.readAsArrayBuffer(A)}):A}).then(function(A){var T=i.getTypeOf(A);return T?(T==="arraybuffer"?A=i.transformTo("uint8array",A):T==="string"&&(C?A=a.decode(A):_&&k!==!0&&(A=function(Z){return d(Z,s.uint8array?new Uint8Array(Z.length):new Array(Z.length))}(A))),A):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,i){var s=e("./reader/readerFor"),a=e("./utils"),o=e("./signature"),l=e("./zipEntry"),f=e("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(p)+")")}},isSignature:function(p,g){var h=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4)===g;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",h=a.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,h,b=this.zip64EndOfCentralSize-44;0<b;)p=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=g-h;if(0<b)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,i){var s=e("./reader/readerFor"),a=e("./utils"),o=e("./compressedObject"),l=e("./crc32"),f=e("./utf8"),d=e("./compressions"),p=e("./support");function g(h,b){this.options=h,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(w){for(var _ in d)if(Object.prototype.hasOwnProperty.call(d,_)&&d[_].magic===w)return d[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,m,w,_=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<_;)b=h.readInt(2),m=h.readInt(2),w=h.readData(m),this.extraFields[b]={id:b,length:m,value:w};h.setIndex(_)},handleUTF8:function(){var h=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var m=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var _=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=s(h.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=s(h.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,i){function s(b,m,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=m,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),l=e("./utf8"),f=e("./compressedObject"),d=e("./stream/GenericWorker");s.prototype={internalStream:function(b){var m=null,w="string";try{if(!b)throw new Error("No output type specified.");var _=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),m=this._decompressWorker();var k=!this._dataBinary;k&&!_&&(m=m.pipe(new l.Utf8EncodeWorker)),!k&&_&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(C){(m=new d("error")).error(C)}return new a(m,w,"")},async:function(b,m){return this.internalStream(b).accumulate(m)},nodeStream:function(b,m){return this.internalStream(b||"nodebuffer").toNodejsStream(m)},_compressWorker:function(b,m){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),f.createWorkerFrom(w,b,m)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<p.length;h++)s.prototype[p[h]]=g;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var f=0,d=new l(b),p=s.document.createTextNode("");d.observe(p,{characterData:!0}),a=function(){p.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){b(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(b,0)};else{var g=new s.MessageChannel;g.port1.onmessage=b,a=function(){g.port2.postMessage(0)}}var h=[];function b(){var m,w;o=!0;for(var _=h.length;_;){for(w=h,h=[],m=-1;++m<_;)w[m]();_=h.length}o=!1}r.exports=function(m){h.push(m)!==1||o||a()}}).call(this,typeof ve<"u"?ve:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,i){var s=e("immediate");function a(){}var o={},l=["REJECTED"],f=["FULFILLED"],d=["PENDING"];function p(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,_!==a&&m(this,_)}function g(_,k,C){this.promise=_,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function h(_,k,C){s(function(){var A;try{A=k(C)}catch(T){return o.reject(_,T)}A===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,A)})}function b(_){var k=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof k=="function")return function(){k.apply(_,arguments)}}function m(_,k){var C=!1;function A(W){C||(C=!0,o.reject(_,W))}function T(W){C||(C=!0,o.resolve(_,W))}var Z=w(function(){k(T,A)});Z.status==="error"&&A(Z.value)}function w(_,k){var C={};try{C.value=_(k),C.status="success"}catch(A){C.status="error",C.value=A}return C}(r.exports=p).prototype.finally=function(_){if(typeof _!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(_()).then(function(){return C})},function(C){return k.resolve(_()).then(function(){throw C})})},p.prototype.catch=function(_){return this.then(null,_)},p.prototype.then=function(_,k){if(typeof _!="function"&&this.state===f||typeof k!="function"&&this.state===l)return this;var C=new this.constructor(a);return this.state!==d?h(C,this.state===f?_:k,this.outcome):this.queue.push(new g(C,_,k)),C},g.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},g.prototype.otherCallFulfilled=function(_){h(this.promise,this.onFulfilled,_)},g.prototype.callRejected=function(_){o.reject(this.promise,_)},g.prototype.otherCallRejected=function(_){h(this.promise,this.onRejected,_)},o.resolve=function(_,k){var C=w(b,k);if(C.status==="error")return o.reject(_,C.value);var A=C.value;if(A)m(_,A);else{_.state=f,_.outcome=k;for(var T=-1,Z=_.queue.length;++T<Z;)_.queue[T].callFulfilled(k)}return _},o.reject=function(_,k){_.state=l,_.outcome=k;for(var C=-1,A=_.queue.length;++C<A;)_.queue[C].callRejected(k);return _},p.resolve=function(_){return _ instanceof this?_:o.resolve(new this(a),_)},p.reject=function(_){var k=new this(a);return o.reject(k,_)},p.all=function(_){var k=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=_.length,A=!1;if(!C)return this.resolve([]);for(var T=new Array(C),Z=0,W=-1,S=new this(a);++W<C;)y(_[W],W);return S;function y(N,z){k.resolve(N).then(function(x){T[z]=x,++Z!==C||A||(A=!0,o.resolve(S,T))},function(x){A||(A=!0,o.reject(S,x))})}},p.race=function(_){var k=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=_.length,A=!1;if(!C)return this.resolve([]);for(var T=-1,Z=new this(a);++T<C;)W=_[T],k.resolve(W).then(function(S){A||(A=!0,o.resolve(Z,S))},function(S){A||(A=!0,o.reject(Z,S))});var W;return Z}},{immediate:36}],38:[function(e,r,i){var s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,i){var s=e("./zlib/deflate"),a=e("./utils/common"),o=e("./utils/strings"),l=e("./zlib/messages"),f=e("./zlib/zstream"),d=Object.prototype.toString,p=0,g=-1,h=0,b=8;function m(_){if(!(this instanceof m))return new m(_);this.options=a.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==p)throw new Error(l[C]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var A;if(A=typeof k.dictionary=="string"?o.string2buf(k.dictionary):d.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=s.deflateSetDictionary(this.strm,A))!==p)throw new Error(l[C]);this._dict_set=!0}}function w(_,k){var C=new m(k);if(C.push(_,!0),C.err)throw C.msg||l[C.err];return C.result}m.prototype.push=function(_,k){var C,A,T=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;A=k===~~k?k:k===!0?4:0,typeof _=="string"?T.input=o.string2buf(_):d.call(_)==="[object ArrayBuffer]"?T.input=new Uint8Array(_):T.input=_,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(Z),T.next_out=0,T.avail_out=Z),(C=s.deflate(T,A))!==1&&C!==p)return this.onEnd(C),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&C!==1);return A===4?(C=s.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p):A!==2||(this.onEnd(p),!(T.avail_out=0))},m.prototype.onData=function(_){this.chunks.push(_)},m.prototype.onEnd=function(_){_===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=m,i.deflate=w,i.deflateRaw=function(_,k){return(k=k||{}).raw=!0,w(_,k)},i.gzip=function(_,k){return(k=k||{}).gzip=!0,w(_,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,i){var s=e("./zlib/inflate"),a=e("./utils/common"),o=e("./utils/strings"),l=e("./zlib/constants"),f=e("./zlib/messages"),d=e("./zlib/zstream"),p=e("./zlib/gzheader"),g=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||m&&m.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,w.windowBits);if(_!==l.Z_OK)throw new Error(f[_]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function b(m,w){var _=new h(w);if(_.push(m,!0),_.err)throw _.msg||f[_.err];return _.result}h.prototype.push=function(m,w){var _,k,C,A,T,Z,W=this.strm,S=this.options.chunkSize,y=this.options.dictionary,N=!1;if(this.ended)return!1;k=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?W.input=o.binstring2buf(m):g.call(m)==="[object ArrayBuffer]"?W.input=new Uint8Array(m):W.input=m,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new a.Buf8(S),W.next_out=0,W.avail_out=S),(_=s.inflate(W,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&y&&(Z=typeof y=="string"?o.string2buf(y):g.call(y)==="[object ArrayBuffer]"?new Uint8Array(y):y,_=s.inflateSetDictionary(this.strm,Z)),_===l.Z_BUF_ERROR&&N===!0&&(_=l.Z_OK,N=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),!(this.ended=!0);W.next_out&&(W.avail_out!==0&&_!==l.Z_STREAM_END&&(W.avail_in!==0||k!==l.Z_FINISH&&k!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=o.utf8border(W.output,W.next_out),A=W.next_out-C,T=o.buf2string(W.output,C),W.next_out=A,W.avail_out=S-A,A&&a.arraySet(W.output,W.output,C,A,0),this.onData(T)):this.onData(a.shrinkBuf(W.output,W.next_out)))),W.avail_in===0&&W.avail_out===0&&(N=!0)}while((0<W.avail_in||W.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&(k=l.Z_FINISH),k===l.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):k!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(W.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=b,i.inflateRaw=function(m,w){return(w=w||{}).raw=!0,b(m,w)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var d=f.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])}}return l},i.shrinkBuf=function(l,f){return l.length===f?l:l.subarray?l.subarray(0,f):(l.length=f,l)};var a={arraySet:function(l,f,d,p,g){if(f.subarray&&l.subarray)l.set(f.subarray(d,d+p),g);else for(var h=0;h<p;h++)l[g+h]=f[d+h]},flattenChunks:function(l){var f,d,p,g,h,b;for(f=p=0,d=l.length;f<d;f++)p+=l[f].length;for(b=new Uint8Array(p),f=g=0,d=l.length;f<d;f++)h=l[f],b.set(h,g),g+=h.length;return b}},o={arraySet:function(l,f,d,p,g){for(var h=0;h<p;h++)l[g+h]=f[d+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(e,r,i){var s=e("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),f=0;f<256;f++)l[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function d(p,g){if(g<65537&&(p.subarray&&o||!p.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(p,g));for(var h="",b=0;b<g;b++)h+=String.fromCharCode(p[b]);return h}l[254]=l[254]=1,i.string2buf=function(p){var g,h,b,m,w,_=p.length,k=0;for(m=0;m<_;m++)(64512&(h=p.charCodeAt(m)))==55296&&m+1<_&&(64512&(b=p.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),m++),k+=h<128?1:h<2048?2:h<65536?3:4;for(g=new s.Buf8(k),m=w=0;w<k;m++)(64512&(h=p.charCodeAt(m)))==55296&&m+1<_&&(64512&(b=p.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),m++),h<128?g[w++]=h:(h<2048?g[w++]=192|h>>>6:(h<65536?g[w++]=224|h>>>12:(g[w++]=240|h>>>18,g[w++]=128|h>>>12&63),g[w++]=128|h>>>6&63),g[w++]=128|63&h);return g},i.buf2binstring=function(p){return d(p,p.length)},i.binstring2buf=function(p){for(var g=new s.Buf8(p.length),h=0,b=g.length;h<b;h++)g[h]=p.charCodeAt(h);return g},i.buf2string=function(p,g){var h,b,m,w,_=g||p.length,k=new Array(2*_);for(h=b=0;h<_;)if((m=p[h++])<128)k[b++]=m;else if(4<(w=l[m]))k[b++]=65533,h+=w-1;else{for(m&=w===2?31:w===3?15:7;1<w&&h<_;)m=m<<6|63&p[h++],w--;1<w?k[b++]=65533:m<65536?k[b++]=m:(m-=65536,k[b++]=55296|m>>10&1023,k[b++]=56320|1023&m)}return d(k,b)},i.utf8border=function(p,g){var h;for((g=g||p.length)>p.length&&(g=p.length),h=g-1;0<=h&&(192&p[h])==128;)h--;return h<0||h===0?g:h+l[p[h]]>g?h:g}},{"./common":41}],43:[function(e,r,i){r.exports=function(s,a,o,l){for(var f=65535&s|0,d=s>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;d=d+(f=f+a[l++]|0)|0,--p;);f%=65521,d%=65521}return f|d<<16|0}},{}],44:[function(e,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();r.exports=function(a,o,l,f){var d=s,p=f+l;a^=-1;for(var g=f;g<p;g++)a=a>>>8^d[255&(a^o[g])];return-1^a}},{}],46:[function(e,r,i){var s,a=e("../utils/common"),o=e("./trees"),l=e("./adler32"),f=e("./crc32"),d=e("./messages"),p=0,g=4,h=0,b=-2,m=-1,w=4,_=2,k=8,C=9,A=286,T=30,Z=19,W=2*A+1,S=15,y=3,N=258,z=N+y+1,x=42,F=113,u=1,P=2,I=3,O=4;function Y(c,j){return c.msg=d[j],j}function B(c){return(c<<1)-(4<c?9:0)}function K(c){for(var j=c.length;0<=--j;)c[j]=0}function R(c){var j=c.state,U=j.pending;U>c.avail_out&&(U=c.avail_out),U!==0&&(a.arraySet(c.output,j.pending_buf,j.pending_out,U,c.next_out),c.next_out+=U,j.pending_out+=U,c.total_out+=U,c.avail_out-=U,j.pending-=U,j.pending===0&&(j.pending_out=0))}function D(c,j){o._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,j),c.block_start=c.strstart,R(c.strm)}function Q(c,j){c.pending_buf[c.pending++]=j}function J(c,j){c.pending_buf[c.pending++]=j>>>8&255,c.pending_buf[c.pending++]=255&j}function $(c,j){var U,E,v=c.max_chain_length,M=c.strstart,X=c.prev_length,G=c.nice_match,L=c.strstart>c.w_size-z?c.strstart-(c.w_size-z):0,nt=c.window,H=c.w_mask,V=c.prev,tt=c.strstart+N,it=nt[M+X-1],rt=nt[M+X];c.prev_length>=c.good_match&&(v>>=2),G>c.lookahead&&(G=c.lookahead);do if(nt[(U=j)+X]===rt&&nt[U+X-1]===it&&nt[U]===nt[M]&&nt[++U]===nt[M+1]){M+=2,U++;do;while(nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&nt[++M]===nt[++U]&&M<tt);if(E=N-(tt-M),M=tt-N,X<E){if(c.match_start=j,G<=(X=E))break;it=nt[M+X-1],rt=nt[M+X]}}while((j=V[j&H])>L&&--v!=0);return X<=c.lookahead?X:c.lookahead}function ft(c){var j,U,E,v,M,X,G,L,nt,H,V=c.w_size;do{if(v=c.window_size-c.lookahead-c.strstart,c.strstart>=V+(V-z)){for(a.arraySet(c.window,c.window,V,V,0),c.match_start-=V,c.strstart-=V,c.block_start-=V,j=U=c.hash_size;E=c.head[--j],c.head[j]=V<=E?E-V:0,--U;);for(j=U=V;E=c.prev[--j],c.prev[j]=V<=E?E-V:0,--U;);v+=V}if(c.strm.avail_in===0)break;if(X=c.strm,G=c.window,L=c.strstart+c.lookahead,nt=v,H=void 0,H=X.avail_in,nt<H&&(H=nt),U=H===0?0:(X.avail_in-=H,a.arraySet(G,X.input,X.next_in,H,L),X.state.wrap===1?X.adler=l(X.adler,G,H,L):X.state.wrap===2&&(X.adler=f(X.adler,G,H,L)),X.next_in+=H,X.total_in+=H,H),c.lookahead+=U,c.lookahead+c.insert>=y)for(M=c.strstart-c.insert,c.ins_h=c.window[M],c.ins_h=(c.ins_h<<c.hash_shift^c.window[M+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[M+y-1])&c.hash_mask,c.prev[M&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=M,M++,c.insert--,!(c.lookahead+c.insert<y)););}while(c.lookahead<z&&c.strm.avail_in!==0)}function pt(c,j){for(var U,E;;){if(c.lookahead<z){if(ft(c),c.lookahead<z&&j===p)return u;if(c.lookahead===0)break}if(U=0,c.lookahead>=y&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+y-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),U!==0&&c.strstart-U<=c.w_size-z&&(c.match_length=$(c,U)),c.match_length>=y)if(E=o._tr_tally(c,c.strstart-c.match_start,c.match_length-y),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=y){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+y-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else E=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(E&&(D(c,!1),c.strm.avail_out===0))return u}return c.insert=c.strstart<y-1?c.strstart:y-1,j===g?(D(c,!0),c.strm.avail_out===0?I:O):c.last_lit&&(D(c,!1),c.strm.avail_out===0)?u:P}function at(c,j){for(var U,E,v;;){if(c.lookahead<z){if(ft(c),c.lookahead<z&&j===p)return u;if(c.lookahead===0)break}if(U=0,c.lookahead>=y&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+y-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=y-1,U!==0&&c.prev_length<c.max_lazy_match&&c.strstart-U<=c.w_size-z&&(c.match_length=$(c,U),c.match_length<=5&&(c.strategy===1||c.match_length===y&&4096<c.strstart-c.match_start)&&(c.match_length=y-1)),c.prev_length>=y&&c.match_length<=c.prev_length){for(v=c.strstart+c.lookahead-y,E=o._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-y),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=v&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+y-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=y-1,c.strstart++,E&&(D(c,!1),c.strm.avail_out===0))return u}else if(c.match_available){if((E=o._tr_tally(c,0,c.window[c.strstart-1]))&&D(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return u}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(E=o._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<y-1?c.strstart:y-1,j===g?(D(c,!0),c.strm.avail_out===0?I:O):c.last_lit&&(D(c,!1),c.strm.avail_out===0)?u:P}function ot(c,j,U,E,v){this.good_length=c,this.max_lazy=j,this.nice_length=U,this.max_chain=E,this.func=v}function mt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*W),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*Z+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(S+1),this.heap=new a.Buf16(2*A+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ut(c){var j;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=_,(j=c.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?x:F,c.adler=j.wrap===2?0:1,j.last_flush=p,o._tr_init(j),h):Y(c,b)}function _t(c){var j=ut(c);return j===h&&function(U){U.window_size=2*U.w_size,K(U.head),U.max_lazy_match=s[U.level].max_lazy,U.good_match=s[U.level].good_length,U.nice_match=s[U.level].nice_length,U.max_chain_length=s[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=y-1,U.match_available=0,U.ins_h=0}(c.state),j}function q(c,j,U,E,v,M){if(!c)return b;var X=1;if(j===m&&(j=6),E<0?(X=0,E=-E):15<E&&(X=2,E-=16),v<1||C<v||U!==k||E<8||15<E||j<0||9<j||M<0||w<M)return Y(c,b);E===8&&(E=9);var G=new mt;return(c.state=G).strm=c,G.wrap=X,G.gzhead=null,G.w_bits=E,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=v+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+y-1)/y),G.window=new a.Buf8(2*G.w_size),G.head=new a.Buf16(G.hash_size),G.prev=new a.Buf16(G.w_size),G.lit_bufsize=1<<v+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new a.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=j,G.strategy=M,G.method=U,_t(c)}s=[new ot(0,0,0,0,function(c,j){var U=65535;for(U>c.pending_buf_size-5&&(U=c.pending_buf_size-5);;){if(c.lookahead<=1){if(ft(c),c.lookahead===0&&j===p)return u;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var E=c.block_start+U;if((c.strstart===0||c.strstart>=E)&&(c.lookahead=c.strstart-E,c.strstart=E,D(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-z&&(D(c,!1),c.strm.avail_out===0))return u}return c.insert=0,j===g?(D(c,!0),c.strm.avail_out===0?I:O):(c.strstart>c.block_start&&(D(c,!1),c.strm.avail_out),u)}),new ot(4,4,8,4,pt),new ot(4,5,16,8,pt),new ot(4,6,32,32,pt),new ot(4,4,16,16,at),new ot(8,16,32,32,at),new ot(8,16,128,128,at),new ot(8,32,128,256,at),new ot(32,128,258,1024,at),new ot(32,258,258,4096,at)],i.deflateInit=function(c,j){return q(c,j,k,15,8,0)},i.deflateInit2=q,i.deflateReset=_t,i.deflateResetKeep=ut,i.deflateSetHeader=function(c,j){return c&&c.state?c.state.wrap!==2?b:(c.state.gzhead=j,h):b},i.deflate=function(c,j){var U,E,v,M;if(!c||!c.state||5<j||j<0)return c?Y(c,b):b;if(E=c.state,!c.output||!c.input&&c.avail_in!==0||E.status===666&&j!==g)return Y(c,c.avail_out===0?-5:b);if(E.strm=c,U=E.last_flush,E.last_flush=j,E.status===x)if(E.wrap===2)c.adler=0,Q(E,31),Q(E,139),Q(E,8),E.gzhead?(Q(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),Q(E,255&E.gzhead.time),Q(E,E.gzhead.time>>8&255),Q(E,E.gzhead.time>>16&255),Q(E,E.gzhead.time>>24&255),Q(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),Q(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(Q(E,255&E.gzhead.extra.length),Q(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(c.adler=f(c.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(Q(E,0),Q(E,0),Q(E,0),Q(E,0),Q(E,0),Q(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),Q(E,3),E.status=F);else{var X=k+(E.w_bits-8<<4)<<8;X|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(X|=32),X+=31-X%31,E.status=F,J(E,X),E.strstart!==0&&(J(E,c.adler>>>16),J(E,65535&c.adler)),c.adler=1}if(E.status===69)if(E.gzhead.extra){for(v=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>v&&(c.adler=f(c.adler,E.pending_buf,E.pending-v,v)),R(c),v=E.pending,E.pending!==E.pending_buf_size));)Q(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>v&&(c.adler=f(c.adler,E.pending_buf,E.pending-v,v)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){v=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>v&&(c.adler=f(c.adler,E.pending_buf,E.pending-v,v)),R(c),v=E.pending,E.pending===E.pending_buf_size)){M=1;break}M=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,Q(E,M)}while(M!==0);E.gzhead.hcrc&&E.pending>v&&(c.adler=f(c.adler,E.pending_buf,E.pending-v,v)),M===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){v=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>v&&(c.adler=f(c.adler,E.pending_buf,E.pending-v,v)),R(c),v=E.pending,E.pending===E.pending_buf_size)){M=1;break}M=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,Q(E,M)}while(M!==0);E.gzhead.hcrc&&E.pending>v&&(c.adler=f(c.adler,E.pending_buf,E.pending-v,v)),M===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&R(c),E.pending+2<=E.pending_buf_size&&(Q(E,255&c.adler),Q(E,c.adler>>8&255),c.adler=0,E.status=F)):E.status=F),E.pending!==0){if(R(c),c.avail_out===0)return E.last_flush=-1,h}else if(c.avail_in===0&&B(j)<=B(U)&&j!==g)return Y(c,-5);if(E.status===666&&c.avail_in!==0)return Y(c,-5);if(c.avail_in!==0||E.lookahead!==0||j!==p&&E.status!==666){var G=E.strategy===2?function(L,nt){for(var H;;){if(L.lookahead===0&&(ft(L),L.lookahead===0)){if(nt===p)return u;break}if(L.match_length=0,H=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,H&&(D(L,!1),L.strm.avail_out===0))return u}return L.insert=0,nt===g?(D(L,!0),L.strm.avail_out===0?I:O):L.last_lit&&(D(L,!1),L.strm.avail_out===0)?u:P}(E,j):E.strategy===3?function(L,nt){for(var H,V,tt,it,rt=L.window;;){if(L.lookahead<=N){if(ft(L),L.lookahead<=N&&nt===p)return u;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=y&&0<L.strstart&&(V=rt[tt=L.strstart-1])===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]){it=L.strstart+N;do;while(V===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]&&V===rt[++tt]&&tt<it);L.match_length=N-(it-tt),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=y?(H=o._tr_tally(L,1,L.match_length-y),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(H=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),H&&(D(L,!1),L.strm.avail_out===0))return u}return L.insert=0,nt===g?(D(L,!0),L.strm.avail_out===0?I:O):L.last_lit&&(D(L,!1),L.strm.avail_out===0)?u:P}(E,j):s[E.level].func(E,j);if(G!==I&&G!==O||(E.status=666),G===u||G===I)return c.avail_out===0&&(E.last_flush=-1),h;if(G===P&&(j===1?o._tr_align(E):j!==5&&(o._tr_stored_block(E,0,0,!1),j===3&&(K(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),R(c),c.avail_out===0))return E.last_flush=-1,h}return j!==g?h:E.wrap<=0?1:(E.wrap===2?(Q(E,255&c.adler),Q(E,c.adler>>8&255),Q(E,c.adler>>16&255),Q(E,c.adler>>24&255),Q(E,255&c.total_in),Q(E,c.total_in>>8&255),Q(E,c.total_in>>16&255),Q(E,c.total_in>>24&255)):(J(E,c.adler>>>16),J(E,65535&c.adler)),R(c),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?h:1)},i.deflateEnd=function(c){var j;return c&&c.state?(j=c.state.status)!==x&&j!==69&&j!==73&&j!==91&&j!==103&&j!==F&&j!==666?Y(c,b):(c.state=null,j===F?Y(c,-3):h):b},i.deflateSetDictionary=function(c,j){var U,E,v,M,X,G,L,nt,H=j.length;if(!c||!c.state||(M=(U=c.state).wrap)===2||M===1&&U.status!==x||U.lookahead)return b;for(M===1&&(c.adler=l(c.adler,j,H,0)),U.wrap=0,H>=U.w_size&&(M===0&&(K(U.head),U.strstart=0,U.block_start=0,U.insert=0),nt=new a.Buf8(U.w_size),a.arraySet(nt,j,H-U.w_size,U.w_size,0),j=nt,H=U.w_size),X=c.avail_in,G=c.next_in,L=c.input,c.avail_in=H,c.next_in=0,c.input=j,ft(U);U.lookahead>=y;){for(E=U.strstart,v=U.lookahead-(y-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[E+y-1])&U.hash_mask,U.prev[E&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=E,E++,--v;);U.strstart=E,U.lookahead=y-1,ft(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=y-1,U.match_available=0,c.next_in=G,c.input=L,c.avail_in=X,U.wrap=M,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,r,i){r.exports=function(s,a){var o,l,f,d,p,g,h,b,m,w,_,k,C,A,T,Z,W,S,y,N,z,x,F,u,P;o=s.state,l=s.next_in,u=s.input,f=l+(s.avail_in-5),d=s.next_out,P=s.output,p=d-(a-s.avail_out),g=d+(s.avail_out-257),h=o.dmax,b=o.wsize,m=o.whave,w=o.wnext,_=o.window,k=o.hold,C=o.bits,A=o.lencode,T=o.distcode,Z=(1<<o.lenbits)-1,W=(1<<o.distbits)-1;t:do{C<15&&(k+=u[l++]<<C,C+=8,k+=u[l++]<<C,C+=8),S=A[k&Z];e:for(;;){if(k>>>=y=S>>>24,C-=y,(y=S>>>16&255)===0)P[d++]=65535&S;else{if(!(16&y)){if((64&y)==0){S=A[(65535&S)+(k&(1<<y)-1)];continue e}if(32&y){o.mode=12;break t}s.msg="invalid literal/length code",o.mode=30;break t}N=65535&S,(y&=15)&&(C<y&&(k+=u[l++]<<C,C+=8),N+=k&(1<<y)-1,k>>>=y,C-=y),C<15&&(k+=u[l++]<<C,C+=8,k+=u[l++]<<C,C+=8),S=T[k&W];n:for(;;){if(k>>>=y=S>>>24,C-=y,!(16&(y=S>>>16&255))){if((64&y)==0){S=T[(65535&S)+(k&(1<<y)-1)];continue n}s.msg="invalid distance code",o.mode=30;break t}if(z=65535&S,C<(y&=15)&&(k+=u[l++]<<C,(C+=8)<y&&(k+=u[l++]<<C,C+=8)),h<(z+=k&(1<<y)-1)){s.msg="invalid distance too far back",o.mode=30;break t}if(k>>>=y,C-=y,(y=d-p)<z){if(m<(y=z-y)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break t}if(F=_,(x=0)===w){if(x+=b-y,y<N){for(N-=y;P[d++]=_[x++],--y;);x=d-z,F=P}}else if(w<y){if(x+=b+w-y,(y-=w)<N){for(N-=y;P[d++]=_[x++],--y;);if(x=0,w<N){for(N-=y=w;P[d++]=_[x++],--y;);x=d-z,F=P}}}else if(x+=w-y,y<N){for(N-=y;P[d++]=_[x++],--y;);x=d-z,F=P}for(;2<N;)P[d++]=F[x++],P[d++]=F[x++],P[d++]=F[x++],N-=3;N&&(P[d++]=F[x++],1<N&&(P[d++]=F[x++]))}else{for(x=d-z;P[d++]=P[x++],P[d++]=P[x++],P[d++]=P[x++],2<(N-=3););N&&(P[d++]=P[x++],1<N&&(P[d++]=P[x++]))}break}}break}}while(l<f&&d<g);l-=N=C>>3,k&=(1<<(C-=N<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<f?f-l+5:5-(l-f),s.avail_out=d<g?g-d+257:257-(d-g),o.hold=k,o.bits=C}},{}],49:[function(e,r,i){var s=e("../utils/common"),a=e("./adler32"),o=e("./crc32"),l=e("./inffast"),f=e("./inftrees"),d=1,p=2,g=0,h=-2,b=1,m=852,w=592;function _(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(x){var F;return x&&x.state?(F=x.state,x.total_in=x.total_out=F.total=0,x.msg="",F.wrap&&(x.adler=1&F.wrap),F.mode=b,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new s.Buf32(m),F.distcode=F.distdyn=new s.Buf32(w),F.sane=1,F.back=-1,g):h}function A(x){var F;return x&&x.state?((F=x.state).wsize=0,F.whave=0,F.wnext=0,C(x)):h}function T(x,F){var u,P;return x&&x.state?(P=x.state,F<0?(u=0,F=-F):(u=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?h:(P.window!==null&&P.wbits!==F&&(P.window=null),P.wrap=u,P.wbits=F,A(x))):h}function Z(x,F){var u,P;return x?(P=new k,(x.state=P).window=null,(u=T(x,F))!==g&&(x.state=null),u):h}var W,S,y=!0;function N(x){if(y){var F;for(W=new s.Buf32(512),S=new s.Buf32(32),F=0;F<144;)x.lens[F++]=8;for(;F<256;)x.lens[F++]=9;for(;F<280;)x.lens[F++]=7;for(;F<288;)x.lens[F++]=8;for(f(d,x.lens,0,288,W,0,x.work,{bits:9}),F=0;F<32;)x.lens[F++]=5;f(p,x.lens,0,32,S,0,x.work,{bits:5}),y=!1}x.lencode=W,x.lenbits=9,x.distcode=S,x.distbits=5}function z(x,F,u,P){var I,O=x.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new s.Buf8(O.wsize)),P>=O.wsize?(s.arraySet(O.window,F,u-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(P<(I=O.wsize-O.wnext)&&(I=P),s.arraySet(O.window,F,u-P,I,O.wnext),(P-=I)?(s.arraySet(O.window,F,u-P,P,0),O.wnext=P,O.whave=O.wsize):(O.wnext+=I,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=I))),0}i.inflateReset=A,i.inflateReset2=T,i.inflateResetKeep=C,i.inflateInit=function(x){return Z(x,15)},i.inflateInit2=Z,i.inflate=function(x,F){var u,P,I,O,Y,B,K,R,D,Q,J,$,ft,pt,at,ot,mt,ut,_t,q,c,j,U,E,v=0,M=new s.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return h;(u=x.state).mode===12&&(u.mode=13),Y=x.next_out,I=x.output,K=x.avail_out,O=x.next_in,P=x.input,B=x.avail_in,R=u.hold,D=u.bits,Q=B,J=K,j=g;t:for(;;)switch(u.mode){case b:if(u.wrap===0){u.mode=13;break}for(;D<16;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(2&u.wrap&&R===35615){M[u.check=0]=255&R,M[1]=R>>>8&255,u.check=o(u.check,M,2,0),D=R=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&R)<<8)+(R>>8))%31){x.msg="incorrect header check",u.mode=30;break}if((15&R)!=8){x.msg="unknown compression method",u.mode=30;break}if(D-=4,c=8+(15&(R>>>=4)),u.wbits===0)u.wbits=c;else if(c>u.wbits){x.msg="invalid window size",u.mode=30;break}u.dmax=1<<c,x.adler=u.check=1,u.mode=512&R?10:12,D=R=0;break;case 2:for(;D<16;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(u.flags=R,(255&u.flags)!=8){x.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){x.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=R>>8&1),512&u.flags&&(M[0]=255&R,M[1]=R>>>8&255,u.check=o(u.check,M,2,0)),D=R=0,u.mode=3;case 3:for(;D<32;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}u.head&&(u.head.time=R),512&u.flags&&(M[0]=255&R,M[1]=R>>>8&255,M[2]=R>>>16&255,M[3]=R>>>24&255,u.check=o(u.check,M,4,0)),D=R=0,u.mode=4;case 4:for(;D<16;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}u.head&&(u.head.xflags=255&R,u.head.os=R>>8),512&u.flags&&(M[0]=255&R,M[1]=R>>>8&255,u.check=o(u.check,M,2,0)),D=R=0,u.mode=5;case 5:if(1024&u.flags){for(;D<16;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}u.length=R,u.head&&(u.head.extra_len=R),512&u.flags&&(M[0]=255&R,M[1]=R>>>8&255,u.check=o(u.check,M,2,0)),D=R=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(B<($=u.length)&&($=B),$&&(u.head&&(c=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),s.arraySet(u.head.extra,P,O,$,c)),512&u.flags&&(u.check=o(u.check,P,$,O)),B-=$,O+=$,u.length-=$),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(B===0)break t;for($=0;c=P[O+$++],u.head&&c&&u.length<65536&&(u.head.name+=String.fromCharCode(c)),c&&$<B;);if(512&u.flags&&(u.check=o(u.check,P,$,O)),B-=$,O+=$,c)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(B===0)break t;for($=0;c=P[O+$++],u.head&&c&&u.length<65536&&(u.head.comment+=String.fromCharCode(c)),c&&$<B;);if(512&u.flags&&(u.check=o(u.check,P,$,O)),B-=$,O+=$,c)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;D<16;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(R!==(65535&u.check)){x.msg="header crc mismatch",u.mode=30;break}D=R=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),x.adler=u.check=0,u.mode=12;break;case 10:for(;D<32;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}x.adler=u.check=_(R),D=R=0,u.mode=11;case 11:if(u.havedict===0)return x.next_out=Y,x.avail_out=K,x.next_in=O,x.avail_in=B,u.hold=R,u.bits=D,2;x.adler=u.check=1,u.mode=12;case 12:if(F===5||F===6)break t;case 13:if(u.last){R>>>=7&D,D-=7&D,u.mode=27;break}for(;D<3;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}switch(u.last=1&R,D-=1,3&(R>>>=1)){case 0:u.mode=14;break;case 1:if(N(u),u.mode=20,F!==6)break;R>>>=2,D-=2;break t;case 2:u.mode=17;break;case 3:x.msg="invalid block type",u.mode=30}R>>>=2,D-=2;break;case 14:for(R>>>=7&D,D-=7&D;D<32;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if((65535&R)!=(R>>>16^65535)){x.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&R,D=R=0,u.mode=15,F===6)break t;case 15:u.mode=16;case 16:if($=u.length){if(B<$&&($=B),K<$&&($=K),$===0)break t;s.arraySet(I,P,O,$,Y),B-=$,O+=$,K-=$,Y+=$,u.length-=$;break}u.mode=12;break;case 17:for(;D<14;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(u.nlen=257+(31&R),R>>>=5,D-=5,u.ndist=1+(31&R),R>>>=5,D-=5,u.ncode=4+(15&R),R>>>=4,D-=4,286<u.nlen||30<u.ndist){x.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;D<3;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}u.lens[X[u.have++]]=7&R,R>>>=3,D-=3}for(;u.have<19;)u.lens[X[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,U={bits:u.lenbits},j=f(0,u.lens,0,19,u.lencode,0,u.work,U),u.lenbits=U.bits,j){x.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ot=(v=u.lencode[R&(1<<u.lenbits)-1])>>>16&255,mt=65535&v,!((at=v>>>24)<=D);){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(mt<16)R>>>=at,D-=at,u.lens[u.have++]=mt;else{if(mt===16){for(E=at+2;D<E;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(R>>>=at,D-=at,u.have===0){x.msg="invalid bit length repeat",u.mode=30;break}c=u.lens[u.have-1],$=3+(3&R),R>>>=2,D-=2}else if(mt===17){for(E=at+3;D<E;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}D-=at,c=0,$=3+(7&(R>>>=at)),R>>>=3,D-=3}else{for(E=at+7;D<E;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}D-=at,c=0,$=11+(127&(R>>>=at)),R>>>=7,D-=7}if(u.have+$>u.nlen+u.ndist){x.msg="invalid bit length repeat",u.mode=30;break}for(;$--;)u.lens[u.have++]=c}}if(u.mode===30)break;if(u.lens[256]===0){x.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,U={bits:u.lenbits},j=f(d,u.lens,0,u.nlen,u.lencode,0,u.work,U),u.lenbits=U.bits,j){x.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,U={bits:u.distbits},j=f(p,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,U),u.distbits=U.bits,j){x.msg="invalid distances set",u.mode=30;break}if(u.mode=20,F===6)break t;case 20:u.mode=21;case 21:if(6<=B&&258<=K){x.next_out=Y,x.avail_out=K,x.next_in=O,x.avail_in=B,u.hold=R,u.bits=D,l(x,J),Y=x.next_out,I=x.output,K=x.avail_out,O=x.next_in,P=x.input,B=x.avail_in,R=u.hold,D=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ot=(v=u.lencode[R&(1<<u.lenbits)-1])>>>16&255,mt=65535&v,!((at=v>>>24)<=D);){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(ot&&(240&ot)==0){for(ut=at,_t=ot,q=mt;ot=(v=u.lencode[q+((R&(1<<ut+_t)-1)>>ut)])>>>16&255,mt=65535&v,!(ut+(at=v>>>24)<=D);){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}R>>>=ut,D-=ut,u.back+=ut}if(R>>>=at,D-=at,u.back+=at,u.length=mt,ot===0){u.mode=26;break}if(32&ot){u.back=-1,u.mode=12;break}if(64&ot){x.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ot,u.mode=22;case 22:if(u.extra){for(E=u.extra;D<E;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}u.length+=R&(1<<u.extra)-1,R>>>=u.extra,D-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ot=(v=u.distcode[R&(1<<u.distbits)-1])>>>16&255,mt=65535&v,!((at=v>>>24)<=D);){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if((240&ot)==0){for(ut=at,_t=ot,q=mt;ot=(v=u.distcode[q+((R&(1<<ut+_t)-1)>>ut)])>>>16&255,mt=65535&v,!(ut+(at=v>>>24)<=D);){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}R>>>=ut,D-=ut,u.back+=ut}if(R>>>=at,D-=at,u.back+=at,64&ot){x.msg="invalid distance code",u.mode=30;break}u.offset=mt,u.extra=15&ot,u.mode=24;case 24:if(u.extra){for(E=u.extra;D<E;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}u.offset+=R&(1<<u.extra)-1,R>>>=u.extra,D-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){x.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(K===0)break t;if($=J-K,u.offset>$){if(($=u.offset-$)>u.whave&&u.sane){x.msg="invalid distance too far back",u.mode=30;break}ft=$>u.wnext?($-=u.wnext,u.wsize-$):u.wnext-$,$>u.length&&($=u.length),pt=u.window}else pt=I,ft=Y-u.offset,$=u.length;for(K<$&&($=K),K-=$,u.length-=$;I[Y++]=pt[ft++],--$;);u.length===0&&(u.mode=21);break;case 26:if(K===0)break t;I[Y++]=u.length,K--,u.mode=21;break;case 27:if(u.wrap){for(;D<32;){if(B===0)break t;B--,R|=P[O++]<<D,D+=8}if(J-=K,x.total_out+=J,u.total+=J,J&&(x.adler=u.check=u.flags?o(u.check,I,J,Y-J):a(u.check,I,J,Y-J)),J=K,(u.flags?R:_(R))!==u.check){x.msg="incorrect data check",u.mode=30;break}D=R=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;D<32;){if(B===0)break t;B--,R+=P[O++]<<D,D+=8}if(R!==(4294967295&u.total)){x.msg="incorrect length check",u.mode=30;break}D=R=0}u.mode=29;case 29:j=1;break t;case 30:j=-3;break t;case 31:return-4;case 32:default:return h}return x.next_out=Y,x.avail_out=K,x.next_in=O,x.avail_in=B,u.hold=R,u.bits=D,(u.wsize||J!==x.avail_out&&u.mode<30&&(u.mode<27||F!==4))&&z(x,x.output,x.next_out,J-x.avail_out)?(u.mode=31,-4):(Q-=x.avail_in,J-=x.avail_out,x.total_in+=Q,x.total_out+=J,u.total+=J,u.wrap&&J&&(x.adler=u.check=u.flags?o(u.check,I,J,x.next_out-J):a(u.check,I,J,x.next_out-J)),x.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(Q==0&&J===0||F===4)&&j===g&&(j=-5),j)},i.inflateEnd=function(x){if(!x||!x.state)return h;var F=x.state;return F.window&&(F.window=null),x.state=null,g},i.inflateGetHeader=function(x,F){var u;return x&&x.state?(2&(u=x.state).wrap)==0?h:((u.head=F).done=!1,g):h},i.inflateSetDictionary=function(x,F){var u,P=F.length;return x&&x.state?(u=x.state).wrap!==0&&u.mode!==11?h:u.mode===11&&a(1,F,P,0)!==u.check?-3:z(x,F,P,P)?(u.mode=31,-4):(u.havedict=1,g):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,i){var s=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,p,g,h,b,m,w,_){var k,C,A,T,Z,W,S,y,N,z=_.bits,x=0,F=0,u=0,P=0,I=0,O=0,Y=0,B=0,K=0,R=0,D=null,Q=0,J=new s.Buf16(16),$=new s.Buf16(16),ft=null,pt=0;for(x=0;x<=15;x++)J[x]=0;for(F=0;F<h;F++)J[p[g+F]]++;for(I=z,P=15;1<=P&&J[P]===0;P--);if(P<I&&(I=P),P===0)return b[m++]=20971520,b[m++]=20971520,_.bits=1,0;for(u=1;u<P&&J[u]===0;u++);for(I<u&&(I=u),x=B=1;x<=15;x++)if(B<<=1,(B-=J[x])<0)return-1;if(0<B&&(d===0||P!==1))return-1;for($[1]=0,x=1;x<15;x++)$[x+1]=$[x]+J[x];for(F=0;F<h;F++)p[g+F]!==0&&(w[$[p[g+F]]++]=F);if(W=d===0?(D=ft=w,19):d===1?(D=a,Q-=257,ft=o,pt-=257,256):(D=l,ft=f,-1),x=u,Z=m,Y=F=R=0,A=-1,T=(K=1<<(O=I))-1,d===1&&852<K||d===2&&592<K)return 1;for(;;){for(S=x-Y,N=w[F]<W?(y=0,w[F]):w[F]>W?(y=ft[pt+w[F]],D[Q+w[F]]):(y=96,0),k=1<<x-Y,u=C=1<<O;b[Z+(R>>Y)+(C-=k)]=S<<24|y<<16|N|0,C!==0;);for(k=1<<x-1;R&k;)k>>=1;if(k!==0?(R&=k-1,R+=k):R=0,F++,--J[x]==0){if(x===P)break;x=p[g+w[F]]}if(I<x&&(R&T)!==A){for(Y===0&&(Y=I),Z+=u,B=1<<(O=x-Y);O+Y<P&&!((B-=J[O+Y])<=0);)O++,B<<=1;if(K+=1<<O,d===1&&852<K||d===2&&592<K)return 1;b[A=R&T]=I<<24|O<<16|Z-m|0}}return R!==0&&(b[Z+R]=x-Y<<24|64<<16|0),_.bits=I,0}},{"../utils/common":41}],51:[function(e,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,i){var s=e("../utils/common"),a=0,o=1;function l(v){for(var M=v.length;0<=--M;)v[M]=0}var f=0,d=29,p=256,g=p+1+d,h=30,b=19,m=2*g+1,w=15,_=16,k=7,C=256,A=16,T=17,Z=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(g+2));l(z);var x=new Array(2*h);l(x);var F=new Array(512);l(F);var u=new Array(256);l(u);var P=new Array(d);l(P);var I,O,Y,B=new Array(h);function K(v,M,X,G,L){this.static_tree=v,this.extra_bits=M,this.extra_base=X,this.elems=G,this.max_length=L,this.has_stree=v&&v.length}function R(v,M){this.dyn_tree=v,this.max_code=0,this.stat_desc=M}function D(v){return v<256?F[v]:F[256+(v>>>7)]}function Q(v,M){v.pending_buf[v.pending++]=255&M,v.pending_buf[v.pending++]=M>>>8&255}function J(v,M,X){v.bi_valid>_-X?(v.bi_buf|=M<<v.bi_valid&65535,Q(v,v.bi_buf),v.bi_buf=M>>_-v.bi_valid,v.bi_valid+=X-_):(v.bi_buf|=M<<v.bi_valid&65535,v.bi_valid+=X)}function $(v,M,X){J(v,X[2*M],X[2*M+1])}function ft(v,M){for(var X=0;X|=1&v,v>>>=1,X<<=1,0<--M;);return X>>>1}function pt(v,M,X){var G,L,nt=new Array(w+1),H=0;for(G=1;G<=w;G++)nt[G]=H=H+X[G-1]<<1;for(L=0;L<=M;L++){var V=v[2*L+1];V!==0&&(v[2*L]=ft(nt[V]++,V))}}function at(v){var M;for(M=0;M<g;M++)v.dyn_ltree[2*M]=0;for(M=0;M<h;M++)v.dyn_dtree[2*M]=0;for(M=0;M<b;M++)v.bl_tree[2*M]=0;v.dyn_ltree[2*C]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ot(v){8<v.bi_valid?Q(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function mt(v,M,X,G){var L=2*M,nt=2*X;return v[L]<v[nt]||v[L]===v[nt]&&G[M]<=G[X]}function ut(v,M,X){for(var G=v.heap[X],L=X<<1;L<=v.heap_len&&(L<v.heap_len&&mt(M,v.heap[L+1],v.heap[L],v.depth)&&L++,!mt(M,G,v.heap[L],v.depth));)v.heap[X]=v.heap[L],X=L,L<<=1;v.heap[X]=G}function _t(v,M,X){var G,L,nt,H,V=0;if(v.last_lit!==0)for(;G=v.pending_buf[v.d_buf+2*V]<<8|v.pending_buf[v.d_buf+2*V+1],L=v.pending_buf[v.l_buf+V],V++,G===0?$(v,L,M):($(v,(nt=u[L])+p+1,M),(H=W[nt])!==0&&J(v,L-=P[nt],H),$(v,nt=D(--G),X),(H=S[nt])!==0&&J(v,G-=B[nt],H)),V<v.last_lit;);$(v,C,M)}function q(v,M){var X,G,L,nt=M.dyn_tree,H=M.stat_desc.static_tree,V=M.stat_desc.has_stree,tt=M.stat_desc.elems,it=-1;for(v.heap_len=0,v.heap_max=m,X=0;X<tt;X++)nt[2*X]!==0?(v.heap[++v.heap_len]=it=X,v.depth[X]=0):nt[2*X+1]=0;for(;v.heap_len<2;)nt[2*(L=v.heap[++v.heap_len]=it<2?++it:0)]=1,v.depth[L]=0,v.opt_len--,V&&(v.static_len-=H[2*L+1]);for(M.max_code=it,X=v.heap_len>>1;1<=X;X--)ut(v,nt,X);for(L=tt;X=v.heap[1],v.heap[1]=v.heap[v.heap_len--],ut(v,nt,1),G=v.heap[1],v.heap[--v.heap_max]=X,v.heap[--v.heap_max]=G,nt[2*L]=nt[2*X]+nt[2*G],v.depth[L]=(v.depth[X]>=v.depth[G]?v.depth[X]:v.depth[G])+1,nt[2*X+1]=nt[2*G+1]=L,v.heap[1]=L++,ut(v,nt,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(rt,dt){var kt,ht,ct,wt,Et,xt,Ct=dt.dyn_tree,Yt=dt.max_code,ie=dt.stat_desc.static_tree,de=dt.stat_desc.has_stree,Te=dt.stat_desc.extra_bits,Kt=dt.stat_desc.extra_base,Tt=dt.stat_desc.max_length,Gt=0;for(wt=0;wt<=w;wt++)rt.bl_count[wt]=0;for(Ct[2*rt.heap[rt.heap_max]+1]=0,kt=rt.heap_max+1;kt<m;kt++)Tt<(wt=Ct[2*Ct[2*(ht=rt.heap[kt])+1]+1]+1)&&(wt=Tt,Gt++),Ct[2*ht+1]=wt,Yt<ht||(rt.bl_count[wt]++,Et=0,Kt<=ht&&(Et=Te[ht-Kt]),xt=Ct[2*ht],rt.opt_len+=xt*(wt+Et),de&&(rt.static_len+=xt*(ie[2*ht+1]+Et)));if(Gt!==0){do{for(wt=Tt-1;rt.bl_count[wt]===0;)wt--;rt.bl_count[wt]--,rt.bl_count[wt+1]+=2,rt.bl_count[Tt]--,Gt-=2}while(0<Gt);for(wt=Tt;wt!==0;wt--)for(ht=rt.bl_count[wt];ht!==0;)Yt<(ct=rt.heap[--kt])||(Ct[2*ct+1]!==wt&&(rt.opt_len+=(wt-Ct[2*ct+1])*Ct[2*ct],Ct[2*ct+1]=wt),ht--)}}(v,M),pt(nt,it,v.bl_count)}function c(v,M,X){var G,L,nt=-1,H=M[1],V=0,tt=7,it=4;for(H===0&&(tt=138,it=3),M[2*(X+1)+1]=65535,G=0;G<=X;G++)L=H,H=M[2*(G+1)+1],++V<tt&&L===H||(V<it?v.bl_tree[2*L]+=V:L!==0?(L!==nt&&v.bl_tree[2*L]++,v.bl_tree[2*A]++):V<=10?v.bl_tree[2*T]++:v.bl_tree[2*Z]++,nt=L,it=(V=0)===H?(tt=138,3):L===H?(tt=6,3):(tt=7,4))}function j(v,M,X){var G,L,nt=-1,H=M[1],V=0,tt=7,it=4;for(H===0&&(tt=138,it=3),G=0;G<=X;G++)if(L=H,H=M[2*(G+1)+1],!(++V<tt&&L===H)){if(V<it)for(;$(v,L,v.bl_tree),--V!=0;);else L!==0?(L!==nt&&($(v,L,v.bl_tree),V--),$(v,A,v.bl_tree),J(v,V-3,2)):V<=10?($(v,T,v.bl_tree),J(v,V-3,3)):($(v,Z,v.bl_tree),J(v,V-11,7));nt=L,it=(V=0)===H?(tt=138,3):L===H?(tt=6,3):(tt=7,4)}}l(B);var U=!1;function E(v,M,X,G){J(v,(f<<1)+(G?1:0),3),function(L,nt,H,V){ot(L),V&&(Q(L,H),Q(L,~H)),s.arraySet(L.pending_buf,L.window,nt,H,L.pending),L.pending+=H}(v,M,X,!0)}i._tr_init=function(v){U||(function(){var M,X,G,L,nt,H=new Array(w+1);for(L=G=0;L<d-1;L++)for(P[L]=G,M=0;M<1<<W[L];M++)u[G++]=L;for(u[G-1]=L,L=nt=0;L<16;L++)for(B[L]=nt,M=0;M<1<<S[L];M++)F[nt++]=L;for(nt>>=7;L<h;L++)for(B[L]=nt<<7,M=0;M<1<<S[L]-7;M++)F[256+nt++]=L;for(X=0;X<=w;X++)H[X]=0;for(M=0;M<=143;)z[2*M+1]=8,M++,H[8]++;for(;M<=255;)z[2*M+1]=9,M++,H[9]++;for(;M<=279;)z[2*M+1]=7,M++,H[7]++;for(;M<=287;)z[2*M+1]=8,M++,H[8]++;for(pt(z,g+1,H),M=0;M<h;M++)x[2*M+1]=5,x[2*M]=ft(M,5);I=new K(z,W,p+1,g,w),O=new K(x,S,0,h,w),Y=new K(new Array(0),y,0,b,k)}(),U=!0),v.l_desc=new R(v.dyn_ltree,I),v.d_desc=new R(v.dyn_dtree,O),v.bl_desc=new R(v.bl_tree,Y),v.bi_buf=0,v.bi_valid=0,at(v)},i._tr_stored_block=E,i._tr_flush_block=function(v,M,X,G){var L,nt,H=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(V){var tt,it=4093624447;for(tt=0;tt<=31;tt++,it>>>=1)if(1&it&&V.dyn_ltree[2*tt]!==0)return a;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return o;for(tt=32;tt<p;tt++)if(V.dyn_ltree[2*tt]!==0)return o;return a}(v)),q(v,v.l_desc),q(v,v.d_desc),H=function(V){var tt;for(c(V,V.dyn_ltree,V.l_desc.max_code),c(V,V.dyn_dtree,V.d_desc.max_code),q(V,V.bl_desc),tt=b-1;3<=tt&&V.bl_tree[2*N[tt]+1]===0;tt--);return V.opt_len+=3*(tt+1)+5+5+4,tt}(v),L=v.opt_len+3+7>>>3,(nt=v.static_len+3+7>>>3)<=L&&(L=nt)):L=nt=X+5,X+4<=L&&M!==-1?E(v,M,X,G):v.strategy===4||nt===L?(J(v,2+(G?1:0),3),_t(v,z,x)):(J(v,4+(G?1:0),3),function(V,tt,it,rt){var dt;for(J(V,tt-257,5),J(V,it-1,5),J(V,rt-4,4),dt=0;dt<rt;dt++)J(V,V.bl_tree[2*N[dt]+1],3);j(V,V.dyn_ltree,tt-1),j(V,V.dyn_dtree,it-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,H+1),_t(v,v.dyn_ltree,v.dyn_dtree)),at(v),G&&ot(v)},i._tr_tally=function(v,M,X){return v.pending_buf[v.d_buf+2*v.last_lit]=M>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&M,v.pending_buf[v.l_buf+v.last_lit]=255&X,v.last_lit++,M===0?v.dyn_ltree[2*X]++:(v.matches++,M--,v.dyn_ltree[2*(u[X]+p+1)]++,v.dyn_dtree[2*D(M)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){J(v,2,3),$(v,C,z),function(M){M.bi_valid===16?(Q(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(e,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,f,d,p,g=1,h={},b=!1,m=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,l={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){k(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,T=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=T,A}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",C,!1):a.attachEvent("onmessage",C),function(A){a.postMessage(p+A,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(A){k(A.data)},function(A){d.port2.postMessage(A)}):m&&"onreadystatechange"in m.createElement("script")?(f=m.documentElement,function(A){var T=m.createElement("script");T.onreadystatechange=function(){k(A),T.onreadystatechange=null,f.removeChild(T),T=null},f.appendChild(T)}):function(A){setTimeout(k,0,A)},w.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var T=new Array(arguments.length-1),Z=0;Z<T.length;Z++)T[Z]=arguments[Z+1];var W={callback:A,args:T};return h[g]=W,l(g),g++},w.clearImmediate=_}function _(A){delete h[A]}function k(A){if(b)setTimeout(k,0,A);else{var T=h[A];if(T){b=!0;try{(function(Z){var W=Z.callback,S=Z.args;switch(S.length){case 0:W();break;case 1:W(S[0]);break;case 2:W(S[0],S[1]);break;case 3:W(S[0],S[1],S[2]);break;default:W.apply(o,S)}})(T)}finally{_(A),b=!1}}}}function C(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(p)===0&&k(+A.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ve<"u"?ve:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xr);const $n=Xr.exports;function je(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Bi(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Yr(t){let n,e,r;t.length!==2?(n=je,e=(o,l)=>je(t(o),l),r=(o,l)=>t(o)-l):(n=t===je||t===Bi?t:Pi,e=t,r=t);function i(o,l,f=0,d=o.length){if(f<d){if(n(l,l)!==0)return d;do{const p=f+d>>>1;e(o[p],l)<0?f=p+1:d=p}while(f<d)}return f}function s(o,l,f=0,d=o.length){if(f<d){if(n(l,l)!==0)return d;do{const p=f+d>>>1;e(o[p],l)<=0?f=p+1:d=p}while(f<d)}return f}function a(o,l,f=0,d=o.length){const p=i(o,l,f,d-1);return p>f&&r(o[p-1],l)>-r(o[p],l)?p-1:p}return{left:i,center:a,right:s}}function Pi(){return 0}function Fi(t){return t===null?NaN:+t}const Li=Yr(je),Ui=Li.right;Yr(Fi).center;const Wi=Ui;class tr extends Map{constructor(n,e=Hi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(er(this,n))}has(n){return super.has(er(this,n))}set(n,e){return super.set(ji(this,n),e)}delete(n){return super.delete(Zi(this,n))}}function er({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function ji({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Zi({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Hi(t){return t!==null&&typeof t=="object"?t.valueOf():t}var xn=Math.sqrt(50),Sn=Math.sqrt(10),En=Math.sqrt(2);function Vi(t,n,e){var r,i=-1,s,a,o;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(s=t,t=n,n=s),(o=Kr(t,n,e))===0||!isFinite(o))return[];if(o>0){let l=Math.round(t/o),f=Math.round(n/o);for(l*o<t&&++l,f*o>n&&--f,a=new Array(s=f-l+1);++i<s;)a[i]=(l+i)*o}else{o=-o;let l=Math.round(t*o),f=Math.round(n*o);for(l/o<t&&++l,f/o>n&&--f,a=new Array(s=f-l+1);++i<s;)a[i]=(l+i)/o}return r&&a.reverse(),a}function Kr(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=xn?10:s>=Sn?5:s>=En?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=xn?10:s>=Sn?5:s>=En?2:1)}function qi(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=xn?i*=10:s>=Sn?i*=5:s>=En&&(i*=2),n<t?-i:i}function nr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function rr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Gr(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const ir=Symbol("implicit");function Fn(){var t=new tr,n=[],e=[],r=ir;function i(s){let a=t.get(s);if(a===void 0){if(r!==ir)return r;t.set(s,a=n.push(s)-1)}return e[a%e.length]}return i.domain=function(s){if(!arguments.length)return n.slice();n=[],t=new tr;for(const a of s)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(s){return arguments.length?(e=Array.from(s),i):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Fn(n,e).unknown(r)},Gr.apply(i,arguments),i}function Ln(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Qr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ze(){}var Ee=.7,Je=1/Ee,le="\\s*([+-]?\\d+)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xi=/^#([0-9a-f]{3,8})$/,Yi=new RegExp(`^rgb\\(${le},${le},${le}\\)$`),Ki=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),Gi=new RegExp(`^rgba\\(${le},${le},${le},${Ce}\\)$`),Qi=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${Ce}\\)$`),Ji=new RegExp(`^hsl\\(${Ce},${Ut},${Ut}\\)$`),$i=new RegExp(`^hsla\\(${Ce},${Ut},${Ut},${Ce}\\)$`),sr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ln(ze,ne,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ar,formatHex:ar,formatHex8:ts,formatHsl:es,formatRgb:or,toString:or});function ar(){return this.rgb().formatHex()}function ts(){return this.rgb().formatHex8()}function es(){return Jr(this).formatHsl()}function or(){return this.rgb().formatRgb()}function ne(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Xi.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?lr(n):e===3?new Rt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Me(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Me(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Yi.exec(t))?new Rt(n[1],n[2],n[3],1):(n=Ki.exec(t))?new Rt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Gi.exec(t))?Me(n[1],n[2],n[3],n[4]):(n=Qi.exec(t))?Me(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ji.exec(t))?cr(n[1],n[2]/100,n[3]/100,1):(n=$i.exec(t))?cr(n[1],n[2]/100,n[3]/100,n[4]):sr.hasOwnProperty(t)?lr(sr[t]):t==="transparent"?new Rt(NaN,NaN,NaN,0):null}function lr(t){return new Rt(t>>16&255,t>>8&255,t&255,1)}function Me(t,n,e,r){return r<=0&&(t=n=e=NaN),new Rt(t,n,e,r)}function ns(t){return t instanceof ze||(t=ne(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function Cn(t,n,e,r){return arguments.length===1?ns(t):new Rt(t,n,e,r==null?1:r)}function Rt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ln(Rt,Cn,Qr(ze,{brighter(t){return t=t==null?Je:Math.pow(Je,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ee:Math.pow(Ee,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rt(ee(this.r),ee(this.g),ee(this.b),$e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ur,formatHex:ur,formatHex8:rs,formatRgb:fr,toString:fr}));function ur(){return`#${te(this.r)}${te(this.g)}${te(this.b)}`}function rs(){return`#${te(this.r)}${te(this.g)}${te(this.b)}${te((isNaN(this.opacity)?1:this.opacity)*255)}`}function fr(){const t=$e(this.opacity);return`${t===1?"rgb(":"rgba("}${ee(this.r)}, ${ee(this.g)}, ${ee(this.b)}${t===1?")":`, ${t})`}`}function $e(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ee(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function te(t){return t=ee(t),(t<16?"0":"")+t.toString(16)}function cr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Pt(t,n,e,r)}function Jr(t){if(t instanceof Pt)return new Pt(t.h,t.s,t.l,t.opacity);if(t instanceof ze||(t=ne(t)),!t)return new Pt;if(t instanceof Pt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),s=Math.max(n,e,r),a=NaN,o=s-i,l=(s+i)/2;return o?(n===s?a=(e-r)/o+(e<r)*6:e===s?a=(r-n)/o+2:a=(n-e)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Pt(a,o,l,t.opacity)}function is(t,n,e,r){return arguments.length===1?Jr(t):new Pt(t,n,e,r==null?1:r)}function Pt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ln(Pt,is,Qr(ze,{brighter(t){return t=t==null?Je:Math.pow(Je,t),new Pt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ee:Math.pow(Ee,t),new Pt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Rt(_n(t>=240?t-240:t+120,i,r),_n(t,i,r),_n(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pt(hr(this.h),Ne(this.s),Ne(this.l),$e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$e(this.opacity);return`${t===1?"hsl(":"hsla("}${hr(this.h)}, ${Ne(this.s)*100}%, ${Ne(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hr(t){return t=(t||0)%360,t<0?t+360:t}function Ne(t){return Math.max(0,Math.min(1,t||0))}function _n(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Un=t=>()=>t;function ss(t,n){return function(e){return t+e*n}}function as(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function os(t){return(t=+t)==1?$r:function(n,e){return e-n?as(n,e,t):Un(isNaN(n)?e:n)}}function $r(t,n){var e=n-t;return e?ss(t,e):Un(isNaN(t)?n:t)}const tn=function t(n){var e=os(n);function r(i,s){var a=e((i=Cn(i)).r,(s=Cn(s)).r),o=e(i.g,s.g),l=e(i.b,s.b),f=$r(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=f(d),i+""}}return r.gamma=t,r}(1);function ls(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(s){for(i=0;i<e;++i)r[i]=t[i]*(1-s)+n[i]*s;return r}}function us(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fs(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),s=new Array(e),a;for(a=0;a<r;++a)i[a]=Wn(t[a],n[a]);for(;a<e;++a)s[a]=n[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function cs(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Bt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function hs(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Wn(t[i],n[i]):r[i]=n[i];return function(s){for(i in e)r[i]=e[i](s);return r}}var An=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(An.source,"g");function ds(t){return function(){return t}}function ps(t){return function(n){return t(n)+""}}function ti(t,n){var e=An.lastIndex=yn.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",n=n+"";(r=An.exec(t))&&(i=yn.exec(n));)(s=i.index)>e&&(s=n.slice(e,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Bt(r,i)})),e=yn.lastIndex;return e<n.length&&(s=n.slice(e),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?ps(l[0].x):ds(n):(n=l.length,function(f){for(var d=0,p;d<n;++d)o[(p=l[d]).i]=p.x(f);return o.join("")})}function Wn(t,n){var e=typeof n,r;return n==null||e==="boolean"?Un(n):(e==="number"?Bt:e==="string"?(r=ne(n))?(n=r,tn):ti:n instanceof ne?tn:n instanceof Date?cs:us(n)?ls:Array.isArray(n)?fs:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?hs:Bt)(t,n)}function ms(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var dr=180/Math.PI,zn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ei(t,n,e,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(o=Math.sqrt(e*e+r*r))&&(e/=o,r/=o,l/=o),t*r<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(n,t)*dr,skewX:Math.atan(l)*dr,scaleX:a,scaleY:o}}var Be;function gs(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?zn:ei(n.a,n.b,n.c,n.d,n.e,n.f)}function _s(t){return t==null||(Be||(Be=document.createElementNS("http://www.w3.org/2000/svg","g")),Be.setAttribute("transform",t),!(t=Be.transform.baseVal.consolidate()))?zn:(t=t.matrix,ei(t.a,t.b,t.c,t.d,t.e,t.f))}function ni(t,n,e,r){function i(f){return f.length?f.pop()+" ":""}function s(f,d,p,g,h,b){if(f!==p||d!==g){var m=h.push("translate(",null,n,null,e);b.push({i:m-4,x:Bt(f,p)},{i:m-2,x:Bt(d,g)})}else(p||g)&&h.push("translate("+p+n+g+e)}function a(f,d,p,g){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),g.push({i:p.push(i(p)+"rotate(",null,r)-2,x:Bt(f,d)})):d&&p.push(i(p)+"rotate("+d+r)}function o(f,d,p,g){f!==d?g.push({i:p.push(i(p)+"skewX(",null,r)-2,x:Bt(f,d)}):d&&p.push(i(p)+"skewX("+d+r)}function l(f,d,p,g,h,b){if(f!==p||d!==g){var m=h.push(i(h)+"scale(",null,",",null,")");b.push({i:m-4,x:Bt(f,p)},{i:m-2,x:Bt(d,g)})}else(p!==1||g!==1)&&h.push(i(h)+"scale("+p+","+g+")")}return function(f,d){var p=[],g=[];return f=t(f),d=t(d),s(f.translateX,f.translateY,d.translateX,d.translateY,p,g),a(f.rotate,d.rotate,p,g),o(f.skewX,d.skewX,p,g),l(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,g),f=d=null,function(h){for(var b=-1,m=g.length,w;++b<m;)p[(w=g[b]).i]=w.x(h);return p.join("")}}}var ys=ni(gs,"px, ","px)","deg)"),ws=ni(_s,", ",")",")"),vs=1e-12;function pr(t){return((t=Math.exp(t))+1/t)/2}function bs(t){return((t=Math.exp(t))-1/t)/2}function ks(t){return((t=Math.exp(2*t))-1)/(t+1)}const xs=function t(n,e,r){function i(s,a){var o=s[0],l=s[1],f=s[2],d=a[0],p=a[1],g=a[2],h=d-o,b=p-l,m=h*h+b*b,w,_;if(m<vs)_=Math.log(g/f)/n,w=function(W){return[o+W*h,l+W*b,f*Math.exp(n*W*_)]};else{var k=Math.sqrt(m),C=(g*g-f*f+r*m)/(2*f*e*k),A=(g*g-f*f-r*m)/(2*g*e*k),T=Math.log(Math.sqrt(C*C+1)-C),Z=Math.log(Math.sqrt(A*A+1)-A);_=(Z-T)/n,w=function(W){var S=W*_,y=pr(T),N=f/(e*k)*(y*ks(n*S+T)-bs(T));return[o+N*h,l+N*b,f*y/pr(n*S+T)]}}return w.duration=_*1e3*n/Math.SQRT2,w}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return t(a,o,l)},i}(Math.SQRT2,2,4);function Ss(t){return function(){return t}}function Es(t){return+t}var mr=[0,1];function ae(t){return t}function Dn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Ss(isNaN(n)?NaN:.5)}function Cs(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function As(t,n,e){var r=t[0],i=t[1],s=n[0],a=n[1];return i<r?(r=Dn(i,r),s=e(a,s)):(r=Dn(r,i),s=e(s,a)),function(o){return s(r(o))}}function zs(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Dn(t[a],t[a+1]),s[a]=e(n[a],n[a+1]);return function(o){var l=Wi(t,o,1,r)-1;return s[l](i[l](o))}}function Ds(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ts(){var t=mr,n=mr,e=Wn,r,i,s,a=ae,o,l,f;function d(){var g=Math.min(t.length,n.length);return a!==ae&&(a=Cs(t[0],t[g-1])),o=g>2?zs:As,l=f=null,p}function p(g){return g==null||isNaN(g=+g)?s:(l||(l=o(t.map(r),n,e)))(r(a(g)))}return p.invert=function(g){return a(i((f||(f=o(n,t.map(r),Bt)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Es),d()):t.slice()},p.range=function(g){return arguments.length?(n=Array.from(g),d()):n.slice()},p.rangeRound=function(g){return n=Array.from(g),e=ms,d()},p.clamp=function(g){return arguments.length?(a=g?!0:ae,d()):a!==ae},p.interpolate=function(g){return arguments.length?(e=g,d()):e},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,h){return r=g,i=h,d()}}function Rs(){return Ts()(ae,ae)}function Is(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function en(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ue(t){return t=en(Math.abs(t)),t?t[1]:NaN}function Os(t,n){return function(e,r){for(var i=e.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(n)}}function Ms(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Ns=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nn(t){if(!(n=Ns.exec(t)))throw new Error("invalid format: "+t);var n;return new jn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}nn.prototype=jn.prototype;function jn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bs(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ri;function Ps(t,n){var e=en(t,n);if(!e)return t+"";var r=e[0],i=e[1],s=i-(ri=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+en(t,Math.max(0,n+s-1))[0]}function gr(t,n){var e=en(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _r={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Is,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>gr(t*100,n),r:gr,s:Ps,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yr(t){return t}var wr=Array.prototype.map,vr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Fs(t){var n=t.grouping===void 0||t.thousands===void 0?yr:Os(wr.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?yr:Ms(wr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function f(p){p=nn(p);var g=p.fill,h=p.align,b=p.sign,m=p.symbol,w=p.zero,_=p.width,k=p.comma,C=p.precision,A=p.trim,T=p.type;T==="n"?(k=!0,T="g"):_r[T]||(C===void 0&&(C=12),A=!0,T="g"),(w||g==="0"&&h==="=")&&(w=!0,g="0",h="=");var Z=m==="$"?e:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",W=m==="$"?r:/[%p]/.test(T)?a:"",S=_r[T],y=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function N(z){var x=Z,F=W,u,P,I;if(T==="c")F=S(z)+F,z="";else{z=+z;var O=z<0||1/z<0;if(z=isNaN(z)?l:S(Math.abs(z),C),A&&(z=Bs(z)),O&&+z==0&&b!=="+"&&(O=!1),x=(O?b==="("?b:o:b==="-"||b==="("?"":b)+x,F=(T==="s"?vr[8+ri/3]:"")+F+(O&&b==="("?")":""),y){for(u=-1,P=z.length;++u<P;)if(I=z.charCodeAt(u),48>I||I>57){F=(I===46?i+z.slice(u+1):z.slice(u))+F,z=z.slice(0,u);break}}}k&&!w&&(z=n(z,1/0));var Y=x.length+z.length+F.length,B=Y<_?new Array(_-Y+1).join(g):"";switch(k&&w&&(z=n(B+z,B.length?_-F.length:1/0),B=""),h){case"<":z=x+z+F+B;break;case"=":z=x+B+z+F;break;case"^":z=B.slice(0,Y=B.length>>1)+x+z+F+B.slice(Y);break;default:z=B+x+z+F;break}return s(z)}return N.toString=function(){return p+""},N}function d(p,g){var h=f((p=nn(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(ue(g)/3)))*3,m=Math.pow(10,-b),w=vr[8+b/3];return function(_){return h(m*_)+w}}return{format:f,formatPrefix:d}}var Pe,ii,si;Ls({thousands:",",grouping:[3],currency:["$",""]});function Ls(t){return Pe=Fs(t),ii=Pe.format,si=Pe.formatPrefix,Pe}function Us(t){return Math.max(0,-ue(Math.abs(t)))}function Ws(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ue(n)/3)))*3-ue(Math.abs(t)))}function js(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ue(n)-ue(t))+1}function Zs(t,n,e,r){var i=qi(t,n,e),s;switch(r=nn(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(s=Ws(i,a))&&(r.precision=s),si(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=js(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Us(i))&&(r.precision=s-(r.type==="%")*2);break}}return ii(r)}function Hs(t){var n=t.domain;return t.ticks=function(e){var r=n();return Vi(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return Zs(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,s=r.length-1,a=r[i],o=r[s],l,f,d=10;for(o<a&&(f=a,a=o,o=f,f=i,i=s,s=f);d-- >0;){if(f=Kr(a,o,e),f===l)return r[i]=a,r[s]=o,n(r);if(f>0)a=Math.floor(a/f)*f,o=Math.ceil(o/f)*f;else if(f<0)a=Math.ceil(a*f)/f,o=Math.floor(o*f)/f;else break;l=f}return t},t}function Tn(){var t=Rs();return t.copy=function(){return Ds(t,Tn())},Gr.apply(t,arguments),Hs(t)}function Vs(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const ai=Vs("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var qs={value:()=>{}};function Zn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ze(e)}function Ze(t){this._=t}function Xs(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ze.prototype=Zn.prototype={constructor:Ze,on:function(t,n){var e=this._,r=Xs(t+"",e),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Ys(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<a;)if(i=(t=r[s]).type)e[i]=br(e[i],t.name,n);else if(n==null)for(i in e)e[i]=br(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ze(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,s;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(n,e)}};function Ys(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function br(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=qs,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Rn="http://www.w3.org/1999/xhtml";const kr={svg:"http://www.w3.org/2000/svg",xhtml:Rn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),kr.hasOwnProperty(n)?{space:kr[n],local:t}:t}function Ks(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Rn&&n.documentElement.namespaceURI===Rn?n.createElement(t):n.createElementNS(e,t)}}function Gs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oi(t){var n=hn(t);return(n.local?Gs:Ks)(n)}function Qs(){}function Hn(t){return t==null?Qs:function(){return this.querySelector(t)}}function Js(t){typeof t!="function"&&(t=Hn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],a=s.length,o=r[i]=new Array(a),l,f,d=0;d<a;++d)(l=s[d])&&(f=t.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),o[d]=f);return new Ot(r,this._parents)}function $s(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ta(){return[]}function li(t){return t==null?ta:function(){return this.querySelectorAll(t)}}function ea(t){return function(){return $s(t.apply(this,arguments))}}function na(t){typeof t=="function"?t=ea(t):t=li(t);for(var n=this._groups,e=n.length,r=[],i=[],s=0;s<e;++s)for(var a=n[s],o=a.length,l,f=0;f<o;++f)(l=a[f])&&(r.push(t.call(l,l.__data__,f,a)),i.push(l));return new Ot(r,i)}function ui(t){return function(){return this.matches(t)}}function fi(t){return function(n){return n.matches(t)}}var ra=Array.prototype.find;function ia(t){return function(){return ra.call(this.children,t)}}function sa(){return this.firstElementChild}function aa(t){return this.select(t==null?sa:ia(typeof t=="function"?t:fi(t)))}var oa=Array.prototype.filter;function la(){return Array.from(this.children)}function ua(t){return function(){return oa.call(this.children,t)}}function fa(t){return this.selectAll(t==null?la:ua(typeof t=="function"?t:fi(t)))}function ca(t){typeof t!="function"&&(t=ui(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],a=s.length,o=r[i]=[],l,f=0;f<a;++f)(l=s[f])&&t.call(l,l.__data__,f,s)&&o.push(l);return new Ot(r,this._parents)}function ci(t){return new Array(t.length)}function ha(){return new Ot(this._enter||this._groups.map(ci),this._parents)}function rn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}rn.prototype={constructor:rn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function da(t){return function(){return t}}function pa(t,n,e,r,i,s){for(var a=0,o,l=n.length,f=s.length;a<f;++a)(o=n[a])?(o.__data__=s[a],r[a]=o):e[a]=new rn(t,s[a]);for(;a<l;++a)(o=n[a])&&(i[a]=o)}function ma(t,n,e,r,i,s,a){var o,l,f=new Map,d=n.length,p=s.length,g=new Array(d),h;for(o=0;o<d;++o)(l=n[o])&&(g[o]=h=a.call(l,l.__data__,o,n)+"",f.has(h)?i[o]=l:f.set(h,l));for(o=0;o<p;++o)h=a.call(t,s[o],o,s)+"",(l=f.get(h))?(r[o]=l,l.__data__=s[o],f.delete(h)):e[o]=new rn(t,s[o]);for(o=0;o<d;++o)(l=n[o])&&f.get(g[o])===l&&(i[o]=l)}function ga(t){return t.__data__}function _a(t,n){if(!arguments.length)return Array.from(this,ga);var e=n?ma:pa,r=this._parents,i=this._groups;typeof t!="function"&&(t=da(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),f=0;f<s;++f){var d=r[f],p=i[f],g=p.length,h=ya(t.call(d,d&&d.__data__,f,r)),b=h.length,m=o[f]=new Array(b),w=a[f]=new Array(b),_=l[f]=new Array(g);e(d,p,m,w,_,h,n);for(var k=0,C=0,A,T;k<b;++k)if(A=m[k]){for(k>=C&&(C=k+1);!(T=w[C])&&++C<b;);A._next=T||null}}return a=new Ot(a,r),a._enter=o,a._exit=l,a}function ya(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wa(){return new Ot(this._exit||this._groups.map(ci),this._parents)}function va(t,n,e){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?s.remove():e(s),r&&i?r.merge(i).order():i}function ba(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var f=e[l],d=r[l],p=f.length,g=o[l]=new Array(p),h,b=0;b<p;++b)(h=f[b]||d[b])&&(g[b]=h);for(;l<i;++l)o[l]=e[l];return new Ot(o,this._parents)}function ka(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function xa(t){t||(t=Sa);function n(p,g){return p&&g?t(p.__data__,g.__data__):!p-!g}for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s){for(var a=e[s],o=a.length,l=i[s]=new Array(o),f,d=0;d<o;++d)(f=a[d])&&(l[d]=f);l.sort(n)}return new Ot(i,this._parents).order()}function Sa(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ea(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ca(){return Array.from(this)}function Aa(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function za(){let t=0;for(const n of this)++t;return t}function Da(){return!this.node()}function Ta(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function Ra(t){return function(){this.removeAttribute(t)}}function Ia(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Oa(t,n){return function(){this.setAttribute(t,n)}}function Ma(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Na(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ba(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Pa(t,n){var e=hn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Ia:Ra:typeof n=="function"?e.local?Ba:Na:e.local?Ma:Oa)(e,n))}function hi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fa(t){return function(){this.style.removeProperty(t)}}function La(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ua(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Wa(t,n,e){return arguments.length>1?this.each((n==null?Fa:typeof n=="function"?Ua:La)(t,n,e==null?"":e)):fe(this.node(),t)}function fe(t,n){return t.style.getPropertyValue(n)||hi(t).getComputedStyle(t,null).getPropertyValue(n)}function ja(t){return function(){delete this[t]}}function Za(t,n){return function(){this[t]=n}}function Ha(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Va(t,n){return arguments.length>1?this.each((n==null?ja:typeof n=="function"?Ha:Za)(t,n)):this.node()[t]}function di(t){return t.trim().split(/^|\s+/)}function Vn(t){return t.classList||new pi(t)}function pi(t){this._node=t,this._names=di(t.getAttribute("class")||"")}pi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mi(t,n){for(var e=Vn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function gi(t,n){for(var e=Vn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function qa(t){return function(){mi(this,t)}}function Xa(t){return function(){gi(this,t)}}function Ya(t,n){return function(){(n.apply(this,arguments)?mi:gi)(this,t)}}function Ka(t,n){var e=di(t+"");if(arguments.length<2){for(var r=Vn(this.node()),i=-1,s=e.length;++i<s;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Ya:n?qa:Xa)(e,n))}function Ga(){this.textContent=""}function Qa(t){return function(){this.textContent=t}}function Ja(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function $a(t){return arguments.length?this.each(t==null?Ga:(typeof t=="function"?Ja:Qa)(t)):this.node().textContent}function to(){this.innerHTML=""}function eo(t){return function(){this.innerHTML=t}}function no(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function ro(t){return arguments.length?this.each(t==null?to:(typeof t=="function"?no:eo)(t)):this.node().innerHTML}function io(){this.nextSibling&&this.parentNode.appendChild(this)}function so(){return this.each(io)}function ao(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oo(){return this.each(ao)}function lo(t){var n=typeof t=="function"?t:oi(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function uo(){return null}function fo(t,n){var e=typeof t=="function"?t:oi(t),r=n==null?uo:typeof n=="function"?n:Hn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function co(){var t=this.parentNode;t&&t.removeChild(this)}function ho(){return this.each(co)}function po(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function mo(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function go(t){return this.select(t?mo:po)}function _o(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yo(t){return function(n){t.call(this,n,this.__data__)}}function wo(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function vo(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,s;e<i;++e)s=n[e],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):n[++r]=s;++r?n.length=r:delete this.__on}}}function bo(t,n,e){return function(){var r=this.__on,i,s=yo(n);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=e),i.value=n;return}}this.addEventListener(t.type,s,e),i={type:t.type,name:t.name,value:n,listener:s,options:e},r?r.push(i):this.__on=[i]}}function ko(t,n,e){var r=wo(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,f=o.length,d;l<f;++l)for(i=0,d=o[l];i<s;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(o=n?bo:vo,i=0;i<s;++i)this.each(o(r[i],n,e));return this}function _i(t,n,e){var r=hi(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function xo(t,n){return function(){return _i(this,t,n)}}function So(t,n){return function(){return _i(this,t,n.apply(this,arguments))}}function Eo(t,n){return this.each((typeof n=="function"?So:xo)(t,n))}function*Co(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var yi=[null];function Ot(t,n){this._groups=t,this._parents=n}function De(){return new Ot([[document.documentElement]],yi)}function Ao(){return this}Ot.prototype=De.prototype={constructor:Ot,select:Js,selectAll:na,selectChild:aa,selectChildren:fa,filter:ca,data:_a,enter:ha,exit:wa,join:va,merge:ba,selection:Ao,order:ka,sort:xa,call:Ea,nodes:Ca,node:Aa,size:za,empty:Da,each:Ta,attr:Pa,style:Wa,property:Va,classed:Ka,text:$a,html:ro,raise:so,lower:oo,append:lo,insert:fo,remove:ho,clone:go,datum:_o,on:ko,dispatch:Eo,[Symbol.iterator]:Co};function Xt(t){return typeof t=="string"?new Ot([[document.querySelector(t)]],[document.documentElement]):new Ot([[t]],yi)}function zo(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Jt(t,n){if(t=zo(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const In={capture:!0,passive:!1};function On(t){t.preventDefault(),t.stopImmediatePropagation()}function Do(t){var n=t.document.documentElement,e=Xt(t).on("dragstart.drag",On,In);"onselectstart"in n?e.on("selectstart.drag",On,In):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function To(t,n){var e=t.document.documentElement,r=Xt(t).on("dragstart.drag",null);n&&(r.on("click.drag",On,In),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var ce=0,be=0,me=0,wi=1e3,sn,ke,an=0,re=0,dn=0,Ae=typeof performance=="object"&&performance.now?performance:Date,vi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qn(){return re||(vi(Ro),re=Ae.now()+dn)}function Ro(){re=0}function on(){this._call=this._time=this._next=null}on.prototype=bi.prototype={constructor:on,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?qn():+e)+(n==null?0:+n),!this._next&&ke!==this&&(ke?ke._next=this:sn=this,ke=this),this._call=t,this._time=e,Mn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mn())}};function bi(t,n,e){var r=new on;return r.restart(t,n,e),r}function Io(){qn(),++ce;for(var t=sn,n;t;)(n=re-t._time)>=0&&t._call.call(void 0,n),t=t._next;--ce}function xr(){re=(an=Ae.now())+dn,ce=be=0;try{Io()}finally{ce=0,Mo(),re=0}}function Oo(){var t=Ae.now(),n=t-an;n>wi&&(dn-=n,an=t)}function Mo(){for(var t,n=sn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:sn=e);ke=t,Mn(r)}function Mn(t){if(!ce){be&&(be=clearTimeout(be));var n=t-re;n>24?(t<1/0&&(be=setTimeout(xr,t-Ae.now()-dn)),me&&(me=clearInterval(me))):(me||(an=Ae.now(),me=setInterval(Oo,wi)),ce=1,vi(xr))}}function Sr(t,n,e){var r=new on;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var No=Zn("start","end","cancel","interrupt"),Bo=[],ki=0,Er=1,Nn=2,He=3,Cr=4,Bn=5,Ve=6;function pn(t,n,e,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Po(t,e,{name:n,index:r,group:i,on:No,tween:Bo,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ki})}function Xn(t,n){var e=Lt(t,n);if(e.state>ki)throw new Error("too late; already scheduled");return e}function Wt(t,n){var e=Lt(t,n);if(e.state>He)throw new Error("too late; already running");return e}function Lt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Po(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=bi(s,0,e.time);function s(f){e.state=Er,e.timer.restart(a,e.delay,e.time),e.delay<=f&&a(f-e.delay)}function a(f){var d,p,g,h;if(e.state!==Er)return l();for(d in r)if(h=r[d],h.name===e.name){if(h.state===He)return Sr(a);h.state===Cr?(h.state=Ve,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[d]):+d<n&&(h.state=Ve,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[d])}if(Sr(function(){e.state===He&&(e.state=Cr,e.timer.restart(o,e.delay,e.time),o(f))}),e.state=Nn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Nn){for(e.state=He,i=new Array(g=e.tween.length),d=0,p=-1;d<g;++d)(h=e.tween[d].value.call(t,t.__data__,e.index,e.group))&&(i[++p]=h);i.length=p+1}}function o(f){for(var d=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(l),e.state=Bn,1),p=-1,g=i.length;++p<g;)i[p].call(t,d);e.state===Bn&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=Ve,e.timer.stop(),delete r[n];for(var f in r)return;delete t.__transition}}function qe(t,n){var e=t.__transition,r,i,s=!0,a;if(!!e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){s=!1;continue}i=r.state>Nn&&r.state<Bn,r.state=Ve,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}s&&delete t.__transition}}function Fo(t){return this.each(function(){qe(this,t)})}function Lo(t,n){var e,r;return function(){var i=Wt(this,t),s=i.tween;if(s!==e){r=e=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Uo(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var s=Wt(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:n,value:e},l=0,f=i.length;l<f;++l)if(i[l].name===n){i[l]=o;break}l===f&&i.push(o)}s.tween=i}}function Wo(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Lt(this.node(),e).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Lo:Uo)(e,t,n))}function Yn(t,n,e){var r=t._id;return t.each(function(){var i=Wt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Lt(i,r).value[n]}}function xi(t,n){var e;return(typeof n=="number"?Bt:n instanceof ne?tn:(e=ne(n))?(n=e,tn):ti)(t,n)}function jo(t){return function(){this.removeAttribute(t)}}function Zo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ho(t,n,e){var r,i=e+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=n(r=a,e)}}function Vo(t,n,e){var r,i=e+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=n(r=a,e)}}function qo(t,n,e){var r,i,s;return function(){var a,o=e(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=n(r=a,o)))}}function Xo(t,n,e){var r,i,s;return function(){var a,o=e(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=n(r=a,o)))}}function Yo(t,n){var e=hn(t),r=e==="transform"?ws:xi;return this.attrTween(t,typeof n=="function"?(e.local?Xo:qo)(e,r,Yn(this,"attr."+t,n)):n==null?(e.local?Zo:jo)(e):(e.local?Vo:Ho)(e,r,n))}function Ko(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Go(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Qo(t,n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&Go(t,s)),e}return i._value=n,i}function Jo(t,n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&Ko(t,s)),e}return i._value=n,i}function $o(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=hn(t);return this.tween(e,(r.local?Qo:Jo)(r,n))}function tl(t,n){return function(){Xn(this,t).delay=+n.apply(this,arguments)}}function el(t,n){return n=+n,function(){Xn(this,t).delay=n}}function nl(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?tl:el)(n,t)):Lt(this.node(),n).delay}function rl(t,n){return function(){Wt(this,t).duration=+n.apply(this,arguments)}}function il(t,n){return n=+n,function(){Wt(this,t).duration=n}}function sl(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?rl:il)(n,t)):Lt(this.node(),n).duration}function al(t,n){if(typeof n!="function")throw new Error;return function(){Wt(this,t).ease=n}}function ol(t){var n=this._id;return arguments.length?this.each(al(n,t)):Lt(this.node(),n).ease}function ll(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;Wt(this,t).ease=e}}function ul(t){if(typeof t!="function")throw new Error;return this.each(ll(this._id,t))}function fl(t){typeof t!="function"&&(t=ui(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],a=s.length,o=r[i]=[],l,f=0;f<a;++f)(l=s[f])&&t.call(l,l.__data__,f,s)&&o.push(l);return new Ht(r,this._parents,this._name,this._id)}function cl(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=n[o],f=e[o],d=l.length,p=a[o]=new Array(d),g,h=0;h<d;++h)(g=l[h]||f[h])&&(p[h]=g);for(;o<r;++o)a[o]=n[o];return new Ht(a,this._parents,this._name,this._id)}function hl(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function dl(t,n,e){var r,i,s=hl(n)?Xn:Wt;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(n,e),a.on=i}}function pl(t,n){var e=this._id;return arguments.length<2?Lt(this.node(),e).on.on(t):this.each(dl(e,t,n))}function ml(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function gl(){return this.on("end.remove",ml(this._id))}function _l(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Hn(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,f=s[a]=new Array(l),d,p,g=0;g<l;++g)(d=o[g])&&(p=t.call(d,d.__data__,g,o))&&("__data__"in d&&(p.__data__=d.__data__),f[g]=p,pn(f[g],n,e,g,f,Lt(d,e)));return new Ht(s,this._parents,n,e)}function yl(t){var n=this._name,e=this._id;typeof t!="function"&&(t=li(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],f=l.length,d,p=0;p<f;++p)if(d=l[p]){for(var g=t.call(d,d.__data__,p,l),h,b=Lt(d,e),m=0,w=g.length;m<w;++m)(h=g[m])&&pn(h,n,e,m,g,b);s.push(g),a.push(d)}return new Ht(s,a,n,e)}var wl=De.prototype.constructor;function vl(){return new wl(this._groups,this._parents)}function bl(t,n){var e,r,i;return function(){var s=fe(this,t),a=(this.style.removeProperty(t),fe(this,t));return s===a?null:s===e&&a===r?i:i=n(e=s,r=a)}}function Si(t){return function(){this.style.removeProperty(t)}}function kl(t,n,e){var r,i=e+"",s;return function(){var a=fe(this,t);return a===i?null:a===r?s:s=n(r=a,e)}}function xl(t,n,e){var r,i,s;return function(){var a=fe(this,t),o=e(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),fe(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=n(r=a,o))}}function Sl(t,n){var e,r,i,s="style."+n,a="end."+s,o;return function(){var l=Wt(this,t),f=l.on,d=l.value[s]==null?o||(o=Si(n)):void 0;(f!==e||i!==d)&&(r=(e=f).copy()).on(a,i=d),l.on=r}}function El(t,n,e){var r=(t+="")=="transform"?ys:xi;return n==null?this.styleTween(t,bl(t,r)).on("end.style."+t,Si(t)):typeof n=="function"?this.styleTween(t,xl(t,r,Yn(this,"style."+t,n))).each(Sl(this._id,t)):this.styleTween(t,kl(t,r,n),e).on("end.style."+t,null)}function Cl(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Al(t,n,e){var r,i;function s(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Cl(t,a,e)),r}return s._value=n,s}function zl(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Al(t,n,e==null?"":e))}function Dl(t){return function(){this.textContent=t}}function Tl(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function Rl(t){return this.tween("text",typeof t=="function"?Tl(Yn(this,"text",t)):Dl(t==null?"":t+""))}function Il(t){return function(n){this.textContent=t.call(this,n)}}function Ol(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Il(i)),n}return r._value=t,r}function Ml(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ol(t))}function Nl(){for(var t=this._name,n=this._id,e=Ei(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,f=0;f<o;++f)if(l=a[f]){var d=Lt(l,n);pn(l,t,e,f,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ht(r,this._parents,t,e)}function Bl(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};e.each(function(){var f=Wt(this,r),d=f.on;d!==t&&(n=(t=d).copy(),n._.cancel.push(o),n._.interrupt.push(o),n._.end.push(l)),f.on=n}),i===0&&s()})}var Pl=0;function Ht(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ei(){return++Pl}var jt=De.prototype;Ht.prototype={constructor:Ht,select:_l,selectAll:yl,selectChild:jt.selectChild,selectChildren:jt.selectChildren,filter:fl,merge:cl,selection:vl,transition:Nl,call:jt.call,nodes:jt.nodes,node:jt.node,size:jt.size,empty:jt.empty,each:jt.each,on:pl,attr:Yo,attrTween:$o,style:El,styleTween:zl,text:Rl,textTween:Ml,remove:gl,tween:Wo,delay:nl,duration:sl,ease:ol,easeVarying:ul,end:Bl,[Symbol.iterator]:jt[Symbol.iterator]};function Fl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ll={time:null,delay:0,duration:250,ease:Fl};function Ul(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Wl(t){var n,e;t instanceof Ht?(n=t._id,t=t._name):(n=Ei(),(e=Ll).time=qn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,f=0;f<o;++f)(l=a[f])&&pn(l,t,n,f,a,e||Ul(l,n));return new Ht(r,this._parents,t,n)}De.prototype.interrupt=Fo;De.prototype.transition=Wl;const Fe=t=>()=>t;function jl(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Zt(t,n,e){this.k=t,this.x=n,this.y=e}Zt.prototype={constructor:Zt,scale:function(t){return t===1?this:new Zt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Zt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ln=new Zt(1,0,0);Zt.prototype;function wn(t){t.stopImmediatePropagation()}function ge(t){t.preventDefault(),t.stopImmediatePropagation()}function Zl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Hl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ar(){return this.__zoom||ln}function Vl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ql(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xl(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],s=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Yl(){var t=Zl,n=Hl,e=Xl,r=Vl,i=ql,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=xs,f=Zn("start","zoom","end"),d,p,g,h=500,b=150,m=0,w=10;function _(u){u.property("__zoom",Ar).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",y).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(u,P,I,O){var Y=u.selection?u.selection():u;Y.property("__zoom",Ar),u!==Y?T(u,P,I,O):Y.interrupt().each(function(){Z(this,arguments).event(O).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},_.scaleBy=function(u,P,I,O){_.scaleTo(u,function(){var Y=this.__zoom.k,B=typeof P=="function"?P.apply(this,arguments):P;return Y*B},I,O)},_.scaleTo=function(u,P,I,O){_.transform(u,function(){var Y=n.apply(this,arguments),B=this.__zoom,K=I==null?A(Y):typeof I=="function"?I.apply(this,arguments):I,R=B.invert(K),D=typeof P=="function"?P.apply(this,arguments):P;return e(C(k(B,D),K,R),Y,a)},I,O)},_.translateBy=function(u,P,I,O){_.transform(u,function(){return e(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof I=="function"?I.apply(this,arguments):I),n.apply(this,arguments),a)},null,O)},_.translateTo=function(u,P,I,O,Y){_.transform(u,function(){var B=n.apply(this,arguments),K=this.__zoom,R=O==null?A(B):typeof O=="function"?O.apply(this,arguments):O;return e(ln.translate(R[0],R[1]).scale(K.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof I=="function"?-I.apply(this,arguments):-I),B,a)},O,Y)};function k(u,P){return P=Math.max(s[0],Math.min(s[1],P)),P===u.k?u:new Zt(P,u.x,u.y)}function C(u,P,I){var O=P[0]-I[0]*u.k,Y=P[1]-I[1]*u.k;return O===u.x&&Y===u.y?u:new Zt(u.k,O,Y)}function A(u){return[(+u[0][0]+ +u[1][0])/2,(+u[0][1]+ +u[1][1])/2]}function T(u,P,I,O){u.on("start.zoom",function(){Z(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(O).end()}).tween("zoom",function(){var Y=this,B=arguments,K=Z(Y,B).event(O),R=n.apply(Y,B),D=I==null?A(R):typeof I=="function"?I.apply(Y,B):I,Q=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),J=Y.__zoom,$=typeof P=="function"?P.apply(Y,B):P,ft=l(J.invert(D).concat(Q/J.k),$.invert(D).concat(Q/$.k));return function(pt){if(pt===1)pt=$;else{var at=ft(pt),ot=Q/at[2];pt=new Zt(ot,D[0]-at[0]*ot,D[1]-at[1]*ot)}K.zoom(null,pt)}})}function Z(u,P,I){return!I&&u.__zooming||new W(u,P)}function W(u,P){this.that=u,this.args=P,this.active=0,this.sourceEvent=null,this.extent=n.apply(u,P),this.taps=0}W.prototype={event:function(u){return u&&(this.sourceEvent=u),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(u,P){return this.mouse&&u!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&u!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&u!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(u){var P=Xt(this.that).datum();f.call(u,this.that,new jl(u,{sourceEvent:this.sourceEvent,target:_,type:u,transform:this.that.__zoom,dispatch:f}),P)}};function S(u,...P){if(!t.apply(this,arguments))return;var I=Z(this,P).event(u),O=this.__zoom,Y=Math.max(s[0],Math.min(s[1],O.k*Math.pow(2,r.apply(this,arguments)))),B=Jt(u);if(I.wheel)(I.mouse[0][0]!==B[0]||I.mouse[0][1]!==B[1])&&(I.mouse[1]=O.invert(I.mouse[0]=B)),clearTimeout(I.wheel);else{if(O.k===Y)return;I.mouse=[B,O.invert(B)],qe(this),I.start()}ge(u),I.wheel=setTimeout(K,b),I.zoom("mouse",e(C(k(O,Y),I.mouse[0],I.mouse[1]),I.extent,a));function K(){I.wheel=null,I.end()}}function y(u,...P){if(g||!t.apply(this,arguments))return;var I=u.currentTarget,O=Z(this,P,!0).event(u),Y=Xt(u.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",Q,!0),B=Jt(u,I),K=u.clientX,R=u.clientY;Do(u.view),wn(u),O.mouse=[B,this.__zoom.invert(B)],qe(this),O.start();function D(J){if(ge(J),!O.moved){var $=J.clientX-K,ft=J.clientY-R;O.moved=$*$+ft*ft>m}O.event(J).zoom("mouse",e(C(O.that.__zoom,O.mouse[0]=Jt(J,I),O.mouse[1]),O.extent,a))}function Q(J){Y.on("mousemove.zoom mouseup.zoom",null),To(J.view,O.moved),ge(J),O.event(J).end()}}function N(u,...P){if(!!t.apply(this,arguments)){var I=this.__zoom,O=Jt(u.changedTouches?u.changedTouches[0]:u,this),Y=I.invert(O),B=I.k*(u.shiftKey?.5:2),K=e(C(k(I,B),O,Y),n.apply(this,P),a);ge(u),o>0?Xt(this).transition().duration(o).call(T,K,O,u):Xt(this).call(_.transform,K,O,u)}}function z(u,...P){if(!!t.apply(this,arguments)){var I=u.touches,O=I.length,Y=Z(this,P,u.changedTouches.length===O).event(u),B,K,R,D;for(wn(u),K=0;K<O;++K)R=I[K],D=Jt(R,this),D=[D,this.__zoom.invert(D),R.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==D[2]&&(Y.touch1=D,Y.taps=0):(Y.touch0=D,B=!0,Y.taps=1+!!d);d&&(d=clearTimeout(d)),B&&(Y.taps<2&&(p=D[0],d=setTimeout(function(){d=null},h)),qe(this),Y.start())}}function x(u,...P){if(!!this.__zooming){var I=Z(this,P).event(u),O=u.changedTouches,Y=O.length,B,K,R,D;for(ge(u),B=0;B<Y;++B)K=O[B],R=Jt(K,this),I.touch0&&I.touch0[2]===K.identifier?I.touch0[0]=R:I.touch1&&I.touch1[2]===K.identifier&&(I.touch1[0]=R);if(K=I.that.__zoom,I.touch1){var Q=I.touch0[0],J=I.touch0[1],$=I.touch1[0],ft=I.touch1[1],pt=(pt=$[0]-Q[0])*pt+(pt=$[1]-Q[1])*pt,at=(at=ft[0]-J[0])*at+(at=ft[1]-J[1])*at;K=k(K,Math.sqrt(pt/at)),R=[(Q[0]+$[0])/2,(Q[1]+$[1])/2],D=[(J[0]+ft[0])/2,(J[1]+ft[1])/2]}else if(I.touch0)R=I.touch0[0],D=I.touch0[1];else return;I.zoom("touch",e(C(K,R,D),I.extent,a))}}function F(u,...P){if(!!this.__zooming){var I=Z(this,P).event(u),O=u.changedTouches,Y=O.length,B,K;for(wn(u),g&&clearTimeout(g),g=setTimeout(function(){g=null},h),B=0;B<Y;++B)K=O[B],I.touch0&&I.touch0[2]===K.identifier?delete I.touch0:I.touch1&&I.touch1[2]===K.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(K=Jt(K,this),Math.hypot(p[0]-K[0],p[1]-K[1])<w)){var R=Xt(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return _.wheelDelta=function(u){return arguments.length?(r=typeof u=="function"?u:Fe(+u),_):r},_.filter=function(u){return arguments.length?(t=typeof u=="function"?u:Fe(!!u),_):t},_.touchable=function(u){return arguments.length?(i=typeof u=="function"?u:Fe(!!u),_):i},_.extent=function(u){return arguments.length?(n=typeof u=="function"?u:Fe([[+u[0][0],+u[0][1]],[+u[1][0],+u[1][1]]]),_):n},_.scaleExtent=function(u){return arguments.length?(s[0]=+u[0],s[1]=+u[1],_):[s[0],s[1]]},_.translateExtent=function(u){return arguments.length?(a[0][0]=+u[0][0],a[1][0]=+u[1][0],a[0][1]=+u[0][1],a[1][1]=+u[1][1],_):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},_.constrain=function(u){return arguments.length?(e=u,_):e},_.duration=function(u){return arguments.length?(o=+u,_):o},_.interpolate=function(u){return arguments.length?(l=u,_):l},_.on=function(){var u=f.on.apply(f,arguments);return u===f?_:u},_.clickDistance=function(u){return arguments.length?(m=(u=+u)*u,_):Math.sqrt(m)},_.tapDistance=function(u){return arguments.length?(w=+u,_):w},_}function Kl(t){let n,e,r,i,s,a,o,l,f,d,p;return{c(){n=lt("div"),e=lt("div"),r=lt("button"),r.textContent="+",i=bt(),s=lt("button"),s.textContent="\u2212",a=bt(),o=lt("button"),o.textContent="\u27F2",l=bt(),f=lt("canvas"),et(r,"class","zoom-btn svelte-1q7voxg"),et(r,"aria-label","Zoom in"),et(r,"title","Zoom in"),et(s,"class","zoom-btn svelte-1q7voxg"),et(s,"aria-label","Zoom out"),et(s,"title","Zoom out"),et(o,"class","zoom-btn svelte-1q7voxg"),et(o,"aria-label","Reset zoom"),et(o,"title","Reset zoom"),et(e,"class","zoom-controls svelte-1q7voxg"),et(e,"aria-label","Zoom controls"),et(f,"width",t[0]),et(f,"height",t[1]),et(f,"class","svelte-1q7voxg"),et(n,"class","chart-container svelte-1q7voxg")},m(g,h){vt(g,n,h),st(n,e),st(e,r),st(e,i),st(e,s),st(e,a),st(e,o),st(n,l),st(n,f),t[29](f),t[30](n),d||(p=[St(r,"click",t[7]),St(s,"click",t[8]),St(o,"click",t[9]),St(f,"mousemove",t[4]),St(f,"mouseleave",t[6]),St(f,"click",t[5])],d=!0)},p(g,h){h[0]&1&&et(f,"width",g[0]),h[0]&2&&et(f,"height",g[1])},i:Dt,o:Dt,d(g){g&&yt(n),t[29](null),t[30](null),d=!1,Vt(p)}}}const _e=6,Gl=.5,Ql=20;function Le(t,n){if(!n||!t)return!1;try{return new RegExp(n,"i").test(t)}catch{return t.toLowerCase().includes(n.toLowerCase())}}function Jl(t,n,e){let r,i,s,a,o,l,f,d,p,{data:g=[]}=n,{domainColumn:h=""}=n,{opacity:b=1}=n,{selectedValues:m=new Set}=n,{searchQuery:w=""}=n,{showAnnotations:_=!0}=n,{highlightedData:k=[]}=n,{startDate:C=null}=n,{endDate:A=null}=n,{uniqueValues:T=[]}=n,{hoveredData:Z=null}=n,{selectedData:W=null}=n,S=[],y,N,z,x=800,F=600;const u={top:20,right:20,bottom:20,left:20};let P=null,I=ln,O,Y,B,K=1;function R(){if(!y||!N)return;const q=N.getBoundingClientRect();q.width>0&&q.height>0&&(e(0,x=Math.floor(q.width)),e(1,F=Math.floor(q.height))),K=Math.max(window.devicePixelRatio||1,1),e(2,y.style.width="100%",y),e(2,y.style.height="100%",y),e(2,y.width=Math.max(1,Math.floor(x*K)),y),e(2,y.height=Math.max(1,Math.floor(F*K)),y),e(22,z=y.getContext("2d")),z.setTransform(K,0,0,K,0,0)}function D(){if(!(!z||!g.length)){if(z.clearRect(0,0,x,F),z.save(),z.translate(I.x,I.y),z.scale(I.k,I.k),g.forEach(q=>{z.beginPath(),z.arc(u.left+l(q.x),u.top+p(q.y),Math.max(.5,_e/I.k),0,Math.PI*2),e(22,z.fillStyle=B(q[h]),z);const c=.9,j=Math.max(0,Math.min(1,b));e(22,z.globalAlpha=q.isActive?c:j,z),z.fill(),e(22,z.globalAlpha=.2,z)}),_&&S.forEach(q=>{e(22,z.globalAlpha=1,z),z.beginPath(),z.arc(q.x,q.y,q.radius,0,Math.PI*2),e(22,z.strokeStyle="red",z),e(22,z.lineWidth=2,z),z.setLineDash([5,5]),z.stroke();const c=180,j=12;e(22,z.font="16px Arial",z);const U=q.x+q.label_x,E=q.y+q.label_y;let v=0,M=0,X=[];if(q.label){const kt=q.label.split(" ");let ht="";kt.forEach((ct,wt)=>{const Et=ht+ct+" ";z.measureText(Et).width>c&&wt>0?(X.push(ht),v=Math.max(v,z.measureText(ht).width),ht=ct+" "):ht=Et}),X.push(ht),v=Math.max(v,z.measureText(ht).width),M=j*X.length}const G=U,L=E-j,nt=v,H=M;let V,tt;q.x<G?V=G:q.x>G+nt?V=G+nt:V=q.x,q.y<L?tt=L:q.y>L+H?tt=L+H:tt=q.y;const it=Math.atan2(tt-q.y,V-q.x),rt=q.x+q.radius*Math.cos(it),dt=q.y+q.radius*Math.sin(it);if(z.setLineDash([]),z.beginPath(),z.moveTo(rt,dt),z.lineTo(V,tt),e(22,z.strokeStyle="red",z),e(22,z.lineWidth=1,z),z.stroke(),q.label){e(22,z.font="16px Arial",z),e(22,z.fillStyle="red",z);const kt=16;X.forEach((ht,ct)=>{z.fillText(ht,U,E+ct*kt)})}}),z.setLineDash([]),W){const q=u.left+l(W.x),c=u.top+p(W.y);z.beginPath(),z.arc(q,c,Math.max(.5,(_e+2)/I.k),0,Math.PI*2),e(22,z.fillStyle=B(W[h]),z),e(22,z.globalAlpha=1,z),z.fill(),e(22,z.strokeStyle="#1976d2",z),e(22,z.lineWidth=Math.max(1,3/I.k),z),z.stroke()}if(Z&&Z!==W){const q=u.left+l(Z.x),c=u.top+p(Z.y);z.beginPath(),z.arc(q,c,Math.max(.5,_e/I.k),0,Math.PI*2),e(22,z.fillStyle=B(Z[h]),z),e(22,z.globalAlpha=1,z),z.fill(),e(22,z.strokeStyle="black",z),e(22,z.lineWidth=Math.max(1,2/I.k),z),z.stroke()}z.restore()}}function Q(q){const c=y.getBoundingClientRect(),j=x/c.width,U=F/c.height,E=(q.clientX-c.left)*j,v=(q.clientY-c.top)*U,[M,X]=I.invert([E,v]),G=g.find(L=>{var Et,xt;const nt=u.left+l(L.x),H=u.top+p(L.y),V=nt-M,tt=H-X,it=Math.sqrt(V*V+tt*tt)<(_e+3)/I.k,dt=!!(w&&String(w).trim().length)?Le((Et=L.title)!=null?Et:"",w)||Le((xt=L.text)!=null?xt:"",w):!0,ht=m&&m.size>0&&m.size<r?m.has(L[h]):!0,ct=C&&A?L.date>=C&&L.date<=A:!0;return it&&(dt&&ht&&ct)});G?(e(11,Z=G),P=G,e(2,y.style.cursor="pointer",y)):(e(11,Z=null),P=null,e(2,y.style.cursor="crosshair",y)),D()}function J(q){const c=y.getBoundingClientRect(),j=x/c.width,U=F/c.height,E=(q.clientX-c.left)*j,v=(q.clientY-c.top)*U,[M,X]=I.invert([E,v]),G=g.find(L=>{var Et,xt;const nt=u.left+l(L.x),H=u.top+p(L.y),V=nt-M,tt=H-X,it=Math.sqrt(V*V+tt*tt)<(_e+3)/I.k,dt=!!(w&&String(w).trim().length)?Le((Et=L.title)!=null?Et:"",w)||Le((xt=L.text)!=null?xt:"",w):!0,ht=m&&m.size>0&&m.size<r?m.has(L[h]):!0,ct=C&&A?L.date>=C&&L.date<=A:!0;return it&&(dt&&ht&&ct)});if(!G){e(10,W=null),D();return}if(q.ctrlKey||q.metaKey){const L=G.url||G.link||G.href||G.permalink;L&&typeof window<"u"&&window.open(L,"_blank","noopener,noreferrer");return}W===G?e(10,W=null):e(10,W=G),D()}function $(){e(11,Z=P),D()}let ft;Pn(()=>(e(22,z=y.getContext("2d")),R(),window.ResizeObserver&&(ft=new ResizeObserver(()=>{R(),D()}),ft.observe(N)),O=Yl().scaleExtent([Gl,Ql]).filter(q=>{const c=q;return c.type==="wheel"||c.type==="touchstart"||c.type==="touchmove"?!0:c.type==="mousedown"?c.button===0&&!c.ctrlKey&&!c.metaKey&&!c.shiftKey:!c.ctrlKey&&!c.metaKey&&!c.shiftKey}).on("zoom",q=>{I=q.transform,D()}),Y=Xt(y),Y.call(O),D(),()=>{ft&&ft.disconnect()}));function pt(q,c){var E;if((E=c==null?void 0:c.stopPropagation)==null||E.call(c),!Y||!O)return;const j=x/2,U=F/2;Y.transition().duration(200).call(O.scaleBy,q,[j,U])}function at(q){pt(1.25,q)}function ot(q){pt(1/1.25,q)}function mt(q){var c;(c=q==null?void 0:q.stopPropagation)==null||c.call(q),!(!Y||!O)&&Y.transition().duration(200).call(O.transform,ln)}function ut(q){Ft[q?"unshift":"push"](()=>{y=q,e(2,y)})}function _t(q){Ft[q?"unshift":"push"](()=>{N=q,e(3,N)})}return t.$$set=q=>{"data"in q&&e(12,g=q.data),"domainColumn"in q&&e(13,h=q.domainColumn),"opacity"in q&&e(14,b=q.opacity),"selectedValues"in q&&e(15,m=q.selectedValues),"searchQuery"in q&&e(16,w=q.searchQuery),"showAnnotations"in q&&e(17,_=q.showAnnotations),"highlightedData"in q&&e(18,k=q.highlightedData),"startDate"in q&&e(19,C=q.startDate),"endDate"in q&&e(20,A=q.endDate),"uniqueValues"in q&&e(21,T=q.uniqueValues),"hoveredData"in q&&e(11,Z=q.hoveredData),"selectedData"in q&&e(10,W=q.selectedData)},t.$$.update=()=>{t.$$.dirty[0]&262144&&new Set(k.map(q=>q.id)),t.$$.dirty[0]&12288&&(r=new Set(g.map(q=>q[h])).size),t.$$.dirty[0]&1&&e(26,i=x-u.left-u.right),t.$$.dirty[0]&2&&e(23,s=F-u.top-u.bottom),t.$$.dirty[0]&4096&&e(28,a=[rr(g,q=>q.x),nr(g,q=>q.x)]),t.$$.dirty[0]&268435456&&e(27,o=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&201326592&&(l=Tn().domain(o).range([0,i])),t.$$.dirty[0]&4096&&e(25,f=[rr(g,q=>q.y),nr(g,q=>q.y)]),t.$$.dirty[0]&33554432&&e(24,d=f[0]===f[1]?[f[0]-1,f[1]+1]:f),t.$$.dirty[0]&25165824&&(p=Tn().domain(d).range([s,0])),t.$$.dirty[0]&2105344&&(B=Fn(ai).domain(h?T:[])),t.$$.dirty[0]&4096&&g.length&&new Date(Math.min(...g.map(q=>q.date.getTime()))),t.$$.dirty[0]&4096&&g.length&&new Date(Math.max(...g.map(q=>q.date.getTime()))),t.$$.dirty[0]&6026240&&z&&g.length&&D()},[x,F,y,N,Q,J,$,at,ot,mt,W,Z,g,h,b,m,w,_,k,C,A,T,z,s,d,f,i,o,a,ut,_t]}class $l extends cn{constructor(n){super(),fn(this,n,Jl,Kl,un,{data:12,domainColumn:13,opacity:14,selectedValues:15,searchQuery:16,showAnnotations:17,highlightedData:18,startDate:19,endDate:20,uniqueValues:21,hoveredData:11,selectedData:10},null,[-1,-1])}}function tu(t){let n,e,r,i,s,a,o,l,f;return{c(){n=lt("div"),e=lt("div"),r=lt("div"),i=bt(),s=lt("div"),a=bt(),o=lt("div"),et(r,"class","track-inner svelte-vytkle"),et(e,"class","track svelte-vytkle"),et(s,"class","thumb start-thumb svelte-vytkle"),Nt(s,"left",t[4]+"%"),et(o,"class","thumb end-thumb svelte-vytkle"),Nt(o,"left",t[3]+"%"),et(n,"class","range-slider svelte-vytkle"),Nt(n,"--start-percent",t[4]+"%"),Nt(n,"--end-percent",t[3]+"%")},m(d,p){vt(d,n,p),st(n,e),st(e,r),st(n,i),st(n,s),t[13](s),st(n,a),st(n,o),t[16](o),t[19](n),l||(f=[St(r,"mousedown",t[11]),St(r,"touchstart",t[12]),St(s,"mousedown",t[14]),St(s,"touchstart",t[15]),St(o,"mousedown",t[17]),St(o,"touchstart",t[18])],l=!0)},p(d,[p]){p&16&&Nt(s,"left",d[4]+"%"),p&8&&Nt(o,"left",d[3]+"%"),p&16&&Nt(n,"--start-percent",d[4]+"%"),p&8&&Nt(n,"--end-percent",d[3]+"%")},i:Dt,o:Dt,d(d){d&&yt(n),t[13](null),t[16](null),t[19](null),l=!1,Vt(f)}}}function eu(t,n,e){let r,i,{min:s=0}=n,{max:a=100}=n,{startValue:o}=n,{endValue:l}=n;const f=jr();let d,p,g,h=!1,b=null,m=null,w=0;function _(I,O){h=!0,b=O,m=d.getBoundingClientRect(),O==="range"&&(w=l-o),window.addEventListener("mousemove",k),window.addEventListener("mouseup",C)}function k(I){if(!h)return;const O=Math.min(Math.max(0,(I.clientX-m.left)/m.width),1),Y=Math.round(O*(a-s)+s);if(b==="start")e(7,o=Math.min(Y,l)),f("startChange",o);else if(b==="end")e(8,l=Math.max(Y,o)),f("endChange",l);else if(b==="range"){let B=Y-Math.floor(w/2),K=Y+Math.ceil(w/2);B<s&&(B=s,K=s+w),K>a&&(K=a,B=a-w),B=Math.max(s,B),K=Math.min(a,K),e(7,o=B),e(8,l=K),f("startChange",o),f("endChange",l)}}function C(){h=!1,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",C)}function A(I,O){I.preventDefault(),h=!0,b=O,m=d.getBoundingClientRect(),O==="range"&&(w=l-o),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",Z)}function T(I){if(I.preventDefault(),!h)return;const O=I.touches[0],Y=Math.min(Math.max(0,(O.clientX-m.left)/m.width),1),B=Math.round(Y*(a-s)+s);if(b==="start")e(7,o=Math.min(B,l)),f("startChange",o);else if(b==="end")e(8,l=Math.max(B,o)),f("endChange",l);else if(b==="range"){let K=B-Math.floor(w/2),R=B+Math.ceil(w/2);K<s&&(K=s,R=s+w),R>a&&(R=a,K=a-w),K=Math.max(s,K),R=Math.min(a,R),e(7,o=K),e(8,l=R),f("startChange",o),f("endChange",l)}}function Z(){h=!1,window.removeEventListener("touchmove",T),window.removeEventListener("touchend",Z)}const W=I=>_(I,"range"),S=I=>A(I,"range");function y(I){Ft[I?"unshift":"push"](()=>{p=I,e(1,p)})}const N=I=>_(I,"start"),z=I=>A(I,"start");function x(I){Ft[I?"unshift":"push"](()=>{g=I,e(2,g)})}const F=I=>_(I,"end"),u=I=>A(I,"end");function P(I){Ft[I?"unshift":"push"](()=>{d=I,e(0,d)})}return t.$$set=I=>{"min"in I&&e(9,s=I.min),"max"in I&&e(10,a=I.max),"startValue"in I&&e(7,o=I.startValue),"endValue"in I&&e(8,l=I.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&e(4,r=a>s?(o-s)/(a-s)*100:0),t.$$.dirty&1792&&e(3,i=a>s?(l-s)/(a-s)*100:100)},[d,p,g,i,r,_,A,o,l,s,a,W,S,y,N,z,x,F,u,P]}class nu extends cn{constructor(n){super(),fn(this,n,eu,tu,un,{min:9,max:10,startValue:7,endValue:8})}}function ru(t){let n,e=t[4]?"Click on a circle to pin it here.":"Hover over a circle to see details here.",r;return{c(){n=lt("p"),r=At(e),et(n,"class","placeholder-text svelte-qhojlu")},m(i,s){vt(i,n,s),st(n,r)},p(i,s){s&16&&e!==(e=i[4]?"Click on a circle to pin it here.":"Hover over a circle to see details here.")&&It(r,e)},d(i){i&&yt(n)}}}function iu(t){let n,e,r,i,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",a,o,l,f=t[0].date.toISOString().split("T")[0]+"",d,p,g,h,b=he(t[0].text,t[3])+"",m=t[4]&&zr(t);function w(A,T){return A[0].url||A[0].link||A[0].href||A[0].permalink?au:su}let _=w(t),k=_(t),C=t[6]&&Dr(t);return{c(){m&&m.c(),n=bt(),k.c(),e=bt(),r=lt("div"),i=lt("span"),a=At(s),o=bt(),l=lt("h2"),d=At(f),p=bt(),C&&C.c(),g=bt(),h=lt("p"),Nt(i,"background",t[2](t[0][t[1]])),et(i,"class","svelte-qhojlu"),et(l,"class","svelte-qhojlu"),et(r,"class","metadata-row svelte-qhojlu"),et(h,"class","svelte-qhojlu")},m(A,T){m&&m.m(A,T),vt(A,n,T),k.m(A,T),vt(A,e,T),vt(A,r,T),st(r,i),st(i,a),st(r,o),st(r,l),st(l,d),vt(A,p,T),C&&C.m(A,T),vt(A,g,T),vt(A,h,T),h.innerHTML=b},p(A,T){A[4]?m?m.p(A,T):(m=zr(A),m.c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),_===(_=w(A))&&k?k.p(A,T):(k.d(1),k=_(A),k&&(k.c(),k.m(e.parentNode,e))),T&35&&s!==(s=(A[5]?A[5](A[1],A[0][A[1]]):A[0][A[1]])+"")&&It(a,s),T&7&&Nt(i,"background",A[2](A[0][A[1]])),T&1&&f!==(f=A[0].date.toISOString().split("T")[0]+"")&&It(d,f),A[6]?C?C.p(A,T):(C=Dr(A),C.c(),C.m(g.parentNode,g)):C&&(C.d(1),C=null),T&9&&b!==(b=he(A[0].text,A[3])+"")&&(h.innerHTML=b)},d(A){m&&m.d(A),A&&yt(n),k.d(A),A&&yt(e),A&&yt(r),A&&yt(p),C&&C.d(A),A&&yt(g),A&&yt(h)}}}function zr(t){let n,e,r,i,s,a;return{c(){n=lt("div"),e=lt("span"),e.textContent="\u{1F4CC} Pinned",r=bt(),i=lt("button"),i.textContent="\u2715",et(e,"class","pin-indicator svelte-qhojlu"),et(i,"class","unpin-btn svelte-qhojlu"),et(n,"class","pin-header svelte-qhojlu")},m(o,l){vt(o,n,l),st(n,e),st(n,r),st(n,i),s||(a=St(i,"click",t[9]),s=!0)},p:Dt,d(o){o&&yt(n),s=!1,a()}}}function su(t){let n,e=he(t[0].title,t[3])+"";return{c(){n=lt("h1"),et(n,"class","svelte-qhojlu")},m(r,i){vt(r,n,i),n.innerHTML=e},p(r,i){i&9&&e!==(e=he(r[0].title,r[3])+"")&&(n.innerHTML=e)},d(r){r&&yt(n)}}}function au(t){let n,e,r=he(t[0].title,t[3])+"",i;return{c(){n=lt("a"),e=lt("h1"),et(e,"class","svelte-qhojlu"),et(n,"href",i=t[0].url||t[0].link||t[0].href||t[0].permalink),et(n,"target","_blank"),et(n,"rel","noopener noreferrer"),et(n,"class","title-link svelte-qhojlu")},m(s,a){vt(s,n,a),st(n,e),e.innerHTML=r},p(s,a){a&9&&r!==(r=he(s[0].title,s[3])+"")&&(e.innerHTML=r),a&1&&i!==(i=s[0].url||s[0].link||s[0].href||s[0].permalink)&&et(n,"href",i)},d(s){s&&yt(n)}}}function Dr(t){let n=t[6](t[1],t[0][t[1]]),e,r=n&&Tr(t);return{c(){r&&r.c(),e=Ur()},m(i,s){r&&r.m(i,s),vt(i,e,s)},p(i,s){s&67&&(n=i[6](i[1],i[0][i[1]])),n?r?r.p(i,s):(r=Tr(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&yt(e)}}}function Tr(t){let n,e,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){n=lt("p"),e=lt("em"),i=At(r),et(n,"class","svelte-qhojlu")},m(s,a){vt(s,n,a),st(n,e),st(e,i)},p(s,a){a&67&&r!==(r=s[6](s[1],s[0][s[1]])+"")&&It(i,r)},d(s){s&&yt(n)}}}function ou(t){let n;function e(s,a){return s[0]?iu:ru}let r=e(t),i=r(t);return{c(){n=lt("div"),i.c(),et(n,"class","detail-card svelte-qhojlu")},m(s,a){vt(s,n,a),i.m(n,null)},p(s,[a]){r===(r=e(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(n,null)))},i:Dt,o:Dt,d(s){s&&yt(n),i.d()}}}function he(t,n){if(!n||!t)return t;try{const e=new RegExp(`(${n})`,"gi");return t.replace(e,"<mark>$1</mark>")}catch{const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${r})`,"gi");return t.replace(i,"<mark>$1</mark>")}}function lu(t,n,e){const r=jr();let{hoveredData:i}=n,{domainColumn:s}=n,{data:a}=n,{colorScale:o}=n,{searchQuery:l=""}=n,{isPinned:f=!1}=n,{labelOverride:d=null}=n,{descriptionOverride:p=null}=n;Pn(()=>{o.domain(a.map(h=>h[s]))});const g=()=>r("unpin");return t.$$set=h=>{"hoveredData"in h&&e(0,i=h.hoveredData),"domainColumn"in h&&e(1,s=h.domainColumn),"data"in h&&e(8,a=h.data),"colorScale"in h&&e(2,o=h.colorScale),"searchQuery"in h&&e(3,l=h.searchQuery),"isPinned"in h&&e(4,f=h.isPinned),"labelOverride"in h&&e(5,d=h.labelOverride),"descriptionOverride"in h&&e(6,p=h.descriptionOverride)},[i,s,o,l,f,d,p,r,a,g]}class uu extends cn{constructor(n){super(),fn(this,n,lu,ou,un,{hoveredData:0,domainColumn:1,data:8,colorScale:2,searchQuery:3,isPinned:4,labelOverride:5,descriptionOverride:6})}}function Rr(t,n,e){const r=t.slice();return r[62]=n[e],r}function Ir(t,n,e){const r=t.slice();return r[65]=n[e],r}function Or(t){let n,e,r,i,s,a,o=t[13],l=[];for(let f=0;f<o.length;f+=1)l[f]=Mr(Ir(t,o,f));return{c(){n=lt("label"),n.textContent="\u{1F3A8} Color by Column:",e=bt(),r=lt("select"),i=lt("option"),i.textContent="Select column";for(let f=0;f<l.length;f+=1)l[f].c();et(n,"for","domain-column"),et(n,"class","svelte-1b747r1"),i.__value="",i.value=i.__value,i.disabled=!0,et(r,"id","domain-column"),et(r,"class","svelte-1b747r1"),t[2]===void 0&&Xe(()=>t[38].call(r))},m(f,d){vt(f,n,d),vt(f,e,d),vt(f,r,d),st(r,i);for(let p=0;p<l.length;p+=1)l[p].m(r,null);Jn(r,t[2]),s||(a=[St(r,"change",t[27]),St(r,"change",t[38])],s=!0)},p(f,d){if(d[0]&8192){o=f[13];let p;for(p=0;p<o.length;p+=1){const g=Ir(f,o,p);l[p]?l[p].p(g,d):(l[p]=Mr(g),l[p].c(),l[p].m(r,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=o.length}d[0]&8196&&Jn(r,f[2])},d(f){f&&yt(n),f&&yt(e),f&&yt(r),Lr(l,f),s=!1,Vt(a)}}}function Mr(t){let n,e=t[65]+"",r,i;return{c(){n=lt("option"),r=At(e),n.__value=i=t[65],n.value=n.__value},m(s,a){vt(s,n,a),st(n,r)},p(s,a){a[0]&8192&&e!==(e=s[65]+"")&&It(r,e),a[0]&8192&&i!==(i=s[65])&&(n.__value=i,n.value=n.__value)},d(s){s&&yt(n)}}}function Nr(t){let n,e,r,i,s,a=t[3],o=[];for(let l=0;l<a.length;l+=1)o[l]=Br(Rr(t,a,l));return{c(){n=lt("label"),n.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",e=bt(),r=lt("select");for(let l=0;l<o.length;l+=1)o[l].c();et(n,"for","value-select"),et(n,"class","svelte-1b747r1"),et(r,"id","value-select"),r.multiple=!0,et(r,"size","5"),et(r,"class","multi-select svelte-1b747r1")},m(l,f){vt(l,n,f),vt(l,e,f),vt(l,r,f);for(let d=0;d<o.length;d+=1)o[d].m(r,null);i||(s=St(r,"change",t[28]),i=!0)},p(l,f){if(f[0]&24){a=l[3];let d;for(d=0;d<a.length;d+=1){const p=Rr(l,a,d);o[d]?o[d].p(p,f):(o[d]=Br(p),o[d].c(),o[d].m(r,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}},d(l){l&&yt(n),l&&yt(e),l&&yt(r),Lr(o,l),i=!1,s()}}}function Br(t){let n,e=t[62]+"",r,i,s;return{c(){n=lt("option"),r=At(e),n.__value=i=t[62],n.value=n.__value,n.selected=s=t[4].has(t[62])},m(a,o){vt(a,n,o),st(n,r)},p(a,o){o[0]&8&&e!==(e=a[62]+"")&&It(r,e),o[0]&8&&i!==(i=a[62])&&(n.__value=i,n.value=n.__value),o[0]&24&&s!==(s=a[4].has(a[62]))&&(n.selected=s)},d(a){a&&yt(n)}}}function fu(t){let n;return{c(){n=At("\u25B6")},m(e,r){vt(e,n,r)},d(e){e&&yt(n)}}}function cu(t){let n;return{c(){n=At("\u275A\u275A")},m(e,r){vt(e,n,r)},d(e){e&&yt(n)}}}function hu(t){let n;return{c(){n=lt("p"),n.textContent="Waiting for data"},m(e,r){vt(e,n,r)},p:Dt,i:Dt,o:Dt,d(e){e&&yt(n)}}}function du(t){let n,e,r;function i(d,p){return d[19]==="downloading"?yu:d[19]==="unzipping"?_u:d[19]==="parsing"?gu:mu}let s=i(t),a=s(t);function o(d,p){return d[19]==="downloading"?vu:wu}let l=o(t),f=l(t);return{c(){n=lt("div"),e=lt("div"),a.c(),r=bt(),f.c(),et(e,"class","progress-header svelte-1b747r1"),et(n,"class","progress-wrap svelte-1b747r1")},m(d,p){vt(d,n,p),st(n,e),a.m(e,null),st(n,r),f.m(n,null)},p(d,p){s===(s=i(d))&&a?a.p(d,p):(a.d(1),a=s(d),a&&(a.c(),a.m(e,null))),l===(l=o(d))&&f?f.p(d,p):(f.d(1),f=l(d),f&&(f.c(),f.m(n,null)))},i:Dt,o:Dt,d(d){d&&yt(n),a.d(),f.d()}}}function pu(t){let n,e,r,i;function s(l){t[50](l)}function a(l){t[51](l)}let o={data:t[15],domainColumn:t[2],selectedValues:t[4],opacity:t[14],searchQuery:t[10],showAnnotations:t[17],highlightedData:t[9],startDate:t[5],endDate:t[6],uniqueValues:t[3]};return t[11]!==void 0&&(o.hoveredData=t[11]),t[12]!==void 0&&(o.selectedData=t[12]),n=new $l({props:o}),Ft.push(()=>Ke(n,"hoveredData",s)),Ft.push(()=>Ke(n,"selectedData",a)),{c(){kn(n.$$.fragment)},m(l,f){Ge(n,l,f),i=!0},p(l,f){const d={};f[0]&32768&&(d.data=l[15]),f[0]&4&&(d.domainColumn=l[2]),f[0]&16&&(d.selectedValues=l[4]),f[0]&16384&&(d.opacity=l[14]),f[0]&1024&&(d.searchQuery=l[10]),f[0]&131072&&(d.showAnnotations=l[17]),f[0]&512&&(d.highlightedData=l[9]),f[0]&32&&(d.startDate=l[5]),f[0]&64&&(d.endDate=l[6]),f[0]&8&&(d.uniqueValues=l[3]),!e&&f[0]&2048&&(e=!0,d.hoveredData=l[11],Ye(()=>e=!1)),!r&&f[0]&4096&&(r=!0,d.selectedData=l[12],Ye(()=>r=!1)),n.$set(d)},i(l){i||(se(n.$$.fragment,l),i=!0)},o(l){we(n.$$.fragment,l),i=!1},d(l){Qe(n,l)}}}function mu(t){let n;return{c(){n=At("Loading...")},m(e,r){vt(e,n,r)},p:Dt,d(e){e&&yt(n)}}}function gu(t){let n;return{c(){n=At("Parsing CSV...")},m(e,r){vt(e,n,r)},p:Dt,d(e){e&&yt(n)}}}function _u(t){let n;return{c(){n=At("Unzipping...")},m(e,r){vt(e,n,r)},p:Dt,d(e){e&&yt(n)}}}function yu(t){let n,e=t[0].toLowerCase().endsWith(".zip")?"ZIP":"CSV",r,i;return{c(){n=At("Downloading "),r=At(e),i=At("...")},m(s,a){vt(s,n,a),vt(s,r,a),vt(s,i,a)},p(s,a){a[0]&1&&e!==(e=s[0].toLowerCase().endsWith(".zip")?"ZIP":"CSV")&&It(r,e)},d(s){s&&yt(n),s&&yt(r),s&&yt(i)}}}function wu(t){let n;return{c(){n=lt("div"),et(n,"class","progress-bar indeterminate svelte-1b747r1")},m(e,r){vt(e,n,r)},p:Dt,d(e){e&&yt(n)}}}function vu(t){let n;function e(s,a){return s[21]?ku:bu}let r=e(t),i=r(t);return{c(){i.c(),n=Ur()},m(s,a){i.m(s,a),vt(s,n,a)},p(s,a){r===(r=e(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(n.parentNode,n)))},d(s){i.d(s),s&&yt(n)}}}function bu(t){let n,e,r,i=oe(t[20])+"",s;return{c(){n=lt("div"),e=bt(),r=lt("div"),s=At(i),et(n,"class","progress-bar indeterminate svelte-1b747r1"),et(r,"class","progress-label svelte-1b747r1")},m(a,o){vt(a,n,o),vt(a,e,o),vt(a,r,o),st(r,s)},p(a,o){o[0]&1048576&&i!==(i=oe(a[20])+"")&&It(s,i)},d(a){a&&yt(n),a&&yt(e),a&&yt(r)}}}function ku(t){let n,e,r,i,s,a,o=oe(t[20])+"",l,f,d=oe(t[21])+"",p,g;return{c(){n=lt("div"),e=lt("div"),r=bt(),i=lt("div"),s=At(t[22]),a=At("% ("),l=At(o),f=At(" / "),p=At(d),g=At(")"),et(e,"class","progress-fill svelte-1b747r1"),Nt(e,"width",t[22]+"%"),et(n,"class","progress-bar svelte-1b747r1"),et(i,"class","progress-label svelte-1b747r1")},m(h,b){vt(h,n,b),st(n,e),vt(h,r,b),vt(h,i,b),st(i,s),st(i,a),st(i,l),st(i,f),st(i,p),st(i,g)},p(h,b){b[0]&4194304&&Nt(e,"width",h[22]+"%"),b[0]&4194304&&It(s,h[22]),b[0]&1048576&&o!==(o=oe(h[20])+"")&&It(l,o),b[0]&2097152&&d!==(d=oe(h[21])+"")&&It(p,d)},d(h){h&&yt(n),h&&yt(r),h&&yt(i)}}}function xu(t){let n,e,r,i,s,a,o,l,f,d,p,g,h,b,m,w,_,k,C,A,T,Z,W,S,y,N,z,x,F,u,P,I,O,Y,B,K,R,D,Q,J,$,ft,pt,at=Mt(t[5])+"",ot,mt,ut,_t=Mt(t[6])+"",q,c,j,U,E,v,M,X,G,L,nt,H,V,tt,it,rt,dt,kt,ht,ct,wt,Et,xt=t[13].length&&Or(t),Ct=t[3].length&&Nr(t);function Yt(gt){t[42](gt)}function ie(gt){t[43](gt)}let de={min:0,max:t[23]};t[7]!==void 0&&(de.startValue=t[7]),t[8]!==void 0&&(de.endValue=t[8]),D=new nu({props:de}),Ft.push(()=>Ke(D,"startValue",Yt)),Ft.push(()=>Ke(D,"endValue",ie)),D.$on("startChange",t[44]),D.$on("endChange",t[45]);function Te(gt,zt){return gt[16]?cu:fu}let Kt=Te(t),Tt=Kt(t);const Gt=[pu,du,hu],qt=[];function Kn(gt,zt){return gt[15].length?0:gt[18]?1:2}return it=Kn(t),rt=qt[it]=Gt[it](t),ht=new uu({props:{hoveredData:t[26],data:t[1],domainColumn:t[2],colorScale:t[25],searchQuery:t[10],isPinned:!!t[12]}}),ht.$on("unpin",t[52]),{c(){n=lt("div"),e=lt("div"),e.innerHTML=`<h1 class="title svelte-1b747r1">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the
      articles are similar in meaning.</p>`,r=bt(),i=lt("div"),s=lt("div"),a=lt("div"),o=lt("button"),o.textContent="Reset filters",l=bt(),f=lt("div"),f.innerHTML=`<details class="svelte-1b747r1"><summary class="svelte-1b747r1"><span class="toggle-icon svelte-1b747r1">+</span> What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-1b747r1"><p class="svelte-1b747r1">Semantic maps are tools that allow users to visually explore how
              different topics and ideas are connected. By analyzing the
              relationships between articles, these maps can reveal patterns and
              clusters in the data.</p> 
            <p class="svelte-1b747r1">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-1b747r1"><li class="svelte-1b747r1">Audit their coverage by identifying themes that may be
                underrepresented or overlooked.</li> 
              <li class="svelte-1b747r1">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-1b747r1">Discover which topics are being covered by other outlets,
                offering opportunities to adjust their editorial focus or
                collaborate.</li></ul></div></details>`,d=bt(),p=lt("label"),p.textContent="\u{1F4C1} Upload CSV or ZIP:",g=bt(),h=lt("input"),b=bt(),m=lt("div"),m.innerHTML=`<details class="svelte-1b747r1"><summary class="svelte-1b747r1"><span class="toggle-icon svelte-1b747r1">+</span> CSV File Requirements</summary> 
          <div class="info-box-content svelte-1b747r1"><p class="svelte-1b747r1">Your CSV file must include the following columns:</p> 
            <ul class="svelte-1b747r1"><li class="svelte-1b747r1"><strong class="svelte-1b747r1">x, y</strong> - Numeric coordinates for positioning points on the scatterplot</li> 
              <li class="svelte-1b747r1"><strong class="svelte-1b747r1">date</strong> - Date field for timeline filtering (ISO format recommended)</li> 
              <li class="svelte-1b747r1"><strong class="svelte-1b747r1">title</strong> - Article headline or title (searchable)</li> 
              <li class="svelte-1b747r1"><strong class="svelte-1b747r1">text</strong> - Article body or description (searchable)</li> 
              <li class="svelte-1b747r1"><strong class="svelte-1b747r1">org or state</strong> - Categorical field for color-coding points (at least one required)</li></ul> 
            <p class="svelte-1b747r1"><strong class="svelte-1b747r1">Optional columns:</strong></p> 
            <ul class="svelte-1b747r1"><li class="svelte-1b747r1"><strong class="svelte-1b747r1">url, link, href, or permalink</strong> - Clickable link (Ctrl/Cmd + Click to open)</li></ul> 
            <p class="svelte-1b747r1"><em>Note: Column names are case-insensitive.</em></p></div></details>`,w=bt(),_=lt("label"),_.textContent="\u{1F50D} Search Text (supports regex):",k=bt(),C=lt("input"),A=bt(),xt&&xt.c(),T=bt(),Ct&&Ct.c(),Z=bt(),W=lt("label"),W.textContent="\u{1F4A1} Adjust Opacity:",S=bt(),y=lt("input"),N=bt(),z=lt("div"),x=lt("label"),x.textContent="\u{1F4C5} Date Range:",F=bt(),u=lt("input"),O=bt(),Y=lt("input"),R=bt(),kn(D.$$.fragment),$=bt(),ft=lt("div"),pt=lt("span"),ot=At(at),mt=bt(),ut=lt("span"),q=At(_t),c=bt(),j=lt("div"),U=lt("button"),U.textContent="-1W",E=bt(),v=lt("button"),v.textContent="-1D",M=bt(),X=lt("button"),Tt.c(),G=bt(),L=lt("button"),L.textContent="+1D",nt=bt(),H=lt("button"),H.textContent="+1W",V=bt(),tt=lt("div"),rt.c(),dt=bt(),kt=lt("div"),kn(ht.$$.fragment),et(e,"class","title-section svelte-1b747r1"),et(o,"class","reset-btn svelte-1b747r1"),et(a,"class","filter-actions svelte-1b747r1"),et(f,"class","nerd-box svelte-1b747r1"),et(p,"for","file-upload"),et(p,"class","svelte-1b747r1"),et(h,"id","file-upload"),et(h,"type","file"),et(h,"accept",".csv,.zip"),et(h,"class","svelte-1b747r1"),et(m,"class","info-box svelte-1b747r1"),et(_,"for","search-input"),et(_,"class","svelte-1b747r1"),et(C,"id","search-input"),et(C,"type","text"),et(C,"placeholder","Search or regex pattern..."),et(C,"class","svelte-1b747r1"),et(W,"for","opacity-slider"),et(W,"class","svelte-1b747r1"),et(y,"id","opacity-slider"),et(y,"type","range"),et(y,"min","0"),et(y,"max",".3"),et(y,"step","0.01"),et(y,"class","svelte-1b747r1"),et(x,"for","start-date"),et(x,"class","svelte-1b747r1"),et(u,"id","start-date"),et(u,"type","date"),u.value=P=Mt(t[5]),et(u,"max",I=Mt(t[24])),et(u,"class","svelte-1b747r1"),et(Y,"id","end-date"),et(Y,"type","date"),Y.value=B=Mt(t[6]),et(Y,"max",K=Mt(t[24])),et(Y,"class","svelte-1b747r1"),et(ft,"class","date-range-labels svelte-1b747r1"),et(U,"class","svelte-1b747r1"),et(v,"class","svelte-1b747r1"),et(X,"class","play-button svelte-1b747r1"),et(L,"class","svelte-1b747r1"),et(H,"class","svelte-1b747r1"),et(j,"class","date-navigation svelte-1b747r1"),et(z,"class","date-controls svelte-1b747r1"),et(s,"class","filter-panel left-panel svelte-1b747r1"),et(tt,"class","scatterplot-container svelte-1b747r1"),et(kt,"class","detail-panel svelte-1b747r1"),et(i,"class","content svelte-1b747r1"),et(n,"class","container svelte-1b747r1")},m(gt,zt){vt(gt,n,zt),st(n,e),st(n,r),st(n,i),st(i,s),st(s,a),st(a,o),st(s,l),st(s,f),st(s,d),st(s,p),st(s,g),st(s,h),st(s,b),st(s,m),st(s,w),st(s,_),st(s,k),st(s,C),st(s,A),xt&&xt.m(s,null),st(s,T),Ct&&Ct.m(s,null),st(s,Z),st(s,W),st(s,S),st(s,y),Qn(y,t[14]),st(s,N),st(s,z),st(z,x),st(z,F),st(z,u),st(z,O),st(z,Y),st(z,R),Ge(D,z,null),st(z,$),st(z,ft),st(ft,pt),st(pt,ot),st(ft,mt),st(ft,ut),st(ut,q),st(z,c),st(z,j),st(j,U),st(j,E),st(j,v),st(j,M),st(j,X),Tt.m(X,null),st(j,G),st(j,L),st(j,nt),st(j,H),st(i,V),st(i,tt),qt[it].m(tt,null),st(i,dt),st(i,kt),Ge(ht,kt,null),ct=!0,wt||(Et=[St(o,"click",t[35]),St(h,"change",t[30]),St(C,"input",t[33]),St(y,"change",t[39]),St(y,"input",t[39]),St(y,"input",t[34]),St(u,"change",t[40]),St(Y,"change",t[41]),St(U,"click",t[46]),St(v,"click",t[47]),St(X,"click",t[32]),St(L,"click",t[48]),St(H,"click",t[49])],wt=!0)},p(gt,zt){gt[13].length?xt?xt.p(gt,zt):(xt=Or(gt),xt.c(),xt.m(s,T)):xt&&(xt.d(1),xt=null),gt[3].length?Ct?Ct.p(gt,zt):(Ct=Nr(gt),Ct.c(),Ct.m(s,Z)):Ct&&(Ct.d(1),Ct=null),zt[0]&16384&&Qn(y,gt[14]),(!ct||zt[0]&32&&P!==(P=Mt(gt[5])))&&(u.value=P),(!ct||zt[0]&16777216&&I!==(I=Mt(gt[24])))&&et(u,"max",I),(!ct||zt[0]&64&&B!==(B=Mt(gt[6])))&&(Y.value=B),(!ct||zt[0]&16777216&&K!==(K=Mt(gt[24])))&&et(Y,"max",K);const Re={};zt[0]&8388608&&(Re.max=gt[23]),!Q&&zt[0]&128&&(Q=!0,Re.startValue=gt[7],Ye(()=>Q=!1)),!J&&zt[0]&256&&(J=!0,Re.endValue=gt[8],Ye(()=>J=!1)),D.$set(Re),(!ct||zt[0]&32)&&at!==(at=Mt(gt[5])+"")&&It(ot,at),(!ct||zt[0]&64)&&_t!==(_t=Mt(gt[6])+"")&&It(q,_t),Kt!==(Kt=Te(gt))&&(Tt.d(1),Tt=Kt(gt),Tt&&(Tt.c(),Tt.m(X,null)));let mn=it;it=Kn(gt),it===mn?qt[it].p(gt,zt):(Ii(),we(qt[mn],1,1,()=>{qt[mn]=null}),Oi(),rt=qt[it],rt?rt.p(gt,zt):(rt=qt[it]=Gt[it](gt),rt.c()),se(rt,1),rt.m(tt,null));const Qt={};zt[0]&67108864&&(Qt.hoveredData=gt[26]),zt[0]&2&&(Qt.data=gt[1]),zt[0]&4&&(Qt.domainColumn=gt[2]),zt[0]&33554432&&(Qt.colorScale=gt[25]),zt[0]&1024&&(Qt.searchQuery=gt[10]),zt[0]&4096&&(Qt.isPinned=!!gt[12]),ht.$set(Qt)},i(gt){ct||(se(D.$$.fragment,gt),se(rt),se(ht.$$.fragment,gt),ct=!0)},o(gt){we(D.$$.fragment,gt),we(rt),we(ht.$$.fragment,gt),ct=!1},d(gt){gt&&yt(n),xt&&xt.d(),Ct&&Ct.d(),Qe(D),Tt.d(),qt[it].d(),Qe(ht),wt=!1,Vt(Et)}}}function Su(){try{const t=new URLSearchParams(window.location.search),n=t.get("url"),e=t.get("filename"),r=t.get("bucket");if(n&&/^https?:\/\//i.test(n))return n;if(e){let i="";return r?/^https?:\/\//i.test(r)?i=r:r.includes(".")?i=`https://${r}`:i=`https://${r}.s3.amazonaws.com`:i={BASE_URL:"/semantic-map/",MODE:"production",DEV:!1,PROD:!0}.VITE_S3_BASE_URL||{BASE_URL:"/semantic-map/",MODE:"production",DEV:!1,PROD:!0}.VITE_DATA_BASE_URL||"https://pink-slime-public.s3.amazonaws.com/",i&&!i.endsWith("/")&&(i+="/"),i?i+e:e}return{BASE_URL:"/semantic-map/",MODE:"production",DEV:!1,PROD:!0}.VITE_DATA_URL||"data.csv"}catch(t){return console.warn("Failed to resolve data URL from query params:",t),{BASE_URL:"/semantic-map/",MODE:"production",DEV:!1,PROD:!0}.VITE_DATA_URL||"data.csv"}}function oe(t){if(!t||t<=0)return"0 KB";const n=["B","KB","MB","GB","TB"];let e=t,r=0;for(;e>=1024&&r<n.length-1;)e/=1024,r++;const i=r===0?0:1;return`${e.toFixed(i)} ${n[r]}`}function Mt(t){return t?t.toISOString().split("T")[0]:""}function Eu(t,n,e){let r,i,s,a,o,l="",f=[],d=[],p="org",g=[],h=new Set,b=.02,m=null,w=null,_=[],k=[],C=0,A=0,T=!1,Z=null,W=[],S="",y=!1,N=null,z=null,x=!1,F="idle",u=0,P=0,I=0;Pn(async()=>{try{e(18,x=!0),e(19,F="downloading"),e(20,u=0),e(21,P=0),e(22,I=0),e(0,l=Su());const H=l.toLowerCase().endsWith(".zip"),V=await fetch(l,{mode:"cors",cache:"no-store"});if(!V.ok)throw new Error(`HTTP ${V.status}`);const tt=V.headers.get("content-length");e(21,P=tt?parseInt(tt,10):0);let it;if(V.body&&V.body.getReader){const dt=V.body.getReader(),kt=[];let ht=0;for(;;){const{done:Et,value:xt}=await dt.read();if(Et)break;kt.push(xt),ht+=xt.byteLength,e(20,u=ht),P&&e(22,I=Math.round(ht/P*100))}const ct=new Uint8Array(ht);let wt=0;for(const Et of kt)ct.set(Et,wt),wt+=Et.byteLength;it=ct}else{const dt=await V.arrayBuffer();it=new Uint8Array(dt)}let rt="";if(H){e(19,F="unzipping"),await pe(),await new Promise(ct=>setTimeout(ct,100));const kt=await new $n().loadAsync(it),ht=Object.keys(kt.files).find(ct=>ct.toLowerCase().endsWith(".csv")&&!kt.files[ct].dir);if(!ht)throw new Error("No CSV file found in ZIP archive");console.log(`Extracting ${ht} from ZIP...`),rt=await kt.files[ht].async("text"),console.log("CSV head:",rt.split(`
`).slice(0,5).join(`
`)),await new Promise(ct=>setTimeout(ct,100))}else rt=new TextDecoder().decode(it),console.log("CSV head:",rt.split(`
`).slice(0,5).join(`
`)),await new Promise(dt=>setTimeout(dt,100));e(19,F="parsing"),await pe(),await new Promise(dt=>setTimeout(dt,100)),await O(rt),await new Promise(dt=>setTimeout(dt,100)),e(19,F="idle")}catch(H){console.error("Failed to load data:",H)}finally{e(18,x=!1)}return()=>{Z&&clearInterval(Z)}});function O(H){return new Promise((V,tt)=>{Ni.parse(H,{header:!0,worker:!1,transformHeader:it=>it.trim().toLowerCase(),complete:it=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{try{e(1,f=it.data.filter(rt=>rt.x&&rt.y&&rt.date).map((rt,dt)=>({...rt,x:+rt.x,y:+rt.y,date:new Date(rt.date),id:dt}))),e(36,d=it.meta.fields||[]),e(37,k=[...new Set(f.map(rt=>rt.date.getTime()))].sort((rt,dt)=>rt-dt).map(rt=>new Date(rt))),e(5,m=k[0]),e(6,w=k[k.length-1]),e(7,C=0),e(8,A=k.length-1),R(),p&&e(3,g=[...new Set(f.map(rt=>rt[p]).filter(rt=>rt!=null&&rt!==""))].sort((rt,dt)=>String(rt).localeCompare(String(dt)))),V()}catch(rt){console.error("Post-processing error:",rt),tt(rt)}})})},error:it=>{console.error("Papa Parse error:",it),tt(it)}})})}function Y(H){e(2,p=H.target.value),e(3,g=p?[...new Set(f.map(V=>V[p]).filter(Boolean))].sort((V,tt)=>String(V).localeCompare(String(tt))):[]),e(4,h=new Set),e(17,y=!1)}function B(H){const V=[...H.target.selectedOptions].map(it=>it.value);V.length===g.length||V.length===0?(e(4,h=new Set),e(9,W=[])):(e(4,h=new Set(V)),e(9,W=f.filter(it=>h.has(it[p])&&(!m||it.date>=m)&&(!w||it.date<=w)))),e(17,y=!1)}function K(H,V,tt=!1){tt?(e(5,m=k[H]||k[0]),e(6,w=k[V]||k[k.length-1])):(e(5,m=H),e(6,w=V)),e(17,y=!1),R()}function R(){if(m){const H=m.getTime();e(7,C=Math.max(0,k.findIndex(V=>V.getTime()>=H)))}else e(7,C=0);if(w){const H=w.getTime();let V=-1;for(let tt=k.length-1;tt>=0;tt--)if(k[tt].getTime()<=H){V=tt;break}e(8,A=V>=0?V:k.length-1)}else e(8,A=k.length-1);C>A&&e(7,C=A),A<C&&e(8,A=C)}function D(H,V){if(H.detail!==void 0)V==="start"?(e(7,C=H.detail),C>A&&e(7,C=A)):(e(8,A=H.detail),A<C&&e(8,A=C)),K(C,A,!0);else{const tt=H.target.value?new Date(H.target.value):null;V==="start"?K(tt,w):K(m,tt),R()}}async function Q(H){const V=H.target.files[0];if(V)if(e(17,y=!1),V.name.toLowerCase().endsWith(".zip"))try{e(18,x=!0),e(19,F="unzipping"),await pe(),await new Promise(ct=>setTimeout(ct,100));const it=await V.arrayBuffer(),dt=await new $n().loadAsync(it),kt=Object.keys(dt.files).find(ct=>ct.toLowerCase().endsWith(".csv")&&!dt.files[ct].dir);if(!kt)throw new Error("No CSV file found in ZIP archive");const ht=await dt.files[kt].async("text");await new Promise(ct=>setTimeout(ct,100)),e(19,F="parsing"),await pe(),await new Promise(ct=>setTimeout(ct,100)),await O(ht),await new Promise(ct=>setTimeout(ct,100)),e(19,F="idle")}catch(it){console.error("Failed to load ZIP file:",it)}finally{e(18,x=!1)}else try{e(18,x=!0);const it=new FileReader,rt=await new Promise((dt,kt)=>{it.onload=ht=>dt(ht.target.result),it.onerror=kt,it.readAsText(V)});await new Promise(dt=>setTimeout(dt,100)),e(19,F="parsing"),await pe(),await new Promise(dt=>setTimeout(dt,100)),await O(rt),await new Promise(dt=>setTimeout(dt,100)),e(19,F="idle")}catch(it){console.error("Failed to load CSV file:",it)}finally{e(18,x=!1)}}function J(H){const V=A-C;let tt=C+H,it=A+H;tt<0&&(tt=0,it=Math.min(V,k.length-1)),it>=k.length&&(it=k.length-1,tt=Math.max(0,it-V)),e(7,C=tt),e(8,A=it),K(C,A,!0)}function $(){T?(clearInterval(Z),e(16,T=!1)):(e(16,T=!0),e(17,y=!1),Z=setInterval(()=>{if(A>=k.length-1){clearInterval(Z),e(16,T=!1);return}J(1)},500))}function ft(H){e(10,S=H.target.value),e(17,y=!1)}function pt(){e(17,y=!1)}function at(){T&&Z&&(clearInterval(Z),e(16,T=!1));const H=d.includes("org")?"org":a[0]||"";e(2,p=H),e(4,h=new Set),e(9,W=[]),e(10,S=""),e(17,y=!1),e(14,b=.02),e(14,b=+b),k.length?(e(7,C=0),e(8,A=k.length-1),K(C,A,!0)):(e(5,m=null),e(6,w=null),e(7,C=0),e(8,A=0))}function ot(){p=Di(this),e(2,p),e(36,d),e(13,a),e(13,a),e(36,d)}function mt(){b=Ai(this.value),e(14,b)}const ut=H=>D(H,"start"),_t=H=>D(H,"end");function q(H){C=H,e(7,C)}function c(H){A=H,e(8,A)}const j=H=>D(H,"start"),U=H=>D(H,"end"),E=()=>J(-7),v=()=>J(-1),M=()=>J(1),X=()=>J(7);function G(H){N=H,e(11,N)}function L(H){z=H,e(12,z)}const nt=()=>e(12,z=null);return t.$$.update=()=>{if(t.$$.dirty[0]&1&&/^https?:\/\//i.test(l),t.$$.dirty[0]&512&&new Set(W.map(H=>H.id)),t.$$.dirty[0]&6144&&e(26,r=z||N),t.$$.dirty[1]&32&&e(13,a=d.filter(H=>H==="org"||H==="state")),t.$$.dirty[0]&8196|t.$$.dirty[1]&32&&(!d||d.length===0||(a.length&&!a.includes(p)?e(2,p=a[0]):a.length===0&&e(2,p=""))),t.$$.dirty[0]&12&&e(25,i=Fn(ai).domain(p?g:[])),t.$$.dirty[1]&64&&k.length>0&&k[0],t.$$.dirty[1]&64&&e(24,s=k.length>0?k[k.length-1]:null),t.$$.dirty[0]&1534|t.$$.dirty[1]&64){const H=k.length&&C===0&&A===k.length-1,V=h.size>0&&h.size<g.length,tt=S&&S.trim().length>0,it=!H||V||tt;e(15,_=f.map(rt=>{var Et,xt,Ct,Yt;const dt=(!m||rt.date>=m)&&(!w||rt.date<=w),kt=V?h.has(rt[p]):!0;let ht=!0;if(tt)try{const ie=new RegExp(S,"i");ht=ie.test((Et=rt.title)!=null?Et:"")||ie.test((xt=rt.text)!=null?xt:"")}catch{ht=((Ct=rt.title)!=null?Ct:"").toLowerCase().includes(S.toLowerCase())||((Yt=rt.text)!=null?Yt:"").toLowerCase().includes(S.toLowerCase())}let ct=!1,wt=!1;return it?(ct=dt&&kt&&ht,wt=dt&&kt&&ht):(ct=!1,wt=!1),{...rt,isActive:ct,isHighlighted:wt}}))}t.$$.dirty[0]&128|t.$$.dirty[1]&64&&k.length>1&&C/(k.length-1)*100,t.$$.dirty[0]&256|t.$$.dirty[1]&64&&k.length>1&&A/(k.length-1)*100,t.$$.dirty[1]&64&&e(23,o=k.length>0?k.length-1:0)},[l,f,p,g,h,m,w,C,A,W,S,N,z,a,b,_,T,y,x,F,u,P,I,o,s,i,r,Y,B,D,Q,J,$,ft,pt,at,d,k,ot,mt,ut,_t,q,c,j,U,E,v,M,X,G,L,nt]}class Cu extends cn{constructor(n){super(),fn(this,n,Eu,xu,un,{},null,[-1,-1,-1])}}new Cu({target:document.getElementById("app")});
