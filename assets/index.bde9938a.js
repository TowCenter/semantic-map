(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function Mr(t){return t()}function On(){return Object.create(null)}function Ht(t){t.forEach(Mr)}function Er(t){return typeof t=="function"}function We(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hi(t){return Object.keys(t).length===0}function N(t,e){t.appendChild(e)}function ot(t,e,n){t.insertBefore(e,n||null)}function it(t){t.parentNode.removeChild(t)}function Cr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function U(t){return document.createElement(t)}function bt(t){return document.createTextNode(t)}function ct(){return bt(" ")}function Ar(){return bt("")}function _t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function D(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function di(t){return t===""?null:+t}function pi(t){return Array.from(t.childNodes)}function Tt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ln(t,e){t.value=e==null?"":e}function St(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Pn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function gi(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function mi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let pe;function de(t){pe=t}function zr(){if(!pe)throw new Error("Function called outside component initialization");return pe}function xn(t){zr().$$.on_mount.push(t)}function _i(){const t=zr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=mi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const fe=[],Xt=[],Ae=[],sn=[],yi=Promise.resolve();let ln=!1;function wi(){ln||(ln=!0,yi.then(Tr))}function Oe(t){Ae.push(t)}function Fn(t){sn.push(t)}const en=new Set;let be=0;function Tr(){const t=pe;do{for(;be<fe.length;){const e=fe[be];be++,de(e),vi(e.$$)}for(de(null),fe.length=0,be=0;Xt.length;)Xt.pop()();for(let e=0;e<Ae.length;e+=1){const n=Ae[e];en.has(n)||(en.add(n),n())}Ae.length=0}while(fe.length);for(;sn.length;)sn.pop()();ln=!1,en.clear(),de(t)}function vi(t){if(t.fragment!==null){t.update(),Ht(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Oe)}}const ze=new Set;let Qt;function Dr(){Qt={r:0,c:[],p:Qt}}function Rr(){Qt.r||Ht(Qt.c),Qt=Qt.p}function qt(t,e){t&&t.i&&(ze.delete(t),t.i(e))}function Zt(t,e,n,r){if(t&&t.o){if(ze.has(t))return;ze.add(t),Qt.c.push(()=>{ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Vn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function kn(t){t&&t.c()}function Ke(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Oe(()=>{const s=t.$$.on_mount.map(Mr).filter(Er);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ht(s),t.$$.on_mount=[]}),o.forEach(Oe)}function Qe(t,e){const n=t.$$;n.fragment!==null&&(Ht(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bi(t,e){t.$$.dirty[0]===-1&&(fe.push(t),wi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,n,r,i,o,s,a=[-1]){const u=pe;de(t);const l=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:On(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:On(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};s&&s(l.root);let c=!1;if(l.ctx=n?n(t,e.props||{},(h,m,..._)=>{const x=_.length?_[0]:m;return l.ctx&&i(l.ctx[h],l.ctx[h]=x)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](x),c&&bi(t,h)),m}):[],l.update(),c=!0,Ht(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const h=pi(e.target);l.fragment&&l.fragment.l(h),h.forEach(it)}else l.fragment&&l.fragment.c();e.intro&&qt(t.$$.fragment),Ke(t,e.target,e.anchor,e.customElement),Tr()}de(u)}class Ze{$destroy(){Qe(this,1),this.$destroy=At}$on(e,n){if(!Er(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!hi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nr={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(xi,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,a={},u=0,l={};function c(f){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(d){var w=J(d);w.chunkSize=parseInt(w.chunkSize),d.step||d.chunk||(w.chunkSize=null),this._handle=new P(w),(this._handle.streamer=this)._config=w}.call(this,f),this.parseChunk=function(d,w){var v=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<v){let Y=this._config.newline;Y||(C=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(d,C)),d=[...d.split(Y).slice(v)].join(Y)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(d))!==void 0&&(d=C),this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+d,C=(this._partialLine="",this._handle.parse(v,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(d=C.meta.cursor,v=(this._finished||(this._partialLine=v.substring(d-this._baseIndex),this._baseIndex=d),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:C,workerId:l.WORKER_ID,finished:v});else if(q(this._config.chunk)&&!w){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!v||!q(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),v||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(d){q(this._config.error)?this._config.error(d):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:d,finished:!1})}}function h(f){var d;(f=f||{}).chunkSize||(f.chunkSize=l.RemoteChunkSize),c.call(this,f),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),o||(d.onload=K(this._chunkLoaded,this),d.onerror=K(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,v=this._config.downloadRequestHeaders;for(w in v)d.setRequestHeader(w,v[w])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,d.setRequestHeader("Range","bytes="+this._start+"-"+C));try{d.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}o&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize||d.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(d),this.parseChunk(d.responseText)))},this._chunkError=function(w){w=d.statusText||w,this._sendError(new Error(w))}}function m(f){(f=f||{}).chunkSize||(f.chunkSize=l.LocalChunkSize),c.call(this,f);var d,w,v=typeof FileReader<"u";this.stream=function(C){this._input=C,w=C.slice||C.webkitSlice||C.mozSlice,v?((d=new FileReader).onload=K(this._chunkLoaded,this),d.onerror=K(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),C=w.call(C,this._start,Y)),d.readAsText(C,this._config.encoding));v||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(d.error)}}function _(f){var d;c.call(this,f=f||{}),this.stream=function(w){return d=w,this._nextChunk()},this._nextChunk=function(){var w,v;if(!this._finished)return w=this._config.chunkSize,d=w?(v=d.substring(0,w),d.substring(w)):(v=d,""),this._finished=!d,this.parseChunk(v)}}function x(f){c.call(this,f=f||{});var d=[],w=!0,v=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){v&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):w=!0},this._streamData=K(function(C){try{d.push(typeof C=="string"?C:C.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=K(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=K(function(){this._streamCleanUp(),v=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function P(f){var d,w,v,C,Y=Math.pow(2,53),p=-Y,T=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,b=this,A=0,k=0,I=!1,L=!1,F=[],V={data:[],errors:[],meta:{}};function j(Q){return f.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function rt(){if(V&&v&&(pt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),v=!1),f.skipEmptyLines&&(V.data=V.data.filter(function(dt){return!j(dt)})),st()){let dt=function(y,X){q(f.transformHeader)&&(y=f.transformHeader(y,X)),F.push(y)};var G=dt;if(V)if(Array.isArray(V.data[0])){for(var Q=0;st()&&Q<V.data.length;Q++)V.data[Q].forEach(dt);V.data.splice(0,1)}else V.data.forEach(dt)}function $(dt,y){for(var X=f.header?{}:[],Z=0;Z<dt.length;Z++){var W=Z,M=dt[Z],M=((R,B)=>(O=>(f.dynamicTypingFunction&&f.dynamicTyping[O]===void 0&&(f.dynamicTyping[O]=f.dynamicTypingFunction(O)),(f.dynamicTyping[O]||f.dynamicTyping)===!0))(R)?B==="true"||B==="TRUE"||B!=="false"&&B!=="FALSE"&&((O=>{if(T.test(O)&&(O=parseFloat(O),p<O&&O<Y))return 1})(B)?parseFloat(B):g.test(B)?new Date(B):B===""?null:B):B)(W=f.header?Z>=F.length?"__parsed_extra":F[Z]:W,M=f.transform?f.transform(M,W):M);W==="__parsed_extra"?(X[W]=X[W]||[],X[W].push(M)):X[W]=M}return f.header&&(Z>F.length?pt("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+Z,k+y):Z<F.length&&pt("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+Z,k+y)),X}var gt;V&&(f.header||f.dynamicTyping||f.transform)&&(gt=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map($),gt=V.data.length):V.data=$(V.data,0),f.header&&V.meta&&(V.meta.fields=F),k+=gt)}function st(){return f.header&&F.length===0}function pt(Q,$,gt,G){Q={type:Q,code:$,message:gt},G!==void 0&&(Q.row=G),V.errors.push(Q)}q(f.step)&&(C=f.step,f.step=function(Q){V=Q,st()?rt():(rt(),V.data.length!==0&&(A+=Q.data.length,f.preview&&A>f.preview?w.abort():(V.data=V.data[0],C(V,b))))}),this.parse=function(Q,$,gt){var G=f.quoteChar||'"',G=(f.newline||(f.newline=this.guessLineEndings(Q,G)),v=!1,f.delimiter?q(f.delimiter)&&(f.delimiter=f.delimiter(Q),V.meta.delimiter=f.delimiter):((G=((dt,y,X,Z,W)=>{var M,R,B,O;W=W||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var lt=0;lt<W.length;lt++){for(var et,at=W[lt],nt=0,ht=0,ut=0,yt=(B=void 0,new S({comments:Z,delimiter:at,newline:y,preview:10}).parse(dt)),mt=0;mt<yt.data.length;mt++)X&&j(yt.data[mt])?ut++:(et=yt.data[mt].length,ht+=et,B===void 0?B=et:0<et&&(nt+=Math.abs(et-B),B=et));0<yt.data.length&&(ht/=yt.data.length-ut),(R===void 0||nt<=R)&&(O===void 0||O<ht)&&1.99<ht&&(R=nt,M=at,O=ht)}return{successful:!!(f.delimiter=M),bestDelimiter:M}})(Q,f.newline,f.skipEmptyLines,f.comments,f.delimitersToGuess)).successful?f.delimiter=G.bestDelimiter:(v=!0,f.delimiter=l.DefaultDelimiter),V.meta.delimiter=f.delimiter),J(f));return f.preview&&f.header&&G.preview++,d=Q,w=new S(G),V=w.parse(d,$,gt),rt(),I?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return I},this.pause=function(){I=!0,w.abort(),d=q(f.chunk)?"":d.substring(w.getCharIndex())},this.resume=function(){b.streamer._halted?(I=!1,b.streamer.parseChunk(d,!0)):setTimeout(b.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,w.abort(),V.meta.aborted=!0,q(f.complete)&&f.complete(V),d=""},this.guessLineEndings=function(dt,G){dt=dt.substring(0,1048576);var G=new RegExp(E(G)+"([^]*?)"+E(G),"gm"),gt=(dt=dt.replace(G,"")).split("\r"),G=dt.split(`
`),dt=1<G.length&&G[0].length<gt[0].length;if(gt.length===1||dt)return`
`;for(var y=0,X=0;X<gt.length;X++)gt[X][0]===`
`&&y++;return y>=gt.length/2?`\r
`:"\r"}}function E(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(f){var d=(f=f||{}).delimiter,w=f.newline,v=f.comments,C=f.step,Y=f.preview,p=f.fastMode,T=null,g=!1,b=f.quoteChar==null?'"':f.quoteChar,A=b;if(f.escapeChar!==void 0&&(A=f.escapeChar),(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=","),v===d)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<l.BAD_DELIMITERS.indexOf(v))&&(v=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var k=0,I=!1;this.parse=function(L,F,V){if(typeof L!="string")throw new Error("Input must be a string");var j=L.length,rt=d.length,st=w.length,pt=v.length,Q=q(C),$=[],gt=[],G=[],dt=k=0;if(!L)return nt();if(p||p!==!1&&L.indexOf(b)===-1){for(var y=L.split(w),X=0;X<y.length;X++){if(G=y[X],k+=G.length,X!==y.length-1)k+=w.length;else if(V)return nt();if(!v||G.substring(0,pt)!==v){if(Q){if($=[],O(G.split(d)),ht(),I)return nt()}else O(G.split(d));if(Y&&Y<=X)return $=$.slice(0,Y),nt(!0)}}return nt()}for(var Z=L.indexOf(d,k),W=L.indexOf(w,k),M=new RegExp(E(A)+E(b),"g"),R=L.indexOf(b,k);;)if(L[k]===b)for(R=k,k++;;){if((R=L.indexOf(b,R+1))===-1)return V||gt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:k}),et();if(R===j-1)return et(L.substring(k,R).replace(M,b));if(b===A&&L[R+1]===A)R++;else if(b===A||R===0||L[R-1]!==A){Z!==-1&&Z<R+1&&(Z=L.indexOf(d,R+1));var B=lt((W=W!==-1&&W<R+1?L.indexOf(w,R+1):W)===-1?Z:Math.min(Z,W));if(L.substr(R+1+B,rt)===d){G.push(L.substring(k,R).replace(M,b)),L[k=R+1+B+rt]!==b&&(R=L.indexOf(b,k)),Z=L.indexOf(d,k),W=L.indexOf(w,k);break}if(B=lt(W),L.substring(R+1+B,R+1+B+st)===w){if(G.push(L.substring(k,R).replace(M,b)),at(R+1+B+st),Z=L.indexOf(d,k),R=L.indexOf(b,k),Q&&(ht(),I))return nt();if(Y&&$.length>=Y)return nt(!0);break}gt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:k}),R++}}else if(v&&G.length===0&&L.substring(k,k+pt)===v){if(W===-1)return nt();k=W+st,W=L.indexOf(w,k),Z=L.indexOf(d,k)}else if(Z!==-1&&(Z<W||W===-1))G.push(L.substring(k,Z)),k=Z+rt,Z=L.indexOf(d,k);else{if(W===-1)break;if(G.push(L.substring(k,W)),at(W+st),Q&&(ht(),I))return nt();if(Y&&$.length>=Y)return nt(!0)}return et();function O(ut){$.push(ut),dt=k}function lt(ut){var yt=0;return yt=ut!==-1&&(ut=L.substring(R+1,ut))&&ut.trim()===""?ut.length:yt}function et(ut){return V||(ut===void 0&&(ut=L.substring(k)),G.push(ut),k=j,O(G),Q&&ht()),nt()}function at(ut){k=ut,O(G),G=[],W=L.indexOf(w,k)}function nt(ut){if(f.header&&!F&&$.length&&!g){var yt=$[0],mt={},wt=new Set(yt);let Rt=!1;for(let xt=0;xt<yt.length;xt++){let vt=yt[xt];if(mt[vt=q(f.transformHeader)?f.transformHeader(vt,xt):vt]){let zt,Et=mt[vt];for(;zt=vt+"_"+Et,Et++,wt.has(zt););wt.add(zt),yt[xt]=zt,mt[vt]++,Rt=!0,(T=T===null?{}:T)[zt]=vt}else mt[vt]=1,yt[xt]=vt;wt.add(vt)}Rt&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:$,errors:gt,meta:{delimiter:d,linebreak:w,aborted:I,truncated:!!ut,cursor:dt+(F||0),renamedHeaders:T}}}function ht(){C(nt()),$=[],gt=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return k}}function z(f){var d=f.data,w=a[d.workerId],v=!1;if(d.error)w.userError(d.error,d.file);else if(d.results&&d.results.data){var C={abort:function(){v=!0,H(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:tt,resume:tt};if(q(w.userStep)){for(var Y=0;Y<d.results.data.length&&(w.userStep({data:d.results.data[Y],errors:d.results.errors,meta:d.results.meta},C),!v);Y++);delete d.results}else q(w.userChunk)&&(w.userChunk(d.results,C,d.file),delete d.results)}d.finished&&!v&&H(d.workerId,d.results)}function H(f,d){var w=a[f];q(w.userComplete)&&w.userComplete(d),w.terminate(),delete a[f]}function tt(){throw new Error("Not implemented.")}function J(f){if(typeof f!="object"||f===null)return f;var d,w=Array.isArray(f)?[]:{};for(d in f)w[d]=J(f[d]);return w}function K(f,d){return function(){f.apply(d,arguments)}}function q(f){return typeof f=="function"}return l.parse=function(f,d){var w=(d=d||{}).dynamicTyping||!1;if(q(w)&&(d.dynamicTypingFunction=w,w={}),d.dynamicTyping=w,d.transform=!!q(d.transform)&&d.transform,!d.worker||!l.WORKERS_SUPPORTED)return w=null,l.NODE_STREAM_INPUT,typeof f=="string"?(f=(v=>v.charCodeAt(0)!==65279?v:v.slice(1))(f),w=new(d.download?h:_)(d)):f.readable===!0&&q(f.read)&&q(f.on)?w=new x(d):(r.File&&f instanceof File||f instanceof Object)&&(w=new m(d)),w.stream(f);(w=(()=>{var v;return!!l.WORKERS_SUPPORTED&&(v=(()=>{var C=r.URL||r.webkitURL||null,Y=n.toString();return l.BLOB_URL||(l.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(v=new r.Worker(v)).onmessage=z,v.id=u++,a[v.id]=v)})()).userStep=d.step,w.userChunk=d.chunk,w.userComplete=d.complete,w.userError=d.error,d.step=q(d.step),d.chunk=q(d.chunk),d.complete=q(d.complete),d.error=q(d.error),delete d.worker,w.postMessage({input:f,config:d,workerId:w.id})},l.unparse=function(f,d){var w=!1,v=!0,C=",",Y=`\r
`,p='"',T=p+p,g=!1,b=null,A=!1,k=((()=>{if(typeof d=="object"){if(typeof d.delimiter!="string"||l.BAD_DELIMITERS.filter(function(F){return d.delimiter.indexOf(F)!==-1}).length||(C=d.delimiter),typeof d.quotes!="boolean"&&typeof d.quotes!="function"&&!Array.isArray(d.quotes)||(w=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(g=d.skipEmptyLines),typeof d.newline=="string"&&(Y=d.newline),typeof d.quoteChar=="string"&&(p=d.quoteChar),typeof d.header=="boolean"&&(v=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");b=d.columns}d.escapeChar!==void 0&&(T=d.escapeChar+p),d.escapeFormulae instanceof RegExp?A=d.escapeFormulae:typeof d.escapeFormulae=="boolean"&&d.escapeFormulae&&(A=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(p),"g"));if(typeof f=="string"&&(f=JSON.parse(f)),Array.isArray(f)){if(!f.length||Array.isArray(f[0]))return I(null,f,g);if(typeof f[0]=="object")return I(b||Object.keys(f[0]),f,g)}else if(typeof f=="object")return typeof f.data=="string"&&(f.data=JSON.parse(f.data)),Array.isArray(f.data)&&(f.fields||(f.fields=f.meta&&f.meta.fields||b),f.fields||(f.fields=Array.isArray(f.data[0])?f.fields:typeof f.data[0]=="object"?Object.keys(f.data[0]):[]),Array.isArray(f.data[0])||typeof f.data[0]=="object"||(f.data=[f.data])),I(f.fields||[],f.data||[],g);throw new Error("Unable to serialize unrecognized input");function I(F,V,j){var rt="",st=(typeof F=="string"&&(F=JSON.parse(F)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(F)&&0<F.length),pt=!Array.isArray(V[0]);if(st&&v){for(var Q=0;Q<F.length;Q++)0<Q&&(rt+=C),rt+=L(F[Q],Q);0<V.length&&(rt+=Y)}for(var $=0;$<V.length;$++){var gt=(st?F:V[$]).length,G=!1,dt=st?Object.keys(V[$]).length===0:V[$].length===0;if(j&&!st&&(G=j==="greedy"?V[$].join("").trim()==="":V[$].length===1&&V[$][0].length===0),j==="greedy"&&st){for(var y=[],X=0;X<gt;X++){var Z=pt?F[X]:X;y.push(V[$][Z])}G=y.join("").trim()===""}if(!G){for(var W=0;W<gt;W++){0<W&&!dt&&(rt+=C);var M=st&&pt?F[W]:W;rt+=L(V[$][M],W)}$<V.length-1&&(!j||0<gt&&!dt)&&(rt+=Y)}}return rt}function L(F,V){var j,rt;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(rt=!1,A&&typeof F=="string"&&A.test(F)&&(F="'"+F,rt=!0),j=F.toString().replace(k,T),(rt=rt||w===!0||typeof w=="function"&&w(F,V)||Array.isArray(w)&&w[V]||((st,pt)=>{for(var Q=0;Q<pt.length;Q++)if(-1<st.indexOf(pt[Q]))return!0;return!1})(j,l.BAD_DELIMITERS)||-1<j.indexOf(C)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?p+j+p:j)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!o&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=S,l.ParserHandle=P,l.NetworkStreamer=h,l.FileStreamer=m,l.StringStreamer=_,l.ReadableStreamStreamer=x,r.jQuery&&((i=r.jQuery).fn.parse=function(f){var d=f.config||{},w=[];return this.each(function(Y){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var p=0;p<this.files.length;p++)w.push({file:this.files[p],inputElem:this,instanceConfig:i.extend({},d)})}),v(),this;function v(){if(w.length===0)q(f.complete)&&f.complete();else{var Y,p,T,g,b=w[0];if(q(f.before)){var A=f.before(b.file,b.inputElem);if(typeof A=="object"){if(A.action==="abort")return Y="AbortError",p=b.file,T=b.inputElem,g=A.reason,void(q(f.error)&&f.error({name:Y},p,T,g));if(A.action==="skip")return void C();typeof A.config=="object"&&(b.instanceConfig=i.extend(b.instanceConfig,A.config))}else if(A==="skip")return void C()}var k=b.instanceConfig.complete;b.instanceConfig.complete=function(I){q(k)&&k(I,b.file,b.inputElem),C()},l.parse(b.file,b.instanceConfig)}}function C(){w.splice(0,1),v()}}),s&&(r.onmessage=function(f){f=f.data,l.WORKER_ID===void 0&&f&&(l.WORKER_ID=f.workerId),typeof f.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(f.input,f.config),finished:!0}):(r.File&&f.input instanceof File||f.input instanceof Object)&&(f=l.parse(f.input,f.config))&&r.postMessage({workerId:l.WORKER_ID,results:f,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(m.prototype=Object.create(c.prototype)).constructor=m,(_.prototype=Object.create(_.prototype)).constructor=_,(x.prototype=Object.create(c.prototype)).constructor=x,l})})(Nr);const ki=Nr.exports;function Te(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Si(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ir(t){let e,n,r;t.length!==2?(e=Te,n=(a,u)=>Te(t(a),u),r=(a,u)=>t(a)-u):(e=t===Te||t===Si?t:Mi,n=t,r=t);function i(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(a[h],u)<0?l=h+1:c=h}while(l<c)}return l}function o(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(a[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function s(a,u,l=0,c=a.length){const h=i(a,u,l,c-1);return h>l&&r(a[h-1],u)>-r(a[h],u)?h-1:h}return{left:i,center:s,right:o}}function Mi(){return 0}function Ei(t){return t===null?NaN:+t}const Ci=Ir(Te),Ai=Ci.right;Ir(Ei).center;const zi=Ai;class Xn extends Map{constructor(e,n=Ri){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(qn(this,e))}has(e){return super.has(qn(this,e))}set(e,n){return super.set(Ti(this,e),n)}delete(e){return super.delete(Di(this,e))}}function qn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ti({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Di({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ri(t){return t!==null&&typeof t=="object"?t.valueOf():t}var an=Math.sqrt(50),un=Math.sqrt(10),fn=Math.sqrt(2);function Ni(t,e,n){var r,i=-1,o,s,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(a=Or(t,e,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(e/a);for(u*a<t&&++u,l*a>e&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(e*a);for(u/a<t&&++u,l/a>e&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}function Or(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=an?10:o>=un?5:o>=fn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=an?10:o>=un?5:o>=fn?2:1)}function Ii(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=an?i*=10:o>=un?i*=5:o>=fn&&(i*=2),e<t?-i:i}function Bn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Hn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Yn=Symbol("implicit");function Pr(){var t=new Xn,e=[],n=[],r=Yn;function i(o){let s=t.get(o);if(s===void 0){if(r!==Yn)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Xn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Pr(e,n).unknown(r)},Lr.apply(i,arguments),i}function Sn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Fr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ye(){}var ge=.7,Le=1/ge,re="\\s*([+-]?\\d+)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oi=/^#([0-9a-f]{3,8})$/,Li=new RegExp(`^rgb\\(${re},${re},${re}\\)$`),Pi=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),Fi=new RegExp(`^rgba\\(${re},${re},${re},${me}\\)$`),Vi=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${me}\\)$`),Xi=new RegExp(`^hsl\\(${me},${Lt},${Lt}\\)$`),qi=new RegExp(`^hsla\\(${me},${Lt},${Lt},${me}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sn(ye,Jt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wn,formatHex:Wn,formatHex8:Bi,formatHsl:Hi,formatRgb:Kn,toString:Kn});function Wn(){return this.rgb().formatHex()}function Bi(){return this.rgb().formatHex8()}function Hi(){return Vr(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function Jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Oi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qn(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Li.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Pi.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fi.exec(t))?xe(e[1],e[2],e[3],e[4]):(e=Vi.exec(t))?xe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xi.exec(t))?jn(e[1],e[2]/100,e[3]/100,1):(e=qi.exec(t))?jn(e[1],e[2]/100,e[3]/100,e[4]):Un.hasOwnProperty(t)?Qn(Un[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Qn(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function Yi(t){return t instanceof ye||(t=Jt(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function cn(t,e,n,r){return arguments.length===1?Yi(t):new Ct(t,e,n,r==null?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Sn(Ct,cn,Fr(ye,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(jt(this.r),jt(this.g),jt(this.b),Pe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gn,formatHex:Gn,formatHex8:Ui,formatRgb:Zn,toString:Zn}));function Gn(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function Ui(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zn(){const t=Pe(this.opacity);return`${t===1?"rgb(":"rgba("}${jt(this.r)}, ${jt(this.g)}, ${jt(this.b)}${t===1?")":`, ${t})`}`}function Pe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gt(t){return t=jt(t),(t<16?"0":"")+t.toString(16)}function jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Vr(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof ye||(t=Jt(t)),!t)return new It;if(t instanceof It)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new It(s,a,u,t.opacity)}function Wi(t,e,n,r){return arguments.length===1?Vr(t):new It(t,e,n,r==null?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Sn(It,Wi,Fr(ye,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new It(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new It(Jn(this.h),ke(this.s),ke(this.l),Pe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pe(this.opacity);return`${t===1?"hsl(":"hsla("}${Jn(this.h)}, ${ke(this.s)*100}%, ${ke(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jn(t){return t=(t||0)%360,t<0?t+360:t}function ke(t){return Math.max(0,Math.min(1,t||0))}function nn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Mn=t=>()=>t;function Ki(t,e){return function(n){return t+n*e}}function Qi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gi(t){return(t=+t)==1?Xr:function(e,n){return n-e?Qi(e,n,t):Mn(isNaN(e)?n:e)}}function Xr(t,e){var n=e-t;return n?Ki(t,n):Mn(isNaN(t)?e:t)}const Fe=function t(e){var n=Gi(e);function r(i,o){var s=n((i=cn(i)).r,(o=cn(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=Xr(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Zi(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ji(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ji(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=En(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function $i(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Nt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function to(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=En(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(hn.source,"g");function eo(t){return function(){return t}}function no(t){return function(e){return t(e)+""}}function qr(t,e){var n=hn.lastIndex=rn.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=hn.exec(t))&&(i=rn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Nt(r,i)})),n=rn.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?no(u[0].x):eo(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)a[(h=u[c]).i]=h.x(l);return a.join("")})}function En(t,e){var n=typeof e,r;return e==null||n==="boolean"?Mn(e):(n==="number"?Nt:n==="string"?(r=Jt(e))?(e=r,Fe):qr:e instanceof Jt?Fe:e instanceof Date?$i:ji(e)?Zi:Array.isArray(e)?Ji:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?to:Nt)(t,e)}function ro(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $n=180/Math.PI,dn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Br(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*$n,skewX:Math.atan(u)*$n,scaleX:s,scaleY:a}}var Se;function io(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?dn:Br(e.a,e.b,e.c,e.d,e.e,e.f)}function oo(t){return t==null||(Se||(Se=document.createElementNS("http://www.w3.org/2000/svg","g")),Se.setAttribute("transform",t),!(t=Se.transform.baseVal.consolidate()))?dn:(t=t.matrix,Br(t.a,t.b,t.c,t.d,t.e,t.f))}function Hr(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,h,m,_,x){if(l!==h||c!==m){var P=_.push("translate(",null,e,null,n);x.push({i:P-4,x:Nt(l,h)},{i:P-2,x:Nt(c,m)})}else(h||m)&&_.push("translate("+h+e+m+n)}function s(l,c,h,m){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),m.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Nt(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(l,c,h,m){l!==c?m.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Nt(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,m,_,x){if(l!==h||c!==m){var P=_.push(i(_)+"scale(",null,",",null,")");x.push({i:P-4,x:Nt(l,h)},{i:P-2,x:Nt(c,m)})}else(h!==1||m!==1)&&_.push(i(_)+"scale("+h+","+m+")")}return function(l,c){var h=[],m=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,m),s(l.rotate,c.rotate,h,m),a(l.skewX,c.skewX,h,m),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,m),l=c=null,function(_){for(var x=-1,P=m.length,E;++x<P;)h[(E=m[x]).i]=E.x(_);return h.join("")}}}var so=Hr(io,"px, ","px)","deg)"),lo=Hr(oo,", ",")",")"),ao=1e-12;function tr(t){return((t=Math.exp(t))+1/t)/2}function uo(t){return((t=Math.exp(t))-1/t)/2}function fo(t){return((t=Math.exp(2*t))-1)/(t+1)}const co=function t(e,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],c=s[0],h=s[1],m=s[2],_=c-a,x=h-u,P=_*_+x*x,E,S;if(P<ao)S=Math.log(m/l)/e,E=function(q){return[a+q*_,u+q*x,l*Math.exp(e*q*S)]};else{var z=Math.sqrt(P),H=(m*m-l*l+r*P)/(2*l*n*z),tt=(m*m-l*l-r*P)/(2*m*n*z),J=Math.log(Math.sqrt(H*H+1)-H),K=Math.log(Math.sqrt(tt*tt+1)-tt);S=(K-J)/e,E=function(q){var f=q*S,d=tr(J),w=l/(n*z)*(d*fo(e*f+J)-uo(J));return[a+w*_,u+w*x,l*d/tr(e*f+J)]}}return E.duration=S*1e3*e/Math.SQRT2,E}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);function ho(t){return function(){return t}}function po(t){return+t}var er=[0,1];function ee(t){return t}function pn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ho(isNaN(e)?NaN:.5)}function go(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=pn(i,r),o=n(s,o)):(r=pn(r,i),o=n(o,s)),function(a){return o(r(a))}}function _o(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=pn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=zi(t,a,1,r)-1;return o[u](i[u](a))}}function yo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wo(){var t=er,e=er,n=En,r,i,o,s=ee,a,u,l;function c(){var m=Math.min(t.length,e.length);return s!==ee&&(s=go(t[0],t[m-1])),a=m>2?_o:mo,u=l=null,h}function h(m){return m==null||isNaN(m=+m)?o:(u||(u=a(t.map(r),e,n)))(r(s(m)))}return h.invert=function(m){return s(i((l||(l=a(e,t.map(r),Nt)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,po),c()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),c()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=ro,c()},h.clamp=function(m){return arguments.length?(s=m?!0:ee,c()):s!==ee},h.interpolate=function(m){return arguments.length?(n=m,c()):n},h.unknown=function(m){return arguments.length?(o=m,h):o},function(m,_){return r=m,i=_,c()}}function vo(){return wo()(ee,ee)}function bo(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ve(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ie(t){return t=Ve(Math.abs(t)),t?t[1]:NaN}function xo(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ko(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var So=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(t){if(!(e=So.exec(t)))throw new Error("invalid format: "+t);var e;return new Cn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xe.prototype=Cn.prototype;function Cn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mo(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yr;function Eo(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Yr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ve(t,Math.max(0,e+o-1))[0]}function nr(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bo,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nr(t*100,e),r:nr,s:Eo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ir(t){return t}var or=Array.prototype.map,sr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Co(t){var e=t.grouping===void 0||t.thousands===void 0?ir:xo(or.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ir:ko(or.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Xe(h);var m=h.fill,_=h.align,x=h.sign,P=h.symbol,E=h.zero,S=h.width,z=h.comma,H=h.precision,tt=h.trim,J=h.type;J==="n"?(z=!0,J="g"):rr[J]||(H===void 0&&(H=12),tt=!0,J="g"),(E||m==="0"&&_==="=")&&(E=!0,m="0",_="=");var K=P==="$"?n:P==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",q=P==="$"?r:/[%p]/.test(J)?s:"",f=rr[J],d=/[defgprs%]/.test(J);H=H===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function w(v){var C=K,Y=q,p,T,g;if(J==="c")Y=f(v)+Y,v="";else{v=+v;var b=v<0||1/v<0;if(v=isNaN(v)?u:f(Math.abs(v),H),tt&&(v=Mo(v)),b&&+v==0&&x!=="+"&&(b=!1),C=(b?x==="("?x:a:x==="-"||x==="("?"":x)+C,Y=(J==="s"?sr[8+Yr/3]:"")+Y+(b&&x==="("?")":""),d){for(p=-1,T=v.length;++p<T;)if(g=v.charCodeAt(p),48>g||g>57){Y=(g===46?i+v.slice(p+1):v.slice(p))+Y,v=v.slice(0,p);break}}}z&&!E&&(v=e(v,1/0));var A=C.length+v.length+Y.length,k=A<S?new Array(S-A+1).join(m):"";switch(z&&E&&(v=e(k+v,k.length?S-Y.length:1/0),k=""),_){case"<":v=C+v+Y+k;break;case"=":v=C+k+v+Y;break;case"^":v=k.slice(0,A=k.length>>1)+C+v+Y+k.slice(A);break;default:v=k+C+v+Y;break}return o(v)}return w.toString=function(){return h+""},w}function c(h,m){var _=l((h=Xe(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(ie(m)/3)))*3,P=Math.pow(10,-x),E=sr[8+x/3];return function(S){return _(P*S)+E}}return{format:l,formatPrefix:c}}var Me,Ur,Wr;Ao({thousands:",",grouping:[3],currency:["$",""]});function Ao(t){return Me=Co(t),Ur=Me.format,Wr=Me.formatPrefix,Me}function zo(t){return Math.max(0,-ie(Math.abs(t)))}function To(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ie(e)/3)))*3-ie(Math.abs(t)))}function Do(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ie(e)-ie(t))+1}function Ro(t,e,n,r){var i=Ii(t,e,n),o;switch(r=Xe(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=To(i,s))&&(r.precision=o),Wr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Do(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=zo(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ur(r)}function No(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ni(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return Ro(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if(l=Or(s,a,n),l===u)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function gn(){var t=vo();return t.copy=function(){return yo(t,gn())},Lr.apply(t,arguments),No(t)}function Io(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Oo=Io("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Lo(t){let e;return{c(){e=U("p"),e.textContent="Hover over a circle to see details here.",D(e,"class","svelte-b094ih")},m(n,r){ot(n,e,r)},p:At,d(n){n&&it(e)}}}function Po(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",a,u,l,c=t[0].date.toISOString().split("T")[0]+"",h,m,_,x,P=t[0].text+"",E,S=t[6]&&lr(t);return{c(){e=U("h1"),r=bt(n),i=ct(),o=U("span"),a=bt(s),u=ct(),l=U("h2"),h=bt(c),m=ct(),S&&S.c(),_=ct(),x=U("p"),E=bt(P),D(e,"class","svelte-b094ih"),St(o,"background",t[2](t[0][t[1]])),D(o,"class","svelte-b094ih"),D(l,"class","svelte-b094ih"),D(x,"class","svelte-b094ih")},m(z,H){ot(z,e,H),N(e,r),ot(z,i,H),ot(z,o,H),N(o,a),ot(z,u,H),ot(z,l,H),N(l,h),ot(z,m,H),S&&S.m(z,H),ot(z,_,H),ot(z,x,H),N(x,E)},p(z,H){H&1&&n!==(n=z[0].title+"")&&Tt(r,n),H&35&&s!==(s=(z[5]?z[5](z[1],z[0][z[1]]):z[0][z[1]])+"")&&Tt(a,s),H&7&&St(o,"background",z[2](z[0][z[1]])),H&1&&c!==(c=z[0].date.toISOString().split("T")[0]+"")&&Tt(h,c),z[6]?S?S.p(z,H):(S=lr(z),S.c(),S.m(_.parentNode,_)):S&&(S.d(1),S=null),H&1&&P!==(P=z[0].text+"")&&Tt(E,P)},d(z){z&&it(e),z&&it(i),z&&it(o),z&&it(u),z&&it(l),z&&it(m),S&&S.d(z),z&&it(_),z&&it(x)}}}function lr(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&ar(t);return{c(){r&&r.c(),n=Ar()},m(i,o){r&&r.m(i,o),ot(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=ar(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&it(n)}}}function ar(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=U("p"),n=U("em"),i=bt(r),D(e,"class","svelte-b094ih")},m(o,s){ot(o,e,s),N(e,n),N(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Tt(i,r)},d(o){o&&it(e)}}}function Fo(t){let e;function n(o,s){return o[0]?Po:Lo}let r=n(t),i=r(t);return{c(){e=U("div"),i.c(),D(e,"class","detail-card svelte-b094ih"),St(e,"left",t[3]+"px"),St(e,"top",t[4]+"px")},m(o,s){ot(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&St(e,"left",o[3]+"px"),s&16&&St(e,"top",o[4]+"px")},i:At,o:At,d(o){o&&it(e),i.d()}}}function Vo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:a=0}=e,{posY:u=0}=e,{labelOverride:l=null}=e,{descriptionOverride:c=null}=e;return xn(()=>{s.domain(o.map(h=>h[i]))}),t.$$set=h=>{"hoveredData"in h&&n(0,r=h.hoveredData),"domainColumn"in h&&n(1,i=h.domainColumn),"data"in h&&n(7,o=h.data),"colorScale"in h&&n(2,s=h.colorScale),"posX"in h&&n(3,a=h.posX),"posY"in h&&n(4,u=h.posY),"labelOverride"in h&&n(5,l=h.labelOverride),"descriptionOverride"in h&&n(6,c=h.descriptionOverride)},[r,i,s,a,u,l,c,o]}class Xo extends Ze{constructor(e){super(),Ge(this,e,Vo,Fo,We,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var qo={value:()=>{}};function An(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new De(n)}function De(t){this._=t}function Bo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}De.prototype=An.prototype={constructor:De,on:function(t,e){var n=this._,r=Bo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ho(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ur(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ur(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new De(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ho(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ur(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=qo,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var mn="http://www.w3.org/1999/xhtml";const fr={svg:"http://www.w3.org/2000/svg",xhtml:mn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function je(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),fr.hasOwnProperty(e)?{space:fr[e],local:t}:t}function Yo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mn&&e.documentElement.namespaceURI===mn?e.createElement(t):e.createElementNS(n,t)}}function Uo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kr(t){var e=je(t);return(e.local?Uo:Yo)(e)}function Wo(){}function zn(t){return t==null?Wo:function(){return this.querySelector(t)}}function Ko(t){typeof t!="function"&&(t=zn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,c=0;c<s;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Dt(r,this._parents)}function Qo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Go(){return[]}function Qr(t){return t==null?Go:function(){return this.querySelectorAll(t)}}function Zo(t){return function(){return Qo(t.apply(this,arguments))}}function jo(t){typeof t=="function"?t=Zo(t):t=Qr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new Dt(r,i)}function Gr(t){return function(){return this.matches(t)}}function Zr(t){return function(e){return e.matches(t)}}var Jo=Array.prototype.find;function $o(t){return function(){return Jo.call(this.children,t)}}function ts(){return this.firstElementChild}function es(t){return this.select(t==null?ts:$o(typeof t=="function"?t:Zr(t)))}var ns=Array.prototype.filter;function rs(){return Array.from(this.children)}function is(t){return function(){return ns.call(this.children,t)}}function os(t){return this.selectAll(t==null?rs:is(typeof t=="function"?t:Zr(t)))}function ss(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Dt(r,this._parents)}function jr(t){return new Array(t.length)}function ls(){return new Dt(this._enter||this._groups.map(jr),this._parents)}function qe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qe.prototype={constructor:qe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function as(t){return function(){return t}}function us(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new qe(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function fs(t,e,n,r,i,o,s){var a,u,l=new Map,c=e.length,h=o.length,m=new Array(c),_;for(a=0;a<c;++a)(u=e[a])&&(m[a]=_=s.call(u,u.__data__,a,e)+"",l.has(_)?i[a]=u:l.set(_,u));for(a=0;a<h;++a)_=s.call(t,o[a],a,o)+"",(u=l.get(_))?(r[a]=u,u.__data__=o[a],l.delete(_)):n[a]=new qe(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&l.get(m[a])===u&&(i[a]=u)}function cs(t){return t.__data__}function hs(t,e){if(!arguments.length)return Array.from(this,cs);var n=e?fs:us,r=this._parents,i=this._groups;typeof t!="function"&&(t=as(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],m=h.length,_=ds(t.call(c,c&&c.__data__,l,r)),x=_.length,P=a[l]=new Array(x),E=s[l]=new Array(x),S=u[l]=new Array(m);n(c,h,P,E,S,_,e);for(var z=0,H=0,tt,J;z<x;++z)if(tt=P[z]){for(z>=H&&(H=z+1);!(J=E[H])&&++H<x;);tt._next=J||null}}return s=new Dt(s,r),s._enter=a,s._exit=u,s}function ds(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ps(){return new Dt(this._exit||this._groups.map(jr),this._parents)}function gs(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ms(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],c=r[u],h=l.length,m=a[u]=new Array(h),_,x=0;x<h;++x)(_=l[x]||c[x])&&(m[x]=_);for(;u<i;++u)a[u]=n[u];return new Dt(a,this._parents)}function _s(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ys(t){t||(t=ws);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(e)}return new Dt(i,this._parents).order()}function ws(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bs(){return Array.from(this)}function xs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ks(){let t=0;for(const e of this)++t;return t}function Ss(){return!this.node()}function Ms(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Es(t){return function(){this.removeAttribute(t)}}function Cs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function As(t,e){return function(){this.setAttribute(t,e)}}function zs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ts(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ds(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Rs(t,e){var n=je(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Cs:Es:typeof e=="function"?n.local?Ds:Ts:n.local?zs:As)(n,e))}function Jr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ns(t){return function(){this.style.removeProperty(t)}}function Is(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Os(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ls(t,e,n){return arguments.length>1?this.each((e==null?Ns:typeof e=="function"?Os:Is)(t,e,n==null?"":n)):oe(this.node(),t)}function oe(t,e){return t.style.getPropertyValue(e)||Jr(t).getComputedStyle(t,null).getPropertyValue(e)}function Ps(t){return function(){delete this[t]}}function Fs(t,e){return function(){this[t]=e}}function Vs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Xs(t,e){return arguments.length>1?this.each((e==null?Ps:typeof e=="function"?Vs:Fs)(t,e)):this.node()[t]}function $r(t){return t.trim().split(/^|\s+/)}function Tn(t){return t.classList||new ti(t)}function ti(t){this._node=t,this._names=$r(t.getAttribute("class")||"")}ti.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ei(t,e){for(var n=Tn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ni(t,e){for(var n=Tn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function qs(t){return function(){ei(this,t)}}function Bs(t){return function(){ni(this,t)}}function Hs(t,e){return function(){(e.apply(this,arguments)?ei:ni)(this,t)}}function Ys(t,e){var n=$r(t+"");if(arguments.length<2){for(var r=Tn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Hs:e?qs:Bs)(n,e))}function Us(){this.textContent=""}function Ws(t){return function(){this.textContent=t}}function Ks(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Qs(t){return arguments.length?this.each(t==null?Us:(typeof t=="function"?Ks:Ws)(t)):this.node().textContent}function Gs(){this.innerHTML=""}function Zs(t){return function(){this.innerHTML=t}}function js(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Js(t){return arguments.length?this.each(t==null?Gs:(typeof t=="function"?js:Zs)(t)):this.node().innerHTML}function $s(){this.nextSibling&&this.parentNode.appendChild(this)}function tl(){return this.each($s)}function el(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nl(){return this.each(el)}function rl(t){var e=typeof t=="function"?t:Kr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function il(){return null}function ol(t,e){var n=typeof t=="function"?t:Kr(t),r=e==null?il:typeof e=="function"?e:zn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sl(){var t=this.parentNode;t&&t.removeChild(this)}function ll(){return this.each(sl)}function al(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ul(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fl(t){return this.select(t?ul:al)}function cl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function hl(t){return function(e){t.call(this,e,this.__data__)}}function dl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function pl(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function gl(t,e,n){return function(){var r=this.__on,i,o=hl(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ml(t,e,n){var r=dl(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?gl:pl,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function ri(t,e,n){var r=Jr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _l(t,e){return function(){return ri(this,t,e)}}function yl(t,e){return function(){return ri(this,t,e.apply(this,arguments))}}function wl(t,e){return this.each((typeof e=="function"?yl:_l)(t,e))}function*vl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ii=[null];function Dt(t,e){this._groups=t,this._parents=e}function we(){return new Dt([[document.documentElement]],ii)}function bl(){return this}Dt.prototype=we.prototype={constructor:Dt,select:Ko,selectAll:jo,selectChild:es,selectChildren:os,filter:ss,data:hs,enter:ls,exit:ps,join:gs,merge:ms,selection:bl,order:_s,sort:ys,call:vs,nodes:bs,node:xs,size:ks,empty:Ss,each:Ms,attr:Rs,style:Ls,property:Xs,classed:Ys,text:Qs,html:Js,raise:tl,lower:nl,append:rl,insert:ol,remove:ll,clone:fl,datum:cl,on:ml,dispatch:wl,[Symbol.iterator]:vl};function Wt(t){return typeof t=="string"?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],ii)}function xl(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Kt(t,e){if(t=xl(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const _n={capture:!0,passive:!1};function yn(t){t.preventDefault(),t.stopImmediatePropagation()}function kl(t){var e=t.document.documentElement,n=Wt(t).on("dragstart.drag",yn,_n);"onselectstart"in e?n.on("selectstart.drag",yn,_n):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Sl(t,e){var n=t.document.documentElement,r=Wt(t).on("dragstart.drag",null);e&&(r.on("click.drag",yn,_n),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var se=0,ce=0,ae=0,oi=1e3,Be,he,He=0,$t=0,Je=0,_e=typeof performance=="object"&&performance.now?performance:Date,si=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dn(){return $t||(si(Ml),$t=_e.now()+Je)}function Ml(){$t=0}function Ye(){this._call=this._time=this._next=null}Ye.prototype=li.prototype={constructor:Ye,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Dn():+n)+(e==null?0:+e),!this._next&&he!==this&&(he?he._next=this:Be=this,he=this),this._call=t,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};function li(t,e,n){var r=new Ye;return r.restart(t,e,n),r}function El(){Dn(),++se;for(var t=Be,e;t;)(e=$t-t._time)>=0&&t._call.call(void 0,e),t=t._next;--se}function cr(){$t=(He=_e.now())+Je,se=ce=0;try{El()}finally{se=0,Al(),$t=0}}function Cl(){var t=_e.now(),e=t-He;e>oi&&(Je-=e,He=t)}function Al(){for(var t,e=Be,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Be=n);he=t,wn(r)}function wn(t){if(!se){ce&&(ce=clearTimeout(ce));var e=t-$t;e>24?(t<1/0&&(ce=setTimeout(cr,t-_e.now()-Je)),ae&&(ae=clearInterval(ae))):(ae||(He=_e.now(),ae=setInterval(Cl,oi)),se=1,si(cr))}}function hr(t,e,n){var r=new Ye;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var zl=An("start","end","cancel","interrupt"),Tl=[],ai=0,dr=1,vn=2,Re=3,pr=4,bn=5,Ne=6;function $e(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Dl(t,n,{name:e,index:r,group:i,on:zl,tween:Tl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ai})}function Rn(t,e){var n=Ot(t,e);if(n.state>ai)throw new Error("too late; already scheduled");return n}function Pt(t,e){var n=Ot(t,e);if(n.state>Re)throw new Error("too late; already running");return n}function Ot(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Dl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=li(o,0,n.time);function o(l){n.state=dr,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,h,m,_;if(n.state!==dr)return u();for(c in r)if(_=r[c],_.name===n.name){if(_.state===Re)return hr(s);_.state===pr?(_.state=Ne,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete r[c]):+c<e&&(_.state=Ne,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete r[c])}if(hr(function(){n.state===Re&&(n.state=pr,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=vn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vn){for(n.state=Re,i=new Array(m=n.tween.length),c=0,h=-1;c<m;++c)(_=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=_);i.length=h+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=bn,1),h=-1,m=i.length;++h<m;)i[h].call(t,c);n.state===bn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ne,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Ie(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>vn&&r.state<bn,r.state=Ne,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Rl(t){return this.each(function(){Ie(this,t)})}function Nl(t,e){var n,r;return function(){var i=Pt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Il(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Pt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function Ol(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ot(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Nl:Il)(n,t,e))}function Nn(t,e,n){var r=t._id;return t.each(function(){var i=Pt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ot(i,r).value[e]}}function ui(t,e){var n;return(typeof e=="number"?Nt:e instanceof Jt?Fe:(n=Jt(e))?(e=n,Fe):qr)(t,e)}function Ll(t){return function(){this.removeAttribute(t)}}function Pl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fl(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Vl(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Xl(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function ql(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Bl(t,e){var n=je(t),r=n==="transform"?lo:ui;return this.attrTween(t,typeof e=="function"?(n.local?ql:Xl)(n,r,Nn(this,"attr."+t,e)):e==null?(n.local?Pl:Ll)(n):(n.local?Vl:Fl)(n,r,e))}function Hl(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yl(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ul(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Yl(t,o)),n}return i._value=e,i}function Wl(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Hl(t,o)),n}return i._value=e,i}function Kl(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=je(t);return this.tween(n,(r.local?Ul:Wl)(r,e))}function Ql(t,e){return function(){Rn(this,t).delay=+e.apply(this,arguments)}}function Gl(t,e){return e=+e,function(){Rn(this,t).delay=e}}function Zl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ql:Gl)(e,t)):Ot(this.node(),e).delay}function jl(t,e){return function(){Pt(this,t).duration=+e.apply(this,arguments)}}function Jl(t,e){return e=+e,function(){Pt(this,t).duration=e}}function $l(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jl:Jl)(e,t)):Ot(this.node(),e).duration}function ta(t,e){if(typeof e!="function")throw new Error;return function(){Pt(this,t).ease=e}}function ea(t){var e=this._id;return arguments.length?this.each(ta(e,t)):Ot(this.node(),e).ease}function na(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Pt(this,t).ease=n}}function ra(t){if(typeof t!="function")throw new Error;return this.each(na(this._id,t))}function ia(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Bt(r,this._parents,this._name,this._id)}function oa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],c=u.length,h=s[a]=new Array(c),m,_=0;_<c;++_)(m=u[_]||l[_])&&(h[_]=m);for(;a<r;++a)s[a]=e[a];return new Bt(s,this._parents,this._name,this._id)}function sa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function la(t,e,n){var r,i,o=sa(e)?Rn:Pt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function aa(t,e){var n=this._id;return arguments.length<2?Ot(this.node(),n).on.on(t):this.each(la(n,t,e))}function ua(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fa(){return this.on("end.remove",ua(this._id))}function ca(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),c,h,m=0;m<u;++m)(c=a[m])&&(h=t.call(c,c.__data__,m,a))&&("__data__"in c&&(h.__data__=c.__data__),l[m]=h,$e(l[m],e,n,m,l,Ot(c,n)));return new Bt(o,this._parents,e,n)}function ha(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var m=t.call(c,c.__data__,h,u),_,x=Ot(c,n),P=0,E=m.length;P<E;++P)(_=m[P])&&$e(_,e,n,P,m,x);o.push(m),s.push(c)}return new Bt(o,s,e,n)}var da=we.prototype.constructor;function pa(){return new da(this._groups,this._parents)}function ga(t,e){var n,r,i;return function(){var o=oe(this,t),s=(this.style.removeProperty(t),oe(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function fi(t){return function(){this.style.removeProperty(t)}}function ma(t,e,n){var r,i=n+"",o;return function(){var s=oe(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function _a(t,e,n){var r,i,o;return function(){var s=oe(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),oe(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function ya(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=Pt(this,t),l=u.on,c=u.value[o]==null?a||(a=fi(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}function wa(t,e,n){var r=(t+="")=="transform"?so:ui;return e==null?this.styleTween(t,ga(t,r)).on("end.style."+t,fi(t)):typeof e=="function"?this.styleTween(t,_a(t,r,Nn(this,"style."+t,e))).each(ya(this._id,t)):this.styleTween(t,ma(t,r,e),n).on("end.style."+t,null)}function va(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ba(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&va(t,s,n)),r}return o._value=e,o}function xa(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ba(t,e,n==null?"":n))}function ka(t){return function(){this.textContent=t}}function Sa(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Ma(t){return this.tween("text",typeof t=="function"?Sa(Nn(this,"text",t)):ka(t==null?"":t+""))}function Ea(t){return function(e){this.textContent=t.call(this,e)}}function Ca(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ea(i)),e}return r._value=t,r}function Aa(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ca(t))}function za(){for(var t=this._name,e=this._id,n=ci(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var c=Ot(u,e);$e(u,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bt(r,this._parents,t,n)}function Ta(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=Pt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var Da=0;function Bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ci(){return++Da}var Ft=we.prototype;Bt.prototype={constructor:Bt,select:ca,selectAll:ha,selectChild:Ft.selectChild,selectChildren:Ft.selectChildren,filter:ia,merge:oa,selection:pa,transition:za,call:Ft.call,nodes:Ft.nodes,node:Ft.node,size:Ft.size,empty:Ft.empty,each:Ft.each,on:aa,attr:Bl,attrTween:Kl,style:wa,styleTween:xa,text:Ma,textTween:Aa,remove:fa,tween:Ol,delay:Zl,duration:$l,ease:ea,easeVarying:ra,end:Ta,[Symbol.iterator]:Ft[Symbol.iterator]};function Ra(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Na={time:null,delay:0,duration:250,ease:Ra};function Ia(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Oa(t){var e,n;t instanceof Bt?(e=t._id,t=t._name):(e=ci(),(n=Na).time=Dn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&$e(u,t,e,l,s,n||Ia(u,e));return new Bt(r,this._parents,t,e)}we.prototype.interrupt=Rl;we.prototype.transition=Oa;const Ee=t=>()=>t;function La(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Vt(t,e,n){this.k=t,this.x=e,this.y=n}Vt.prototype={constructor:Vt,scale:function(t){return t===1?this:new Vt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Vt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ue=new Vt(1,0,0);Vt.prototype;function on(t){t.stopImmediatePropagation()}function ue(t){t.preventDefault(),t.stopImmediatePropagation()}function Pa(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Fa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function gr(){return this.__zoom||Ue}function Va(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Xa(){return navigator.maxTouchPoints||"ontouchstart"in this}function qa(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Ba(){var t=Pa,e=Fa,n=qa,r=Va,i=Xa,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=co,l=An("start","zoom","end"),c,h,m,_=500,x=150,P=0,E=10;function S(p){p.property("__zoom",gr).on("wheel.zoom",f,{passive:!1}).on("mousedown.zoom",d).on("dblclick.zoom",w).filter(i).on("touchstart.zoom",v).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(p,T,g,b){var A=p.selection?p.selection():p;A.property("__zoom",gr),p!==A?J(p,T,g,b):A.interrupt().each(function(){K(this,arguments).event(b).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},S.scaleBy=function(p,T,g,b){S.scaleTo(p,function(){var A=this.__zoom.k,k=typeof T=="function"?T.apply(this,arguments):T;return A*k},g,b)},S.scaleTo=function(p,T,g,b){S.transform(p,function(){var A=e.apply(this,arguments),k=this.__zoom,I=g==null?tt(A):typeof g=="function"?g.apply(this,arguments):g,L=k.invert(I),F=typeof T=="function"?T.apply(this,arguments):T;return n(H(z(k,F),I,L),A,s)},g,b)},S.translateBy=function(p,T,g,b){S.transform(p,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,b)},S.translateTo=function(p,T,g,b,A){S.transform(p,function(){var k=e.apply(this,arguments),I=this.__zoom,L=b==null?tt(k):typeof b=="function"?b.apply(this,arguments):b;return n(Ue.translate(L[0],L[1]).scale(I.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof g=="function"?-g.apply(this,arguments):-g),k,s)},b,A)};function z(p,T){return T=Math.max(o[0],Math.min(o[1],T)),T===p.k?p:new Vt(T,p.x,p.y)}function H(p,T,g){var b=T[0]-g[0]*p.k,A=T[1]-g[1]*p.k;return b===p.x&&A===p.y?p:new Vt(p.k,b,A)}function tt(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function J(p,T,g,b){p.on("start.zoom",function(){K(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(b).end()}).tween("zoom",function(){var A=this,k=arguments,I=K(A,k).event(b),L=e.apply(A,k),F=g==null?tt(L):typeof g=="function"?g.apply(A,k):g,V=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),j=A.__zoom,rt=typeof T=="function"?T.apply(A,k):T,st=u(j.invert(F).concat(V/j.k),rt.invert(F).concat(V/rt.k));return function(pt){if(pt===1)pt=rt;else{var Q=st(pt),$=V/Q[2];pt=new Vt($,F[0]-Q[0]*$,F[1]-Q[1]*$)}I.zoom(null,pt)}})}function K(p,T,g){return!g&&p.__zooming||new q(p,T)}function q(p,T){this.that=p,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,T),this.taps=0}q.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,T){return this.mouse&&p!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var T=Wt(this.that).datum();l.call(p,this.that,new La(p,{sourceEvent:this.sourceEvent,target:S,type:p,transform:this.that.__zoom,dispatch:l}),T)}};function f(p,...T){if(!t.apply(this,arguments))return;var g=K(this,T).event(p),b=this.__zoom,A=Math.max(o[0],Math.min(o[1],b.k*Math.pow(2,r.apply(this,arguments)))),k=Kt(p);if(g.wheel)(g.mouse[0][0]!==k[0]||g.mouse[0][1]!==k[1])&&(g.mouse[1]=b.invert(g.mouse[0]=k)),clearTimeout(g.wheel);else{if(b.k===A)return;g.mouse=[k,b.invert(k)],Ie(this),g.start()}ue(p),g.wheel=setTimeout(I,x),g.zoom("mouse",n(H(z(b,A),g.mouse[0],g.mouse[1]),g.extent,s));function I(){g.wheel=null,g.end()}}function d(p,...T){if(m||!t.apply(this,arguments))return;var g=p.currentTarget,b=K(this,T,!0).event(p),A=Wt(p.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",V,!0),k=Kt(p,g),I=p.clientX,L=p.clientY;kl(p.view),on(p),b.mouse=[k,this.__zoom.invert(k)],Ie(this),b.start();function F(j){if(ue(j),!b.moved){var rt=j.clientX-I,st=j.clientY-L;b.moved=rt*rt+st*st>P}b.event(j).zoom("mouse",n(H(b.that.__zoom,b.mouse[0]=Kt(j,g),b.mouse[1]),b.extent,s))}function V(j){A.on("mousemove.zoom mouseup.zoom",null),Sl(j.view,b.moved),ue(j),b.event(j).end()}}function w(p,...T){if(!!t.apply(this,arguments)){var g=this.__zoom,b=Kt(p.changedTouches?p.changedTouches[0]:p,this),A=g.invert(b),k=g.k*(p.shiftKey?.5:2),I=n(H(z(g,k),b,A),e.apply(this,T),s);ue(p),a>0?Wt(this).transition().duration(a).call(J,I,b,p):Wt(this).call(S.transform,I,b,p)}}function v(p,...T){if(!!t.apply(this,arguments)){var g=p.touches,b=g.length,A=K(this,T,p.changedTouches.length===b).event(p),k,I,L,F;for(on(p),I=0;I<b;++I)L=g[I],F=Kt(L,this),F=[F,this.__zoom.invert(F),L.identifier],A.touch0?!A.touch1&&A.touch0[2]!==F[2]&&(A.touch1=F,A.taps=0):(A.touch0=F,k=!0,A.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(A.taps<2&&(h=F[0],c=setTimeout(function(){c=null},_)),Ie(this),A.start())}}function C(p,...T){if(!!this.__zooming){var g=K(this,T).event(p),b=p.changedTouches,A=b.length,k,I,L,F;for(ue(p),k=0;k<A;++k)I=b[k],L=Kt(I,this),g.touch0&&g.touch0[2]===I.identifier?g.touch0[0]=L:g.touch1&&g.touch1[2]===I.identifier&&(g.touch1[0]=L);if(I=g.that.__zoom,g.touch1){var V=g.touch0[0],j=g.touch0[1],rt=g.touch1[0],st=g.touch1[1],pt=(pt=rt[0]-V[0])*pt+(pt=rt[1]-V[1])*pt,Q=(Q=st[0]-j[0])*Q+(Q=st[1]-j[1])*Q;I=z(I,Math.sqrt(pt/Q)),L=[(V[0]+rt[0])/2,(V[1]+rt[1])/2],F=[(j[0]+st[0])/2,(j[1]+st[1])/2]}else if(g.touch0)L=g.touch0[0],F=g.touch0[1];else return;g.zoom("touch",n(H(I,L,F),g.extent,s))}}function Y(p,...T){if(!!this.__zooming){var g=K(this,T).event(p),b=p.changedTouches,A=b.length,k,I;for(on(p),m&&clearTimeout(m),m=setTimeout(function(){m=null},_),k=0;k<A;++k)I=b[k],g.touch0&&g.touch0[2]===I.identifier?delete g.touch0:g.touch1&&g.touch1[2]===I.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(I=Kt(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<E)){var L=Wt(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return S.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:Ee(+p),S):r},S.filter=function(p){return arguments.length?(t=typeof p=="function"?p:Ee(!!p),S):t},S.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:Ee(!!p),S):i},S.extent=function(p){return arguments.length?(e=typeof p=="function"?p:Ee([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),S):e},S.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],S):[o[0],o[1]]},S.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],S):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},S.constrain=function(p){return arguments.length?(n=p,S):n},S.duration=function(p){return arguments.length?(a=+p,S):a},S.interpolate=function(p){return arguments.length?(u=p,S):u},S.on=function(){var p=l.on.apply(l,arguments);return p===l?S:p},S.clickDistance=function(p){return arguments.length?(P=(p=+p)*p,S):Math.sqrt(P)},S.tapDistance=function(p){return arguments.length?(E=+p,S):E},S}function mr(t){let e,n;return e=new Xo({props:{hoveredData:t[6],data:t[0],domainColumn:t[1],colorScale:t[9],posX:t[7],posY:t[8]}}),{c(){kn(e.$$.fragment)},m(r,i){Ke(e,r,i),n=!0},p(r,i){const o={};i[0]&64&&(o.hoveredData=r[6]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&512&&(o.colorScale=r[9]),i[0]&128&&(o.posX=r[7]),i[0]&256&&(o.posY=r[8]),e.$set(o)},i(r){n||(qt(e.$$.fragment,r),n=!0)},o(r){Zt(e.$$.fragment,r),n=!1},d(r){Qe(e,r)}}}function Ha(t){let e,n,r,i,o,s,a,u,l,c,h,m,_,x=t[6]&&mr(t);return{c(){e=U("div"),n=U("div"),r=U("button"),r.textContent="+",i=ct(),o=U("button"),o.textContent="\u2212",s=ct(),a=U("button"),a.textContent="\u27F2",u=ct(),l=U("canvas"),c=ct(),x&&x.c(),D(r,"class","zoom-btn svelte-1q7voxg"),D(r,"aria-label","Zoom in"),D(r,"title","Zoom in"),D(o,"class","zoom-btn svelte-1q7voxg"),D(o,"aria-label","Zoom out"),D(o,"title","Zoom out"),D(a,"class","zoom-btn svelte-1q7voxg"),D(a,"aria-label","Reset zoom"),D(a,"title","Reset zoom"),D(n,"class","zoom-controls svelte-1q7voxg"),D(n,"aria-label","Zoom controls"),D(l,"width",t[2]),D(l,"height",t[3]),D(l,"class","svelte-1q7voxg"),D(e,"class","chart-container svelte-1q7voxg")},m(P,E){ot(P,e,E),N(e,n),N(n,r),N(n,i),N(n,o),N(n,s),N(n,a),N(e,u),N(e,l),t[30](l),N(e,c),x&&x.m(e,null),t[31](e),h=!0,m||(_=[_t(r,"click",t[13]),_t(o,"click",t[14]),_t(a,"click",t[15]),_t(l,"mousemove",t[10]),_t(l,"mouseleave",t[12]),_t(l,"click",t[11])],m=!0)},p(P,E){(!h||E[0]&4)&&D(l,"width",P[2]),(!h||E[0]&8)&&D(l,"height",P[3]),P[6]?x?(x.p(P,E),E[0]&64&&qt(x,1)):(x=mr(P),x.c(),qt(x,1),x.m(e,null)):x&&(Dr(),Zt(x,1,1,()=>{x=null}),Rr())},i(P){h||(qt(x),h=!0)},o(P){Zt(x),h=!1},d(P){P&&it(e),t[30](null),x&&x.d(),t[31](null),m=!1,Ht(_)}}}const Ce=6,Ya=.5,Ua=20,_r=280,yr=160;function te(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Wa(t,e,n){let r,i,o,s,a,u,l,c,h,{data:m=[]}=e,{domainColumn:_=""}=e,{opacity:x=1}=e,{selectedValues:P=new Set}=e,{searchQuery:E=""}=e,{showAnnotations:S=!0}=e,{highlightedData:z=[]}=e,{startDate:H=null}=e,{endDate:tt=null}=e,J=[],K,q,f,d=800,w=600;const v={top:20,right:20,bottom:20,left:20};let C=null,Y=null,p=Ue,T,g,b=0,A=0,k,I=1;function L(){if(!K||!q)return;const y=q.getBoundingClientRect();y.width>0&&y.height>0&&(n(2,d=Math.floor(y.width)),n(3,w=Math.floor(y.height))),I=Math.max(window.devicePixelRatio||1,1),n(4,K.style.width="100%",K),n(4,K.style.height="100%",K),n(4,K.width=Math.max(1,Math.floor(d*I)),K),n(4,K.height=Math.max(1,Math.floor(w*I)),K),n(23,f=K.getContext("2d")),f.setTransform(I,0,0,I,0,0)}function F(){if(!(!f||!m.length)){if(f.clearRect(0,0,d,w),f.save(),f.translate(p.x,p.y),f.scale(p.k,p.k),m.forEach(y=>{var at,nt;const X=!!(E&&String(E).trim().length),Z=X?te((at=y.title)!=null?at:"",E)||te((nt=y.text)!=null?nt:"",E):!0,W=P&&P.size>0&&P.size<r,M=W?P.has(y[_]):!0,R=H&&tt?y.date>=H&&y.date<=tt:!0,B=Z&&M&&R,O=X||W;f.beginPath(),f.arc(v.left+u(y.x),v.top+h(y.y),Math.max(.5,Ce/p.k),0,Math.PI*2),n(23,f.fillStyle=k(y[_]),f);const lt=.9,et=Math.max(0,Math.min(1,x));n(23,f.globalAlpha=O&&B?lt:et,f),f.fill(),n(23,f.globalAlpha=.2,f)}),S&&J.forEach(y=>{n(23,f.globalAlpha=1,f),f.beginPath(),f.arc(y.x,y.y,y.radius,0,Math.PI*2),n(23,f.strokeStyle="red",f),n(23,f.lineWidth=2,f),f.setLineDash([5,5]),f.stroke();const X=180,Z=12;n(23,f.font="16px Arial",f);const W=y.x+y.label_x,M=y.y+y.label_y;let R=0,B=0,O=[];if(y.label){const Rt=y.label.split(" ");let xt="";Rt.forEach((vt,zt)=>{const Et=xt+vt+" ";f.measureText(Et).width>X&&zt>0?(O.push(xt),R=Math.max(R,f.measureText(xt).width),xt=vt+" "):xt=Et}),O.push(xt),R=Math.max(R,f.measureText(xt).width),B=Z*O.length}const lt=W,et=M-Z,at=R,nt=B;let ht,ut;y.x<lt?ht=lt:y.x>lt+at?ht=lt+at:ht=y.x,y.y<et?ut=et:y.y>et+nt?ut=et+nt:ut=y.y;const yt=Math.atan2(ut-y.y,ht-y.x),mt=y.x+y.radius*Math.cos(yt),wt=y.y+y.radius*Math.sin(yt);if(f.setLineDash([]),f.beginPath(),f.moveTo(mt,wt),f.lineTo(ht,ut),n(23,f.strokeStyle="red",f),n(23,f.lineWidth=1,f),f.stroke(),y.label){n(23,f.font="16px Arial",f),n(23,f.fillStyle="red",f);const Rt=16;O.forEach((xt,vt)=>{f.fillText(xt,W,M+vt*Rt)})}}),f.setLineDash([]),C){const y=v.left+u(C.x),X=v.top+h(C.y);f.beginPath(),f.arc(y,X,Math.max(.5,Ce/p.k),0,Math.PI*2),n(23,f.fillStyle=k(C[_]),f),n(23,f.globalAlpha=1,f),f.fill(),n(23,f.strokeStyle="black",f),n(23,f.lineWidth=Math.max(1,2/p.k),f),f.stroke();const[Z,W]=[p.applyX(y),p.applyY(X)];let M=Z+12;M+_r>d-v.right&&(M=Z-12-_r);let R=W-yr*.5;const B=v.top+8,O=w-v.bottom-(yr+8);R=Math.max(B,Math.min(R,O)),n(7,b=M),n(8,A=R)}f.restore()}}function V(y){const X=K.getBoundingClientRect(),Z=d/X.width,W=w/X.height,M=(y.clientX-X.left)*Z,R=(y.clientY-X.top)*W,[B,O]=p.invert([M,R]),lt=m.find(et=>{var Et,Mt;const at=v.left+u(et.x),nt=v.top+h(et.y),ht=at-B,ut=nt-O,yt=Math.sqrt(ht*ht+ut*ut)<(Ce+3)/p.k,wt=!!(E&&String(E).trim().length)?te((Et=et.title)!=null?Et:"",E)||te((Mt=et.text)!=null?Mt:"",E):!0,xt=P&&P.size>0&&P.size<r?P.has(et[_]):!0,vt=H&&tt?et.date>=H&&et.date<=tt:!0;return yt&&(wt&&xt&&vt)});lt?(n(6,C=lt),Y=lt,n(4,K.style.cursor="pointer",K)):(n(6,C=null),Y=null,n(4,K.style.cursor="crosshair",K)),F()}function j(y){const X=K.getBoundingClientRect(),Z=d/X.width,W=w/X.height,M=(y.clientX-X.left)*Z,R=(y.clientY-X.top)*W,[B,O]=p.invert([M,R]),lt=m.find(at=>{var Mt,le;const nt=v.left+u(at.x),ht=v.top+h(at.y),ut=nt-B,yt=ht-O,mt=Math.sqrt(ut*ut+yt*yt)<(Ce+3)/p.k,Rt=!!(E&&String(E).trim().length)?te((Mt=at.title)!=null?Mt:"",E)||te((le=at.text)!=null?le:"",E):!0,vt=P&&P.size>0&&P.size<r?P.has(at[_]):!0,zt=H&&tt?at.date>=H&&at.date<=tt:!0;return mt&&(Rt&&vt&&zt)});if(!lt)return;const et=lt.url||lt.link||lt.href||lt.permalink;et&&typeof window<"u"&&window.open(et,"_blank","noopener,noreferrer")}function rt(){n(6,C=Y),F()}let st;xn(()=>(n(23,f=K.getContext("2d")),L(),window.ResizeObserver&&(st=new ResizeObserver(()=>{L(),F()}),st.observe(q)),T=Ba().scaleExtent([Ya,Ua]).filter(y=>{const X=y;return X.type==="wheel"||X.type==="touchstart"||X.type==="touchmove"?!0:X.type==="mousedown"?X.button===0&&!X.ctrlKey&&!X.metaKey&&!X.shiftKey:!X.ctrlKey&&!X.metaKey&&!X.shiftKey}).on("zoom",y=>{p=y.transform,F()}),g=Wt(K),g.call(T),F(),()=>{st&&st.disconnect()}));function pt(y,X){var M;if((M=X==null?void 0:X.stopPropagation)==null||M.call(X),!g||!T)return;const Z=d/2,W=w/2;g.transition().duration(200).call(T.scaleBy,y,[Z,W])}function Q(y){pt(1.25,y)}function $(y){pt(1/1.25,y)}function gt(y){var X;(X=y==null?void 0:y.stopPropagation)==null||X.call(y),!(!g||!T)&&g.transition().duration(200).call(T.transform,Ue)}function G(y){Xt[y?"unshift":"push"](()=>{K=y,n(4,K)})}function dt(y){Xt[y?"unshift":"push"](()=>{q=y,n(5,q)})}return t.$$set=y=>{"data"in y&&n(0,m=y.data),"domainColumn"in y&&n(1,_=y.domainColumn),"opacity"in y&&n(16,x=y.opacity),"selectedValues"in y&&n(17,P=y.selectedValues),"searchQuery"in y&&n(18,E=y.searchQuery),"showAnnotations"in y&&n(19,S=y.showAnnotations),"highlightedData"in y&&n(20,z=y.highlightedData),"startDate"in y&&n(21,H=y.startDate),"endDate"in y&&n(22,tt=y.endDate)},t.$$.update=()=>{t.$$.dirty[0]&1048576&&new Set(z.map(y=>y.id)),t.$$.dirty[0]&3&&(r=new Set(m.map(y=>y[_])).size),t.$$.dirty[0]&4&&n(27,i=d-v.left-v.right),t.$$.dirty[0]&8&&n(24,o=w-v.top-v.bottom),t.$$.dirty[0]&1&&n(29,s=[Hn(m,y=>y.x),Bn(m,y=>y.x)]),t.$$.dirty[0]&536870912&&n(28,a=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&402653184&&(u=gn().domain(a).range([0,i])),t.$$.dirty[0]&1&&n(26,l=[Hn(m,y=>y.y),Bn(m,y=>y.y)]),t.$$.dirty[0]&67108864&&n(25,c=l[0]===l[1]?[l[0]-1,l[1]+1]:l),t.$$.dirty[0]&50331648&&(h=gn().domain(c).range([o,0])),t.$$.dirty[0]&3&&n(9,k=Pr(Oo).domain(_?[...new Set(m.map(y=>y[_]).filter(y=>y!=null&&y!==""))]:[])),t.$$.dirty[0]&1&&m.length&&new Date(Math.min(...m.map(y=>y.date.getTime()))),t.$$.dirty[0]&1&&m.length&&new Date(Math.max(...m.map(y=>y.date.getTime()))),t.$$.dirty[0]&15663107&&f&&m.length&&F()},[m,_,d,w,K,q,C,b,A,k,V,j,rt,Q,$,gt,x,P,E,S,z,H,tt,f,o,c,l,i,a,s,G,dt]}class Ka extends Ze{constructor(e){super(),Ge(this,e,Wa,Ha,We,{data:0,domainColumn:1,opacity:16,selectedValues:17,searchQuery:18,showAnnotations:19,highlightedData:20,startDate:21,endDate:22},null,[-1,-1])}}function Qa(t){let e,n,r,i,o,s,a,u,l;return{c(){e=U("div"),n=U("div"),r=U("div"),i=ct(),o=U("div"),s=ct(),a=U("div"),D(r,"class","track-inner svelte-vytkle"),D(n,"class","track svelte-vytkle"),D(o,"class","thumb start-thumb svelte-vytkle"),St(o,"left",t[4]+"%"),D(a,"class","thumb end-thumb svelte-vytkle"),St(a,"left",t[3]+"%"),D(e,"class","range-slider svelte-vytkle"),St(e,"--start-percent",t[4]+"%"),St(e,"--end-percent",t[3]+"%")},m(c,h){ot(c,e,h),N(e,n),N(n,r),N(e,i),N(e,o),t[13](o),N(e,s),N(e,a),t[16](a),t[19](e),u||(l=[_t(r,"mousedown",t[11]),_t(r,"touchstart",t[12]),_t(o,"mousedown",t[14]),_t(o,"touchstart",t[15]),_t(a,"mousedown",t[17]),_t(a,"touchstart",t[18])],u=!0)},p(c,[h]){h&16&&St(o,"left",c[4]+"%"),h&8&&St(a,"left",c[3]+"%"),h&16&&St(e,"--start-percent",c[4]+"%"),h&8&&St(e,"--end-percent",c[3]+"%")},i:At,o:At,d(c){c&&it(e),t[13](null),t[16](null),t[19](null),u=!1,Ht(l)}}}function Ga(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:a}=e,{endValue:u}=e;const l=_i();let c,h,m,_=!1,x=null,P=null,E=0;function S(g,b){_=!0,x=b,P=c.getBoundingClientRect(),b==="range"&&(E=u-a),window.addEventListener("mousemove",z),window.addEventListener("mouseup",H)}function z(g){if(!_)return;const b=Math.min(Math.max(0,(g.clientX-P.left)/P.width),1),A=Math.round(b*(s-o)+o);if(x==="start")n(7,a=Math.min(A,u)),l("startChange",a);else if(x==="end")n(8,u=Math.max(A,a)),l("endChange",u);else if(x==="range"){let k=A-Math.floor(E/2),I=A+Math.ceil(E/2);k<o&&(k=o,I=o+E),I>s&&(I=s,k=s-E),k=Math.max(o,k),I=Math.min(s,I),n(7,a=k),n(8,u=I),l("startChange",a),l("endChange",u)}}function H(){_=!1,window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",H)}function tt(g,b){g.preventDefault(),_=!0,x=b,P=c.getBoundingClientRect(),b==="range"&&(E=u-a),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",K)}function J(g){if(g.preventDefault(),!_)return;const b=g.touches[0],A=Math.min(Math.max(0,(b.clientX-P.left)/P.width),1),k=Math.round(A*(s-o)+o);if(x==="start")n(7,a=Math.min(k,u)),l("startChange",a);else if(x==="end")n(8,u=Math.max(k,a)),l("endChange",u);else if(x==="range"){let I=k-Math.floor(E/2),L=k+Math.ceil(E/2);I<o&&(I=o,L=o+E),L>s&&(L=s,I=s-E),I=Math.max(o,I),L=Math.min(s,L),n(7,a=I),n(8,u=L),l("startChange",a),l("endChange",u)}}function K(){_=!1,window.removeEventListener("touchmove",J),window.removeEventListener("touchend",K)}const q=g=>S(g,"range"),f=g=>tt(g,"range");function d(g){Xt[g?"unshift":"push"](()=>{h=g,n(1,h)})}const w=g=>S(g,"start"),v=g=>tt(g,"start");function C(g){Xt[g?"unshift":"push"](()=>{m=g,n(2,m)})}const Y=g=>S(g,"end"),p=g=>tt(g,"end");function T(g){Xt[g?"unshift":"push"](()=>{c=g,n(0,c)})}return t.$$set=g=>{"min"in g&&n(9,o=g.min),"max"in g&&n(10,s=g.max),"startValue"in g&&n(7,a=g.startValue),"endValue"in g&&n(8,u=g.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(a-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[c,h,m,i,r,S,tt,a,u,o,s,q,f,d,w,v,C,Y,p,T]}class Za extends Ze{constructor(e){super(),Ge(this,e,Ga,Qa,We,{min:9,max:10,startValue:7,endValue:8})}}function wr(t,e,n){const r=t.slice();return r[54]=e[n],r}function vr(t,e,n){const r=t.slice();return r[57]=e[n],r}function br(t){let e,n,r,i,o,s,a=t[8],u=[];for(let l=0;l<a.length;l+=1)u[l]=xr(vr(t,a,l));return{c(){e=U("label"),e.textContent="\u{1F3A8} Color by Column:",n=ct(),r=U("select"),i=U("option"),i.textContent="Select column";for(let l=0;l<u.length;l+=1)u[l].c();D(e,"for","domain-column"),D(e,"class","svelte-dzl8os"),i.__value="",i.value=i.__value,i.disabled=!0,D(r,"id","domain-column"),D(r,"class","svelte-dzl8os"),t[0]===void 0&&Oe(()=>t[32].call(r))},m(l,c){ot(l,e,c),ot(l,n,c),ot(l,r,c),N(r,i);for(let h=0;h<u.length;h+=1)u[h].m(r,null);Pn(r,t[0]),o||(s=[_t(r,"change",t[20]),_t(r,"change",t[32])],o=!0)},p(l,c){if(c[0]&256){a=l[8];let h;for(h=0;h<a.length;h+=1){const m=vr(l,a,h);u[h]?u[h].p(m,c):(u[h]=xr(m),u[h].c(),u[h].m(r,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=a.length}c[0]&257&&Pn(r,l[0])},d(l){l&&it(e),l&&it(n),l&&it(r),Cr(u,l),o=!1,Ht(s)}}}function xr(t){let e,n=t[57]+"",r,i;return{c(){e=U("option"),r=bt(n),e.__value=i=t[57],e.value=e.__value},m(o,s){ot(o,e,s),N(e,r)},p(o,s){s[0]&256&&n!==(n=o[57]+"")&&Tt(r,n),s[0]&256&&i!==(i=o[57])&&(e.__value=i,e.value=e.__value)},d(o){o&&it(e)}}}function kr(t){let e,n,r,i,o,s=t[1],a=[];for(let u=0;u<s.length;u+=1)a[u]=Sr(wr(t,s,u));return{c(){e=U("label"),e.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",n=ct(),r=U("select");for(let u=0;u<a.length;u+=1)a[u].c();D(e,"for","value-select"),D(e,"class","svelte-dzl8os"),D(r,"id","value-select"),r.multiple=!0,D(r,"size","5"),D(r,"class","multi-select svelte-dzl8os")},m(u,l){ot(u,e,l),ot(u,n,l),ot(u,r,l);for(let c=0;c<a.length;c+=1)a[c].m(r,null);i||(o=_t(r,"change",t[21]),i=!0)},p(u,l){if(l[0]&6){s=u[1];let c;for(c=0;c<s.length;c+=1){const h=wr(u,s,c);a[c]?a[c].p(h,l):(a[c]=Sr(h),a[c].c(),a[c].m(r,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}},d(u){u&&it(e),u&&it(n),u&&it(r),Cr(a,u),i=!1,o()}}}function Sr(t){let e,n=t[54]+"",r,i,o;return{c(){e=U("option"),r=bt(n),e.__value=i=t[54],e.value=e.__value,e.selected=o=t[2].has(t[54])},m(s,a){ot(s,e,a),N(e,r)},p(s,a){a[0]&2&&n!==(n=s[54]+"")&&Tt(r,n),a[0]&2&&i!==(i=s[54])&&(e.__value=i,e.value=e.__value),a[0]&6&&o!==(o=s[2].has(s[54]))&&(e.selected=o)},d(s){s&&it(e)}}}function ja(t){let e;return{c(){e=bt("\u25B6")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function Ja(t){let e;return{c(){e=bt("\u275A\u275A")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function $a(t){let e;return{c(){e=U("p"),e.textContent="Waiting for data"},m(n,r){ot(n,e,r)},p:At,i:At,o:At,d(n){n&&it(e)}}}function tu(t){let e,n,r;function i(c,h){return c[15]==="downloading"?iu:c[15]==="parsing"?ru:nu}let o=i(t),s=o(t);function a(c,h){return c[15]==="downloading"?su:ou}let u=a(t),l=u(t);return{c(){e=U("div"),n=U("div"),s.c(),r=ct(),l.c(),D(n,"class","progress-header svelte-dzl8os"),D(e,"class","progress-wrap svelte-dzl8os")},m(c,h){ot(c,e,h),N(e,n),s.m(n,null),N(e,r),l.m(e,null)},p(c,h){o!==(o=i(c))&&(s.d(1),s=o(c),s&&(s.c(),s.m(n,null))),u===(u=a(c))&&l?l.p(c,h):(l.d(1),l=u(c),l&&(l.c(),l.m(e,null)))},i:At,o:At,d(c){c&&it(e),s.d(),l.d()}}}function eu(t){let e,n;return e=new Ka({props:{data:t[10],domainColumn:t[0],selectedValues:t[2],opacity:t[9],searchQuery:t[12],showAnnotations:t[13],highlightedData:t[7],startDate:t[3],endDate:t[4]}}),{c(){kn(e.$$.fragment)},m(r,i){Ke(e,r,i),n=!0},p(r,i){const o={};i[0]&1024&&(o.data=r[10]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&512&&(o.opacity=r[9]),i[0]&4096&&(o.searchQuery=r[12]),i[0]&8192&&(o.showAnnotations=r[13]),i[0]&128&&(o.highlightedData=r[7]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),e.$set(o)},i(r){n||(qt(e.$$.fragment,r),n=!0)},o(r){Zt(e.$$.fragment,r),n=!1},d(r){Qe(e,r)}}}function nu(t){let e;return{c(){e=bt("Loading...")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function ru(t){let e;return{c(){e=bt("Parsing CSV...")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function iu(t){let e;return{c(){e=bt("Downloading CSV...")},m(n,r){ot(n,e,r)},d(n){n&&it(e)}}}function ou(t){let e;return{c(){e=U("div"),D(e,"class","progress-bar indeterminate svelte-dzl8os")},m(n,r){ot(n,e,r)},p:At,d(n){n&&it(e)}}}function su(t){let e;function n(o,s){return o[17]?au:lu}let r=n(t),i=r(t);return{c(){i.c(),e=Ar()},m(o,s){i.m(o,s),ot(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&it(e)}}}function lu(t){let e,n,r,i=ne(t[16])+"",o;return{c(){e=U("div"),n=ct(),r=U("div"),o=bt(i),D(e,"class","progress-bar indeterminate svelte-dzl8os"),D(r,"class","progress-label svelte-dzl8os")},m(s,a){ot(s,e,a),ot(s,n,a),ot(s,r,a),N(r,o)},p(s,a){a[0]&65536&&i!==(i=ne(s[16])+"")&&Tt(o,i)},d(s){s&&it(e),s&&it(n),s&&it(r)}}}function au(t){let e,n,r,i,o,s,a=ne(t[16])+"",u,l,c=ne(t[17])+"",h,m;return{c(){e=U("div"),n=U("div"),r=ct(),i=U("div"),o=bt(t[18]),s=bt("% ("),u=bt(a),l=bt(" / "),h=bt(c),m=bt(")"),D(n,"class","progress-fill svelte-dzl8os"),St(n,"width",t[18]+"%"),D(e,"class","progress-bar svelte-dzl8os"),D(i,"class","progress-label svelte-dzl8os")},m(_,x){ot(_,e,x),N(e,n),ot(_,r,x),ot(_,i,x),N(i,o),N(i,s),N(i,u),N(i,l),N(i,h),N(i,m)},p(_,x){x[0]&262144&&St(n,"width",_[18]+"%"),x[0]&262144&&Tt(o,_[18]),x[0]&65536&&a!==(a=ne(_[16])+"")&&Tt(u,a),x[0]&131072&&c!==(c=ne(_[17])+"")&&Tt(h,c)},d(_){_&&it(e),_&&it(r),_&&it(i)}}}function uu(t){let e,n,r,i,o,s,a,u,l,c,h,m,_,x,P,E,S,z,H,tt,J,K,q,f,d,w,v,C,Y,p,T,g,b,A,k,I,L,F,V,j=Ut(t[3])+"",rt,st,pt,Q=Ut(t[4])+"",$,gt,G,dt,y,X,Z,W,M,R,B,O,lt,et,at,nt,ht,ut,yt,mt=t[8].length&&br(t),wt=t[1].length&&kr(t);function Rt(ft){t[36](ft)}function xt(ft){t[37](ft)}let vt={min:0,max:t[19]};t[5]!==void 0&&(vt.startValue=t[5]),t[6]!==void 0&&(vt.endValue=t[6]),A=new Za({props:vt}),Xt.push(()=>Vn(A,"startValue",Rt)),Xt.push(()=>Vn(A,"endValue",xt)),A.$on("startChange",t[38]),A.$on("endChange",t[39]);function zt(ft,kt){return ft[11]?Ja:ja}let Et=zt(t),Mt=Et(t);const le=[eu,tu,$a],Yt=[];function In(ft,kt){return ft[10].length?0:ft[14]?1:2}return at=In(t),nt=Yt[at]=le[at](t),{c(){e=U("div"),n=U("div"),n.innerHTML=`<h1 class="title svelte-dzl8os">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the
      articles are similar in meaning.</p>`,r=ct(),i=U("div"),o=U("div"),s=U("div"),a=U("button"),a.textContent="Reset filters",u=ct(),l=U("div"),l.innerHTML=`<details close=""><summary class="svelte-dzl8os">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-dzl8os"><p class="svelte-dzl8os">Semantic maps are tools that allow users to visually explore how
              different topics and ideas are connected. By analyzing the
              relationships between articles, these maps can reveal patterns and
              clusters in the data.</p> 
            <p class="svelte-dzl8os">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-dzl8os"><li class="svelte-dzl8os">Audit their coverage by identifying themes that may be
                underrepresented or overlooked.</li> 
              <li class="svelte-dzl8os">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-dzl8os">Discover which topics are being covered by other outlets,
                offering opportunities to adjust their editorial focus or
                collaborate.</li></ul></div></details>`,c=ct(),h=U("label"),h.textContent="\u{1F4C1} Upload CSV:",m=ct(),_=U("input"),x=ct(),P=U("label"),P.textContent="\u{1F50D} Search Text (supports regex):",E=ct(),S=U("input"),z=ct(),mt&&mt.c(),H=ct(),wt&&wt.c(),tt=ct(),J=U("label"),J.textContent="\u{1F4A1} Adjust Opacity:",K=ct(),q=U("input"),f=ct(),d=U("div"),w=U("label"),w.textContent="\u{1F4C5} Date Range:",v=ct(),C=U("input"),p=ct(),T=U("input"),b=ct(),kn(A.$$.fragment),L=ct(),F=U("div"),V=U("span"),rt=bt(j),st=ct(),pt=U("span"),$=bt(Q),gt=ct(),G=U("div"),dt=U("button"),dt.textContent="-1W",y=ct(),X=U("button"),X.textContent="-1D",Z=ct(),W=U("button"),Mt.c(),M=ct(),R=U("button"),R.textContent="+1D",B=ct(),O=U("button"),O.textContent="+1W",lt=ct(),et=U("div"),nt.c(),D(n,"class","title-section svelte-dzl8os"),D(a,"class","reset-btn svelte-dzl8os"),D(s,"class","filter-actions svelte-dzl8os"),D(l,"class","nerd-box svelte-dzl8os"),D(h,"for","file-upload"),D(h,"class","svelte-dzl8os"),D(_,"id","file-upload"),D(_,"type","file"),D(_,"accept",".csv"),D(_,"class","svelte-dzl8os"),D(P,"for","search-input"),D(P,"class","svelte-dzl8os"),D(S,"id","search-input"),D(S,"type","text"),D(S,"placeholder","Search or regex pattern..."),D(S,"class","svelte-dzl8os"),D(J,"for","opacity-slider"),D(J,"class","svelte-dzl8os"),D(q,"id","opacity-slider"),D(q,"type","range"),D(q,"min","0"),D(q,"max",".3"),D(q,"step","0.01"),D(q,"class","svelte-dzl8os"),D(w,"for","start-date"),D(w,"class","svelte-dzl8os"),D(C,"id","start-date"),D(C,"type","date"),C.value=Y=Ut(t[3]),D(C,"max","2025-07-01"),D(C,"class","svelte-dzl8os"),D(T,"id","end-date"),D(T,"type","date"),T.value=g=Ut(t[4]),D(T,"max","2025-07-01"),D(T,"class","svelte-dzl8os"),D(F,"class","date-range-labels svelte-dzl8os"),D(dt,"class","svelte-dzl8os"),D(X,"class","svelte-dzl8os"),D(W,"class","play-button svelte-dzl8os"),D(R,"class","svelte-dzl8os"),D(O,"class","svelte-dzl8os"),D(G,"class","date-navigation svelte-dzl8os"),D(d,"class","date-controls svelte-dzl8os"),D(o,"class","filter-panel svelte-dzl8os"),D(et,"class","scatterplot-container svelte-dzl8os"),D(i,"class","content svelte-dzl8os"),D(e,"class","container svelte-dzl8os")},m(ft,kt){ot(ft,e,kt),N(e,n),N(e,r),N(e,i),N(i,o),N(o,s),N(s,a),N(o,u),N(o,l),N(o,c),N(o,h),N(o,m),N(o,_),N(o,x),N(o,P),N(o,E),N(o,S),N(o,z),mt&&mt.m(o,null),N(o,H),wt&&wt.m(o,null),N(o,tt),N(o,J),N(o,K),N(o,q),Ln(q,t[9]),N(o,f),N(o,d),N(d,w),N(d,v),N(d,C),N(d,p),N(d,T),N(d,b),Ke(A,d,null),N(d,L),N(d,F),N(F,V),N(V,rt),N(F,st),N(F,pt),N(pt,$),N(d,gt),N(d,G),N(G,dt),N(G,y),N(G,X),N(G,Z),N(G,W),Mt.m(W,null),N(G,M),N(G,R),N(G,B),N(G,O),N(i,lt),N(i,et),Yt[at].m(et,null),ht=!0,ut||(yt=[_t(a,"click",t[28]),_t(_,"change",t[23]),_t(S,"input",t[26]),_t(q,"change",t[33]),_t(q,"input",t[33]),_t(q,"input",t[27]),_t(C,"change",t[34]),_t(T,"change",t[35]),_t(dt,"click",t[40]),_t(X,"click",t[41]),_t(W,"click",t[25]),_t(R,"click",t[42]),_t(O,"click",t[43])],ut=!0)},p(ft,kt){ft[8].length?mt?mt.p(ft,kt):(mt=br(ft),mt.c(),mt.m(o,H)):mt&&(mt.d(1),mt=null),ft[1].length?wt?wt.p(ft,kt):(wt=kr(ft),wt.c(),wt.m(o,tt)):wt&&(wt.d(1),wt=null),kt[0]&512&&Ln(q,ft[9]),(!ht||kt[0]&8&&Y!==(Y=Ut(ft[3])))&&(C.value=Y),(!ht||kt[0]&16&&g!==(g=Ut(ft[4])))&&(T.value=g);const ve={};kt[0]&524288&&(ve.max=ft[19]),!k&&kt[0]&32&&(k=!0,ve.startValue=ft[5],Fn(()=>k=!1)),!I&&kt[0]&64&&(I=!0,ve.endValue=ft[6],Fn(()=>I=!1)),A.$set(ve),(!ht||kt[0]&8)&&j!==(j=Ut(ft[3])+"")&&Tt(rt,j),(!ht||kt[0]&16)&&Q!==(Q=Ut(ft[4])+"")&&Tt($,Q),Et!==(Et=zt(ft))&&(Mt.d(1),Mt=Et(ft),Mt&&(Mt.c(),Mt.m(W,null)));let tn=at;at=In(ft),at===tn?Yt[at].p(ft,kt):(Dr(),Zt(Yt[tn],1,1,()=>{Yt[tn]=null}),Rr(),nt=Yt[at],nt?nt.p(ft,kt):(nt=Yt[at]=le[at](ft),nt.c()),qt(nt,1),nt.m(et,null))},i(ft){ht||(qt(A.$$.fragment,ft),qt(nt),ht=!0)},o(ft){Zt(A.$$.fragment,ft),Zt(nt),ht=!1},d(ft){ft&&it(e),mt&&mt.d(),wt&&wt.d(),Qe(A),Mt.d(),Yt[at].d(),ut=!1,Ht(yt)}}}const fu="2025-07-01";function ne(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Ut(t){return t?t.toISOString().split("T")[0]:""}function cu(t,e,n){let r,i;const o="https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",s=new Date(fu);let a=[],u=[],l="org",c=[],h=new Set,m=.02,_=null,x=null,P=[],E=[],S=0,z=0,H=!1,tt=null,J=[],K="",q=!1,f=!1,d="idle",w=0,v=0,C=0;xn(async()=>{try{n(14,f=!0),n(15,d="downloading"),n(16,w=0),n(17,v=0),n(18,C=0);const M=await fetch(o,{mode:"cors",cache:"no-store"});if(!M.ok)throw new Error(`HTTP ${M.status}`);const R=M.headers.get("content-length");n(17,v=R?parseInt(R,10):0);let B="";if(M.body&&M.body.getReader){const O=M.body.getReader(),lt=[];let et=0;for(;;){const{done:ht,value:ut}=await O.read();if(ht)break;lt.push(ut),et+=ut.byteLength,n(16,w=et),v&&n(18,C=Math.round(et/v*100))}const at=new Uint8Array(et);let nt=0;for(const ht of lt)at.set(ht,nt),nt+=ht.byteLength;B=new TextDecoder().decode(at),console.log("CSV head:",B.split(`
`).slice(0,5).join(`
`))}else B=await M.text();n(15,d="parsing"),await Promise.resolve(Y(B)),n(15,d="idle")}catch(M){console.error("Failed to load CSV:",M)}finally{n(14,f=!1)}return()=>{tt&&clearInterval(tt)}});function Y(M){const R=M.split(/\r?\n/);if(R.length>0){const lt=R[0].split(",").map(et=>et.trim().toLowerCase()).join(",");R[0]=lt,M=R.join(`
`)}const B=ki.parse(M,{header:!0});n(29,a=B.data.filter(O=>O.x&&O.y&&O.date).map((O,lt)=>({...O,x:+O.x,y:+O.y,date:new Date(O.date),id:lt}))),n(30,u=B.meta.fields||[]),n(31,E=[...new Set(a.map(O=>O.date.getTime()))].sort((O,lt)=>O-lt).map(O=>new Date(O))),n(3,_=E[0]),n(4,x=E[E.length-1]),x&&x.getTime()>s.getTime()&&n(4,x=new Date(s)),n(5,S=0),n(6,z=i),b(),l&&n(1,c=[...new Set(a.map(O=>O[l]).filter(O=>O!=null&&O!==""))].sort((O,lt)=>String(O).localeCompare(String(lt))))}function p(M){n(0,l=M.target.value),n(1,c=l?[...new Set(a.map(R=>R[l]).filter(Boolean))].sort((R,B)=>String(R).localeCompare(String(B))):[]),n(2,h=new Set),n(13,q=!1)}function T(M){const R=[...M.target.selectedOptions].map(O=>O.value);R.length===c.length||R.length===0?(n(2,h=new Set),n(7,J=[])):(n(2,h=new Set(R)),n(7,J=a.filter(O=>h.has(O[l])&&(!_||O.date>=_)&&(!x||O.date<=x)))),n(13,q=!1)}function g(M,R,B=!1){B?(n(3,_=E[M]||E[0]),n(4,x=E[R]||E[E.length-1]),x&&x.getTime()>s.getTime()&&n(4,x=new Date(s))):(n(3,_=M),n(4,x=R&&new Date(Math.min(R.getTime(),s.getTime())))),n(13,q=!1),b()}function b(){if(_){const M=_.getTime();n(5,S=Math.max(0,E.findIndex(R=>R.getTime()>=M)))}else n(5,S=0);if(x){const M=s.getTime(),R=Math.min(x.getTime(),M);let B=-1;for(let O=E.length-1;O>=0;O--)if(E[O].getTime()<=R){B=O;break}n(6,z=B>=0?B:0)}else n(6,z=i);S>z&&n(5,S=z),z<S&&n(6,z=S)}function A(M,R){if(M.detail!==void 0)R==="start"?(n(5,S=M.detail),S>z&&n(5,S=z)):(n(6,z=M.detail),z<S&&n(6,z=S)),g(S,z,!0);else{const B=M.target.value?new Date(M.target.value):null;R==="start"?g(B,x):g(_,B),b()}}function k(M){const R=M.target.files[0];if(R){const B=new FileReader;n(13,q=!1),B.onload=O=>Y(O.target.result),B.readAsText(R)}}function I(M){const R=z-S;let B=S+M,O=z+M;B<0&&(B=0,O=R),O>=E.length&&(O=E.length-1,B=Math.max(0,O-R)),n(5,S=B),n(6,z=O),g(S,z,!0)}function L(){H?(clearInterval(tt),n(11,H=!1)):(n(11,H=!0),n(13,q=!1),tt=setInterval(()=>{if(z>=E.length-1){clearInterval(tt),n(11,H=!1);return}I(1)},500))}function F(M){n(12,K=M.target.value),n(13,q=!1)}function V(){n(13,q=!1)}function j(){H&&tt&&(clearInterval(tt),n(11,H=!1));const M=u.includes("org")?"org":r[0]||"";n(0,l=M),n(2,h=new Set),n(7,J=[]),n(12,K=""),n(13,q=!1),n(9,m=.02),E.length?(n(5,S=0),n(6,z=E.length-1),g(S,z,!0)):(n(3,_=null),n(4,x=null),n(5,S=0),n(6,z=0))}function rt(){l=gi(this),n(0,l),n(30,u),n(8,r),n(8,r),n(30,u)}function st(){m=di(this.value),n(9,m)}const pt=M=>A(M,"start"),Q=M=>A(M,"end");function $(M){S=M,n(5,S)}function gt(M){z=M,n(6,z)}const G=M=>A(M,"start"),dt=M=>A(M,"end"),y=()=>I(-7),X=()=>I(-1),Z=()=>I(1),W=()=>I(7);return t.$$.update=()=>{t.$$.dirty[0]&128&&new Set(J.map(M=>M.id)),t.$$.dirty[0]&1073741824&&n(8,r=u.filter(M=>M==="org"||M==="cluster")),t.$$.dirty[0]&1073742081&&(!u||u.length===0||(r.length&&!r.includes(l)?n(0,l=r[0]):r.length===0&&n(0,l=""))),t.$$.dirty[0]&536870943&&n(10,P=a.map(M=>({...M,isHighlighted:h.size>0&&h.size<c.length&&h.has(M[l])&&(!_||M.date>=_)&&(!x||M.date<=x)}))),t.$$.dirty[0]&32|t.$$.dirty[1]&1&&E.length>1&&S/(E.length-1)*100,t.$$.dirty[0]&64|t.$$.dirty[1]&1&&E.length>1&&z/(E.length-1)*100,t.$$.dirty[1]&1&&n(19,i=(()=>{if(!E||E.length===0)return 0;const M=s.getTime(),R=E.findIndex(B=>B.getTime()>M);return R===-1?E.length-1:Math.max(0,R-1)})())},/^https?:\/\//i.test(o),[l,c,h,_,x,S,z,J,r,m,P,H,K,q,f,d,w,v,C,i,p,T,A,k,I,L,F,V,j,a,u,E,rt,st,pt,Q,$,gt,G,dt,y,X,Z,W]}class hu extends Ze{constructor(e){super(),Ge(this,e,cu,uu,We,{},null,[-1,-1])}}new hu({target:document.getElementById("app")});
