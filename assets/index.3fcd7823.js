(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Se(){}function wn(e){return e()}function Ht(){return Object.create(null)}function Te(e){e.forEach(wn)}function xn(e){return typeof e=="function"}function pt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pn(e){return Object.keys(e).length===0}function A(e,t){e.appendChild(t)}function ce(e,t,n){e.insertBefore(t,n||null)}function oe(e){e.parentNode.removeChild(e)}function vn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function we(e){return document.createTextNode(e)}function le(){return we(" ")}function he(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Fn(e){return e===""?null:+e}function Hn(e){return Array.from(e.childNodes)}function De(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function qt(e,t){e.value=t==null?"":t}function Ee(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Vt(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function qn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function Vn(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Ge;function Qe(e){Ge=e}function kn(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function It(e){kn().$$.on_mount.push(e)}function Wn(){const e=kn();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=Vn(t,n,{cancelable:r});return i.slice().forEach(l=>{l.call(e,s)}),!s.defaultPrevented}return!0}}const Xe=[],Ne=[],at=[],Mt=[],Bn=Promise.resolve();let St=!1;function Un(){St||(St=!0,Bn.then(Mn))}function ut(e){at.push(e)}function Wt(e){Mt.push(e)}const xt=new Set;let nt=0;function Mn(){const e=Ge;do{for(;nt<Xe.length;){const t=Xe[nt];nt++,Qe(t),Xn(t.$$)}for(Qe(null),Xe.length=0,nt=0;Ne.length;)Ne.pop()();for(let t=0;t<at.length;t+=1){const n=at[t];xt.has(n)||(xt.add(n),n())}at.length=0}while(Xe.length);for(;Mt.length;)Mt.pop()();St=!1,xt.clear(),Qe(e)}function Xn(e){if(e.fragment!==null){e.update(),Te(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ut)}}const lt=new Set;let Le;function Sn(){Le={r:0,c:[],p:Le}}function En(){Le.r||Te(Le.c),Le=Le.p}function Ae(e,t){e&&e.i&&(lt.delete(e),e.i(t))}function Pe(e,t,n,r){if(e&&e.o){if(lt.has(e))return;lt.add(e),Le.c.push(()=>{lt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Bt(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Nt(e){e&&e.c()}function mt(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||ut(()=>{const l=e.$$.on_mount.map(wn).filter(xn);e.$$.on_destroy?e.$$.on_destroy.push(...l):Te(l),e.$$.on_mount=[]}),s.forEach(ut)}function _t(e,t){const n=e.$$;n.fragment!==null&&(Te(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Yn(e,t){e.$$.dirty[0]===-1&&(Xe.push(e),Un(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function bt(e,t,n,r,i,s,l,a=[-1]){const c=Ge;Qe(e);const o=e.$$={fragment:null,ctx:[],props:s,update:Se,not_equal:i,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ht(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};l&&l(o.root);let g=!1;if(o.ctx=n?n(e,t.props||{},(p,b,...j)=>{const E=j.length?j[0]:b;return o.ctx&&i(o.ctx[p],o.ctx[p]=E)&&(!o.skip_bound&&o.bound[p]&&o.bound[p](E),g&&Yn(e,p)),b}):[],o.update(),g=!0,Te(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const p=Hn(t.target);o.fragment&&o.fragment.l(p),p.forEach(oe)}else o.fragment&&o.fragment.c();t.intro&&Ae(e.$$.fragment),mt(e,t.target,t.anchor,t.customElement),Mn()}Qe(c)}class yt{$destroy(){_t(this,1),this.$destroy=Se}$on(t,n){if(!xn(n))return Se;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Pn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Kn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,a={},c=0,o={};function g(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(f){var d=$(f);d.chunkSize=parseInt(d.chunkSize),f.step||f.chunk||(d.chunkSize=null),this._handle=new V(d),(this._handle.streamer=this)._config=d}.call(this,u),this.parseChunk=function(f,d){var _=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<_){let T=this._config.newline;T||(x=this._config.quoteChar||'"',T=this._handle.guessLineEndings(f,x)),f=[...f.split(T).slice(_)].join(T)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(x=this._config.beforeFirstChunk(f))!==void 0&&(f=x),this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+f,x=(this._partialLine="",this._handle.parse(_,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(f=x.meta.cursor,_=(this._finished||(this._partialLine=_.substring(f-this._baseIndex),this._baseIndex=f),x&&x.data&&(this._rowCount+=x.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:x,workerId:o.WORKER_ID,finished:_});else if(L(this._config.chunk)&&!d){if(this._config.chunk(x,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=x=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(x.data),this._completeResults.errors=this._completeResults.errors.concat(x.errors),this._completeResults.meta=x.meta),this._completed||!_||!L(this._config.complete)||x&&x.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_||x&&x.meta.paused||this._nextChunk(),x}this._halted=!0},this._sendError=function(f){L(this._config.error)?this._config.error(f):l&&this._config.error&&r.postMessage({workerId:o.WORKER_ID,error:f,finished:!1})}}function p(u){var f;(u=u||{}).chunkSize||(u.chunkSize=o.RemoteChunkSize),g.call(this,u),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(d){this._input=d,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),s||(f.onload=ee(this._chunkLoaded,this),f.onerror=ee(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var d,_=this._config.downloadRequestHeaders;for(d in _)f.setRequestHeader(d,_[d])}var x;this._config.chunkSize&&(x=this._start+this._config.chunkSize-1,f.setRequestHeader("Range","bytes="+this._start+"-"+x));try{f.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}s&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize||f.responseText.length,this._finished=!this._config.chunkSize||this._start>=(d=>(d=d.getResponseHeader("Content-Range"))!==null?parseInt(d.substring(d.lastIndexOf("/")+1)):-1)(f),this.parseChunk(f.responseText)))},this._chunkError=function(d){d=f.statusText||d,this._sendError(new Error(d))}}function b(u){(u=u||{}).chunkSize||(u.chunkSize=o.LocalChunkSize),g.call(this,u);var f,d,_=typeof FileReader<"u";this.stream=function(x){this._input=x,d=x.slice||x.webkitSlice||x.mozSlice,_?((f=new FileReader).onload=ee(this._chunkLoaded,this),f.onerror=ee(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input,T=(this._config.chunkSize&&(T=Math.min(this._start+this._config.chunkSize,this._input.size),x=d.call(x,this._start,T)),f.readAsText(x,this._config.encoding));_||this._chunkLoaded({target:{result:T}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(f.error)}}function j(u){var f;g.call(this,u=u||{}),this.stream=function(d){return f=d,this._nextChunk()},this._nextChunk=function(){var d,_;if(!this._finished)return d=this._config.chunkSize,f=d?(_=f.substring(0,d),f.substring(d)):(_=f,""),this._finished=!f,this.parseChunk(_)}}function E(u){g.call(this,u=u||{});var f=[],d=!0,_=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):d=!0},this._streamData=ee(function(x){try{f.push(typeof x=="string"?x:x.toString(this._config.encoding)),d&&(d=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(T){this._streamError(T)}},this),this._streamError=ee(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=ee(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function V(u){var f,d,_,x,T=Math.pow(2,53),Z=-T,k=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,m=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,H=0,w=0,W=!1,R=!1,P=[],M={data:[],errors:[],meta:{}};function B(y){return u.skipEmptyLines==="greedy"?y.join("").trim()==="":y.length===1&&y[0].length===0}function Q(){if(M&&_&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),_=!1),u.skipEmptyLines&&(M.data=M.data.filter(function(G){return!B(G)})),re()){let G=function(se,Y){L(u.transformHeader)&&(se=u.transformHeader(se,Y)),P.push(se)};var F=G;if(M)if(Array.isArray(M.data[0])){for(var y=0;re()&&y<M.data.length;y++)M.data[y].forEach(G);M.data.splice(0,1)}else M.data.forEach(G)}function v(G,se){for(var Y=u.header?{}:[],U=0;U<G.length;U++){var O=U,ue=G[U],ue=((te,ae)=>(ie=>(u.dynamicTypingFunction&&u.dynamicTyping[ie]===void 0&&(u.dynamicTyping[ie]=u.dynamicTypingFunction(ie)),(u.dynamicTyping[ie]||u.dynamicTyping)===!0))(te)?ae==="true"||ae==="TRUE"||ae!=="false"&&ae!=="FALSE"&&((ie=>{if(k.test(ie)&&(ie=parseFloat(ie),Z<ie&&ie<T))return 1})(ae)?parseFloat(ae):m.test(ae)?new Date(ae):ae===""?null:ae):ae)(O=u.header?U>=P.length?"__parsed_extra":P[U]:O,ue=u.transform?u.transform(ue,O):ue);O==="__parsed_extra"?(Y[O]=Y[O]||[],Y[O].push(ue)):Y[O]=ue}return u.header&&(U>P.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+U,w+se):U<P.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+U,w+se)),Y}var z;M&&(u.header||u.dynamicTyping||u.transform)&&(z=1,!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(v),z=M.data.length):M.data=v(M.data,0),u.header&&M.meta&&(M.meta.fields=P),w+=z)}function re(){return u.header&&P.length===0}function C(y,v,z,F){y={type:y,code:v,message:z},F!==void 0&&(y.row=F),M.errors.push(y)}L(u.step)&&(x=u.step,u.step=function(y){M=y,re()?Q():(Q(),M.data.length!==0&&(H+=y.data.length,u.preview&&H>u.preview?d.abort():(M.data=M.data[0],x(M,D))))}),this.parse=function(y,v,z){var F=u.quoteChar||'"',F=(u.newline||(u.newline=this.guessLineEndings(y,F)),_=!1,u.delimiter?L(u.delimiter)&&(u.delimiter=u.delimiter(y),M.meta.delimiter=u.delimiter):((F=((G,se,Y,U,O)=>{var ue,te,ae,ie;O=O||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var me=0;me<O.length;me++){for(var de,Re=O[me],ge=0,fe=0,ne=0,_e=(ae=void 0,new K({comments:U,delimiter:Re,newline:se,preview:10}).parse(G)),xe=0;xe<_e.data.length;xe++)Y&&B(_e.data[xe])?ne++:(de=_e.data[xe].length,fe+=de,ae===void 0?ae=de:0<de&&(ge+=Math.abs(de-ae),ae=de));0<_e.data.length&&(fe/=_e.data.length-ne),(te===void 0||ge<=te)&&(ie===void 0||ie<fe)&&1.99<fe&&(te=ge,ue=Re,ie=fe)}return{successful:!!(u.delimiter=ue),bestDelimiter:ue}})(y,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess)).successful?u.delimiter=F.bestDelimiter:(_=!0,u.delimiter=o.DefaultDelimiter),M.meta.delimiter=u.delimiter),$(u));return u.preview&&u.header&&F.preview++,f=y,d=new K(F),M=d.parse(f,v,z),Q(),W?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,d.abort(),f=L(u.chunk)?"":f.substring(d.getCharIndex())},this.resume=function(){D.streamer._halted?(W=!1,D.streamer.parseChunk(f,!0)):setTimeout(D.resume,3)},this.aborted=function(){return R},this.abort=function(){R=!0,d.abort(),M.meta.aborted=!0,L(u.complete)&&u.complete(M),f=""},this.guessLineEndings=function(G,F){G=G.substring(0,1048576);var F=new RegExp(N(F)+"([^]*?)"+N(F),"gm"),z=(G=G.replace(F,"")).split("\r"),F=G.split(`
`),G=1<F.length&&F[0].length<z[0].length;if(z.length===1||G)return`
`;for(var se=0,Y=0;Y<z.length;Y++)z[Y][0]===`
`&&se++;return se>=z.length/2?`\r
`:"\r"}}function N(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K(u){var f=(u=u||{}).delimiter,d=u.newline,_=u.comments,x=u.step,T=u.preview,Z=u.fastMode,k=null,m=!1,D=u.quoteChar==null?'"':u.quoteChar,H=D;if(u.escapeChar!==void 0&&(H=u.escapeChar),(typeof f!="string"||-1<o.BAD_DELIMITERS.indexOf(f))&&(f=","),_===f)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<o.BAD_DELIMITERS.indexOf(_))&&(_=!1),d!==`
`&&d!=="\r"&&d!==`\r
`&&(d=`
`);var w=0,W=!1;this.parse=function(R,P,M){if(typeof R!="string")throw new Error("Input must be a string");var B=R.length,Q=f.length,re=d.length,C=_.length,y=L(x),v=[],z=[],F=[],G=w=0;if(!R)return ge();if(Z||Z!==!1&&R.indexOf(D)===-1){for(var se=R.split(d),Y=0;Y<se.length;Y++){if(F=se[Y],w+=F.length,Y!==se.length-1)w+=d.length;else if(M)return ge();if(!_||F.substring(0,C)!==_){if(y){if(v=[],ie(F.split(f)),fe(),W)return ge()}else ie(F.split(f));if(T&&T<=Y)return v=v.slice(0,T),ge(!0)}}return ge()}for(var U=R.indexOf(f,w),O=R.indexOf(d,w),ue=new RegExp(N(H)+N(D),"g"),te=R.indexOf(D,w);;)if(R[w]===D)for(te=w,w++;;){if((te=R.indexOf(D,te+1))===-1)return M||z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:w}),de();if(te===B-1)return de(R.substring(w,te).replace(ue,D));if(D===H&&R[te+1]===H)te++;else if(D===H||te===0||R[te-1]!==H){U!==-1&&U<te+1&&(U=R.indexOf(f,te+1));var ae=me((O=O!==-1&&O<te+1?R.indexOf(d,te+1):O)===-1?U:Math.min(U,O));if(R.substr(te+1+ae,Q)===f){F.push(R.substring(w,te).replace(ue,D)),R[w=te+1+ae+Q]!==D&&(te=R.indexOf(D,w)),U=R.indexOf(f,w),O=R.indexOf(d,w);break}if(ae=me(O),R.substring(te+1+ae,te+1+ae+re)===d){if(F.push(R.substring(w,te).replace(ue,D)),Re(te+1+ae+re),U=R.indexOf(f,w),te=R.indexOf(D,w),y&&(fe(),W))return ge();if(T&&v.length>=T)return ge(!0);break}z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:w}),te++}}else if(_&&F.length===0&&R.substring(w,w+C)===_){if(O===-1)return ge();w=O+re,O=R.indexOf(d,w),U=R.indexOf(f,w)}else if(U!==-1&&(U<O||O===-1))F.push(R.substring(w,U)),w=U+Q,U=R.indexOf(f,w);else{if(O===-1)break;if(F.push(R.substring(w,O)),Re(O+re),y&&(fe(),W))return ge();if(T&&v.length>=T)return ge(!0)}return de();function ie(ne){v.push(ne),G=w}function me(ne){var _e=0;return _e=ne!==-1&&(ne=R.substring(te+1,ne))&&ne.trim()===""?ne.length:_e}function de(ne){return M||(ne===void 0&&(ne=R.substring(w)),F.push(ne),w=B,ie(F),y&&fe()),ge()}function Re(ne){w=ne,ie(F),F=[],O=R.indexOf(d,w)}function ge(ne){if(u.header&&!P&&v.length&&!m){var _e=v[0],xe={},Oe=new Set(_e);let Be=!1;for(let ve=0;ve<_e.length;ve++){let pe=_e[ve];if(xe[pe=L(u.transformHeader)?u.transformHeader(pe,ve):pe]){let je,ke=xe[pe];for(;je=pe+"_"+ke,ke++,Oe.has(je););Oe.add(je),_e[ve]=je,xe[pe]++,Be=!0,(k=k===null?{}:k)[je]=pe}else xe[pe]=1,_e[ve]=pe;Oe.add(pe)}Be&&console.warn("Duplicate headers found and renamed."),m=!0}return{data:v,errors:z,meta:{delimiter:f,linebreak:d,aborted:W,truncated:!!ne,cursor:G+(P||0),renamedHeaders:k}}}function fe(){x(ge()),v=[],z=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return w}}function I(u){var f=u.data,d=a[f.workerId],_=!1;if(f.error)d.userError(f.error,f.file);else if(f.results&&f.results.data){var x={abort:function(){_=!0,h(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:X,resume:X};if(L(d.userStep)){for(var T=0;T<f.results.data.length&&(d.userStep({data:f.results.data[T],errors:f.results.errors,meta:f.results.meta},x),!_);T++);delete f.results}else L(d.userChunk)&&(d.userChunk(f.results,x,f.file),delete f.results)}f.finished&&!_&&h(f.workerId,f.results)}function h(u,f){var d=a[u];L(d.userComplete)&&d.userComplete(f),d.terminate(),delete a[u]}function X(){throw new Error("Not implemented.")}function $(u){if(typeof u!="object"||u===null)return u;var f,d=Array.isArray(u)?[]:{};for(f in u)d[f]=$(u[f]);return d}function ee(u,f){return function(){u.apply(f,arguments)}}function L(u){return typeof u=="function"}return o.parse=function(u,f){var d=(f=f||{}).dynamicTyping||!1;if(L(d)&&(f.dynamicTypingFunction=d,d={}),f.dynamicTyping=d,f.transform=!!L(f.transform)&&f.transform,!f.worker||!o.WORKERS_SUPPORTED)return d=null,o.NODE_STREAM_INPUT,typeof u=="string"?(u=(_=>_.charCodeAt(0)!==65279?_:_.slice(1))(u),d=new(f.download?p:j)(f)):u.readable===!0&&L(u.read)&&L(u.on)?d=new E(f):(r.File&&u instanceof File||u instanceof Object)&&(d=new b(f)),d.stream(u);(d=(()=>{var _;return!!o.WORKERS_SUPPORTED&&(_=(()=>{var x=r.URL||r.webkitURL||null,T=n.toString();return o.BLOB_URL||(o.BLOB_URL=x.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",T,")();"],{type:"text/javascript"})))})(),(_=new r.Worker(_)).onmessage=I,_.id=c++,a[_.id]=_)})()).userStep=f.step,d.userChunk=f.chunk,d.userComplete=f.complete,d.userError=f.error,f.step=L(f.step),f.chunk=L(f.chunk),f.complete=L(f.complete),f.error=L(f.error),delete f.worker,d.postMessage({input:u,config:f,workerId:d.id})},o.unparse=function(u,f){var d=!1,_=!0,x=",",T=`\r
`,Z='"',k=Z+Z,m=!1,D=null,H=!1,w=((()=>{if(typeof f=="object"){if(typeof f.delimiter!="string"||o.BAD_DELIMITERS.filter(function(P){return f.delimiter.indexOf(P)!==-1}).length||(x=f.delimiter),typeof f.quotes!="boolean"&&typeof f.quotes!="function"&&!Array.isArray(f.quotes)||(d=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(m=f.skipEmptyLines),typeof f.newline=="string"&&(T=f.newline),typeof f.quoteChar=="string"&&(Z=f.quoteChar),typeof f.header=="boolean"&&(_=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");D=f.columns}f.escapeChar!==void 0&&(k=f.escapeChar+Z),f.escapeFormulae instanceof RegExp?H=f.escapeFormulae:typeof f.escapeFormulae=="boolean"&&f.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(Z),"g"));if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return W(null,u,m);if(typeof u[0]=="object")return W(D||Object.keys(u[0]),u,m)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||D),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),W(u.fields||[],u.data||[],m);throw new Error("Unable to serialize unrecognized input");function W(P,M,B){var Q="",re=(typeof P=="string"&&(P=JSON.parse(P)),typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(P)&&0<P.length),C=!Array.isArray(M[0]);if(re&&_){for(var y=0;y<P.length;y++)0<y&&(Q+=x),Q+=R(P[y],y);0<M.length&&(Q+=T)}for(var v=0;v<M.length;v++){var z=(re?P:M[v]).length,F=!1,G=re?Object.keys(M[v]).length===0:M[v].length===0;if(B&&!re&&(F=B==="greedy"?M[v].join("").trim()==="":M[v].length===1&&M[v][0].length===0),B==="greedy"&&re){for(var se=[],Y=0;Y<z;Y++){var U=C?P[Y]:Y;se.push(M[v][U])}F=se.join("").trim()===""}if(!F){for(var O=0;O<z;O++){0<O&&!G&&(Q+=x);var ue=re&&C?P[O]:O;Q+=R(M[v][ue],O)}v<M.length-1&&(!B||0<z&&!G)&&(Q+=T)}}return Q}function R(P,M){var B,Q;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(Q=!1,H&&typeof P=="string"&&H.test(P)&&(P="'"+P,Q=!0),B=P.toString().replace(w,k),(Q=Q||d===!0||typeof d=="function"&&d(P,M)||Array.isArray(d)&&d[M]||((re,C)=>{for(var y=0;y<C.length;y++)if(-1<re.indexOf(C[y]))return!0;return!1})(B,o.BAD_DELIMITERS)||-1<B.indexOf(x)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?Z+B+Z:B)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!s&&!!r.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=K,o.ParserHandle=V,o.NetworkStreamer=p,o.FileStreamer=b,o.StringStreamer=j,o.ReadableStreamStreamer=E,r.jQuery&&((i=r.jQuery).fn.parse=function(u){var f=u.config||{},d=[];return this.each(function(T){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Z=0;Z<this.files.length;Z++)d.push({file:this.files[Z],inputElem:this,instanceConfig:i.extend({},f)})}),_(),this;function _(){if(d.length===0)L(u.complete)&&u.complete();else{var T,Z,k,m,D=d[0];if(L(u.before)){var H=u.before(D.file,D.inputElem);if(typeof H=="object"){if(H.action==="abort")return T="AbortError",Z=D.file,k=D.inputElem,m=H.reason,void(L(u.error)&&u.error({name:T},Z,k,m));if(H.action==="skip")return void x();typeof H.config=="object"&&(D.instanceConfig=i.extend(D.instanceConfig,H.config))}else if(H==="skip")return void x()}var w=D.instanceConfig.complete;D.instanceConfig.complete=function(W){L(w)&&w(W,D.file,D.inputElem),x()},o.parse(D.file,D.instanceConfig)}}function x(){d.splice(0,1),_()}}),l&&(r.onmessage=function(u){u=u.data,o.WORKER_ID===void 0&&u&&(o.WORKER_ID=u.workerId),typeof u.input=="string"?r.postMessage({workerId:o.WORKER_ID,results:o.parse(u.input,u.config),finished:!0}):(r.File&&u.input instanceof File||u.input instanceof Object)&&(u=o.parse(u.input,u.config))&&r.postMessage({workerId:o.WORKER_ID,results:u,finished:!0})}),(p.prototype=Object.create(g.prototype)).constructor=p,(b.prototype=Object.create(g.prototype)).constructor=b,(j.prototype=Object.create(j.prototype)).constructor=j,(E.prototype=Object.create(g.prototype)).constructor=E,o})})(Cn);const Qn=Cn.exports;function ot(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rn(e){let t,n,r;e.length!==2?(t=ot,n=(a,c)=>ot(e(a),c),r=(a,c)=>e(a)-c):(t=e===ot||e===Gn?e:Jn,n=e,r=e);function i(a,c,o=0,g=a.length){if(o<g){if(t(c,c)!==0)return g;do{const p=o+g>>>1;n(a[p],c)<0?o=p+1:g=p}while(o<g)}return o}function s(a,c,o=0,g=a.length){if(o<g){if(t(c,c)!==0)return g;do{const p=o+g>>>1;n(a[p],c)<=0?o=p+1:g=p}while(o<g)}return o}function l(a,c,o=0,g=a.length){const p=i(a,c,o,g-1);return p>o&&r(a[p-1],c)>-r(a[p],c)?p-1:p}return{left:i,center:l,right:s}}function Jn(){return 0}function Zn(e){return e===null?NaN:+e}const $n=Rn(ot),er=$n.right;Rn(Zn).center;const tr=er;class Ut extends Map{constructor(t,n=ir){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Xt(this,t))}has(t){return super.has(Xt(this,t))}set(t,n){return super.set(nr(this,t),n)}delete(t){return super.delete(rr(this,t))}}function Xt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ir(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Et=Math.sqrt(50),Ct=Math.sqrt(10),Rt=Math.sqrt(2);function sr(e,t,n){var r,i=-1,s,l,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(a=Dn(e,t,n))===0||!isFinite(a))return[];if(a>0){let c=Math.round(e/a),o=Math.round(t/a);for(c*a<e&&++c,o*a>t&&--o,l=new Array(s=o-c+1);++i<s;)l[i]=(c+i)*a}else{a=-a;let c=Math.round(e*a),o=Math.round(t*a);for(c/a<e&&++c,o/a>t&&--o,l=new Array(s=o-c+1);++i<s;)l[i]=(c+i)/a}return r&&l.reverse(),l}function Dn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=Et?10:s>=Ct?5:s>=Rt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=Et?10:s>=Ct?5:s>=Rt?2:1)}function ar(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=Et?i*=10:s>=Ct?i*=5:s>=Rt&&(i*=2),t<e?-i:i}function Yt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Kt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function An(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Qt=Symbol("implicit");function Tn(){var e=new Ut,t=[],n=[],r=Qt;function i(s){let l=e.get(s);if(l===void 0){if(r!==Qt)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Ut;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Tn(t,n).unknown(r)},An.apply(i,arguments),i}function Ot(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function et(){}var Je=.7,ft=1/Je,Ve="\\s*([+-]?\\d+)\\s*",Ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lr=/^#([0-9a-f]{3,8})$/,or=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),ur=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),fr=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${Ze}\\)$`),cr=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Ze}\\)$`),hr=new RegExp(`^hsl\\(${Ze},${Ce},${Ce}\\)$`),dr=new RegExp(`^hsla\\(${Ze},${Ce},${Ce},${Ze}\\)$`),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ot(et,$e,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jt,formatHex:Jt,formatHex8:gr,formatHsl:pr,formatRgb:Zt,toString:Zt});function Jt(){return this.rgb().formatHex()}function gr(){return this.rgb().formatHex8()}function pr(){return In(this).formatHsl()}function Zt(){return this.rgb().formatRgb()}function $e(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$t(t):n===3?new ye(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=or.exec(e))?new ye(t[1],t[2],t[3],1):(t=ur.exec(e))?new ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fr.exec(e))?rt(t[1],t[2],t[3],t[4]):(t=cr.exec(e))?rt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hr.exec(e))?nn(t[1],t[2]/100,t[3]/100,1):(t=dr.exec(e))?nn(t[1],t[2]/100,t[3]/100,t[4]):Gt.hasOwnProperty(e)?$t(Gt[e]):e==="transparent"?new ye(NaN,NaN,NaN,0):null}function $t(e){return new ye(e>>16&255,e>>8&255,e&255,1)}function rt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ye(e,t,n,r)}function mr(e){return e instanceof et||(e=$e(e)),e?(e=e.rgb(),new ye(e.r,e.g,e.b,e.opacity)):new ye}function Dt(e,t,n,r){return arguments.length===1?mr(e):new ye(e,t,n,r==null?1:r)}function ye(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ot(ye,Dt,jn(et,{brighter(e){return e=e==null?ft:Math.pow(ft,e),new ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Je:Math.pow(Je,e),new ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ye(Fe(this.r),Fe(this.g),Fe(this.b),ct(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:_r,formatRgb:tn,toString:tn}));function en(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}`}function _r(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}${ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function tn(){const e=ct(this.opacity);return`${e===1?"rgb(":"rgba("}${Fe(this.r)}, ${Fe(this.g)}, ${Fe(this.b)}${e===1?")":`, ${e})`}`}function ct(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ze(e){return e=Fe(e),(e<16?"0":"")+e.toString(16)}function nn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Me(e,t,n,r)}function In(e){if(e instanceof Me)return new Me(e.h,e.s,e.l,e.opacity);if(e instanceof et||(e=$e(e)),!e)return new Me;if(e instanceof Me)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,a=s-i,c=(s+i)/2;return a?(t===s?l=(n-r)/a+(n<r)*6:n===s?l=(r-t)/a+2:l=(t-n)/a+4,a/=c<.5?s+i:2-s-i,l*=60):a=c>0&&c<1?0:l,new Me(l,a,c,e.opacity)}function br(e,t,n,r){return arguments.length===1?In(e):new Me(e,t,n,r==null?1:r)}function Me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ot(Me,br,jn(et,{brighter(e){return e=e==null?ft:Math.pow(ft,e),new Me(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Je:Math.pow(Je,e),new Me(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ye(vt(e>=240?e-240:e+120,i,r),vt(e,i,r),vt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Me(rn(this.h),it(this.s),it(this.l),ct(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ct(this.opacity);return`${e===1?"hsl(":"hsla("}${rn(this.h)}, ${it(this.s)*100}%, ${it(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rn(e){return e=(e||0)%360,e<0?e+360:e}function it(e){return Math.max(0,Math.min(1,e||0))}function vt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lt=e=>()=>e;function yr(e,t){return function(n){return e+n*t}}function wr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xr(e){return(e=+e)==1?Nn:function(t,n){return n-t?wr(t,n,e):Lt(isNaN(t)?n:t)}}function Nn(e,t){var n=t-e;return n?yr(e,n):Lt(isNaN(e)?t:e)}const sn=function e(t){var n=xr(t);function r(i,s){var l=n((i=Dt(i)).r,(s=Dt(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),o=Nn(i.opacity,s.opacity);return function(g){return i.r=l(g),i.g=a(g),i.b=c(g),i.opacity=o(g),i+""}}return r.gamma=e,r}(1);function vr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function kr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=zt(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(a){for(l=0;l<r;++l)s[l]=i[l](a);return s}}function Sr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ht(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Er(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zt(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var At=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kt=new RegExp(At.source,"g");function Cr(e){return function(){return e}}function Rr(e){return function(t){return e(t)+""}}function Dr(e,t){var n=At.lastIndex=kt.lastIndex=0,r,i,s,l=-1,a=[],c=[];for(e=e+"",t=t+"";(r=At.exec(e))&&(i=kt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(r=r[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,c.push({i:l,x:ht(r,i)})),n=kt.lastIndex;return n<t.length&&(s=t.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?c[0]?Rr(c[0].x):Cr(t):(t=c.length,function(o){for(var g=0,p;g<t;++g)a[(p=c[g]).i]=p.x(o);return a.join("")})}function zt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lt(t):(n==="number"?ht:n==="string"?(r=$e(t))?(t=r,sn):Dr:t instanceof $e?sn:t instanceof Date?Sr:kr(t)?vr:Array.isArray(t)?Mr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Er:ht)(e,t)}function Ar(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Tr(e){return function(){return e}}function jr(e){return+e}var an=[0,1];function qe(e){return e}function Tt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Tr(isNaN(t)?NaN:.5)}function Ir(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Nr(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=Tt(i,r),s=n(l,s)):(r=Tt(r,i),s=n(s,l)),function(a){return s(r(a))}}function Or(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Tt(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(a){var c=tr(e,a,1,r)-1;return s[c](i[c](a))}}function Lr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zr(){var e=an,t=an,n=zt,r,i,s,l=qe,a,c,o;function g(){var b=Math.min(e.length,t.length);return l!==qe&&(l=Ir(e[0],e[b-1])),a=b>2?Or:Nr,c=o=null,p}function p(b){return b==null||isNaN(b=+b)?s:(c||(c=a(e.map(r),t,n)))(r(l(b)))}return p.invert=function(b){return l(i((o||(o=a(t,e.map(r),ht)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,jr),g()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=Ar,g()},p.clamp=function(b){return arguments.length?(l=b?!0:qe,g()):l!==qe},p.interpolate=function(b){return arguments.length?(n=b,g()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,j){return r=b,i=j,g()}}function Pr(){return zr()(qe,qe)}function Fr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function We(e){return e=dt(Math.abs(e)),e?e[1]:NaN}function Hr(e,t){return function(n,r){for(var i=n.length,s=[],l=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[l=(l+1)%e.length];return s.reverse().join(t)}}function qr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Vr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gt(e){if(!(t=Vr.exec(e)))throw new Error("invalid format: "+e);var t;return new Pt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gt.prototype=Pt.prototype;function Pt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Pt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var On;function Br(e,t){var n=dt(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(On=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+dt(e,Math.max(0,t+s-1))[0]}function ln(e,t){var n=dt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const on={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Fr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ln(e*100,t),r:ln,s:Br,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function un(e){return e}var fn=Array.prototype.map,cn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ur(e){var t=e.grouping===void 0||e.thousands===void 0?un:Hr(fn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?un:qr(fn.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function o(p){p=gt(p);var b=p.fill,j=p.align,E=p.sign,V=p.symbol,N=p.zero,K=p.width,I=p.comma,h=p.precision,X=p.trim,$=p.type;$==="n"?(I=!0,$="g"):on[$]||(h===void 0&&(h=12),X=!0,$="g"),(N||b==="0"&&j==="=")&&(N=!0,b="0",j="=");var ee=V==="$"?n:V==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",L=V==="$"?r:/[%p]/.test($)?l:"",u=on[$],f=/[defgprs%]/.test($);h=h===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h));function d(_){var x=ee,T=L,Z,k,m;if($==="c")T=u(_)+T,_="";else{_=+_;var D=_<0||1/_<0;if(_=isNaN(_)?c:u(Math.abs(_),h),X&&(_=Wr(_)),D&&+_==0&&E!=="+"&&(D=!1),x=(D?E==="("?E:a:E==="-"||E==="("?"":E)+x,T=($==="s"?cn[8+On/3]:"")+T+(D&&E==="("?")":""),f){for(Z=-1,k=_.length;++Z<k;)if(m=_.charCodeAt(Z),48>m||m>57){T=(m===46?i+_.slice(Z+1):_.slice(Z))+T,_=_.slice(0,Z);break}}}I&&!N&&(_=t(_,1/0));var H=x.length+_.length+T.length,w=H<K?new Array(K-H+1).join(b):"";switch(I&&N&&(_=t(w+_,w.length?K-T.length:1/0),w=""),j){case"<":_=x+_+T+w;break;case"=":_=x+w+_+T;break;case"^":_=w.slice(0,H=w.length>>1)+x+_+T+w.slice(H);break;default:_=w+x+_+T;break}return s(_)}return d.toString=function(){return p+""},d}function g(p,b){var j=o((p=gt(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(We(b)/3)))*3,V=Math.pow(10,-E),N=cn[8+E/3];return function(K){return j(V*K)+N}}return{format:o,formatPrefix:g}}var st,Ln,zn;Xr({thousands:",",grouping:[3],currency:["$",""]});function Xr(e){return st=Ur(e),Ln=st.format,zn=st.formatPrefix,st}function Yr(e){return Math.max(0,-We(Math.abs(e)))}function Kr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(We(t)/3)))*3-We(Math.abs(e)))}function Qr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,We(t)-We(e))+1}function Gr(e,t,n,r){var i=ar(e,t,n),s;switch(r=gt(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Kr(i,l))&&(r.precision=s),zn(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Qr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Yr(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ln(r)}function Jr(e){var t=e.domain;return e.ticks=function(n){var r=t();return sr(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Gr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],a=r[s],c,o,g=10;for(a<l&&(o=l,l=a,a=o,o=i,i=s,s=o);g-- >0;){if(o=Dn(l,a,n),o===c)return r[i]=l,r[s]=a,t(r);if(o>0)l=Math.floor(l/o)*o,a=Math.ceil(a/o)*o;else if(o<0)l=Math.ceil(l*o)/o,a=Math.floor(a*o)/o;else break;c=o}return e},e}function jt(){var e=Pr();return e.copy=function(){return Lr(e,jt())},An.apply(e,arguments),Jr(e)}function Zr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const $r=Zr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ei(e){let t;return{c(){t=q("p"),t.textContent="Hover over a circle to see details here.",S(t,"class","svelte-1th7zsl")},m(n,r){ce(n,t,r)},p:Se,d(n){n&&oe(t)}}}function ti(e){let t,n=e[0].title+"",r,i,s,l,a=e[0][e[1]]+"",c,o,g,p=e[0].date.toISOString().split("T")[0]+"",b,j,E,V=e[0].text+"",N,K=e[0].url&&hn(e);return{c(){t=q("h1"),r=we(n),i=le(),K&&K.c(),s=le(),l=q("span"),c=we(a),o=le(),g=q("h2"),b=we(p),j=le(),E=q("p"),N=we(V),S(t,"class","svelte-1th7zsl"),Ee(l,"background",e[2](e[0][e[1]])),S(l,"class","svelte-1th7zsl"),S(g,"class","svelte-1th7zsl"),S(E,"class","svelte-1th7zsl")},m(I,h){ce(I,t,h),A(t,r),ce(I,i,h),K&&K.m(I,h),ce(I,s,h),ce(I,l,h),A(l,c),ce(I,o,h),ce(I,g,h),A(g,b),ce(I,j,h),ce(I,E,h),A(E,N)},p(I,h){h&1&&n!==(n=I[0].title+"")&&De(r,n),I[0].url?K?K.p(I,h):(K=hn(I),K.c(),K.m(s.parentNode,s)):K&&(K.d(1),K=null),h&3&&a!==(a=I[0][I[1]]+"")&&De(c,a),h&7&&Ee(l,"background",I[2](I[0][I[1]])),h&1&&p!==(p=I[0].date.toISOString().split("T")[0]+"")&&De(b,p),h&1&&V!==(V=I[0].text+"")&&De(N,V)},d(I){I&&oe(t),I&&oe(i),K&&K.d(I),I&&oe(s),I&&oe(l),I&&oe(o),I&&oe(g),I&&oe(j),I&&oe(E)}}}function hn(e){let t,n,r=e[0].url+"",i,s;return{c(){t=q("div"),n=q("a"),i=we(r),S(n,"href",s=e[0].url),S(n,"target","_blank"),S(n,"rel","noopener noreferrer"),S(t,"class","url-link")},m(l,a){ce(l,t,a),A(t,n),A(n,i)},p(l,a){a&1&&r!==(r=l[0].url+"")&&De(i,r),a&1&&s!==(s=l[0].url)&&S(n,"href",s)},d(l){l&&oe(t)}}}function ni(e){let t;function n(s,l){return s[0]?ti:ei}let r=n(e),i=r(e);return{c(){t=q("div"),i.c(),S(t,"class","detail-card svelte-1th7zsl")},m(s,l){ce(s,t,l),i.m(t,null)},p(s,[l]){r===(r=n(s))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},i:Se,o:Se,d(s){s&&oe(t),i.d()}}}function ri(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:s}=t,{colorScale:l}=t;return It(()=>{l.domain(s.map(a=>a[i]))}),e.$$set=a=>{"hoveredData"in a&&n(0,r=a.hoveredData),"domainColumn"in a&&n(1,i=a.domainColumn),"data"in a&&n(3,s=a.data),"colorScale"in a&&n(2,l=a.colorScale)},[r,i,l,s]}class ii extends yt{constructor(t){super(),bt(this,t,ri,ni,pt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function dn(e){let t,n;return t=new ii({props:{hoveredData:e[2]||e[4],data:e[0],domainColumn:e[1],colorScale:e[5]}}),{c(){Nt(t.$$.fragment)},m(r,i){mt(t,r,i),n=!0},p(r,i){const s={};i&20&&(s.hoveredData=r[2]||r[4]),i&1&&(s.data=r[0]),i&2&&(s.domainColumn=r[1]),t.$set(s)},i(r){n||(Ae(t.$$.fragment,r),n=!0)},o(r){Pe(t.$$.fragment,r),n=!1},d(r){_t(t,r)}}}function si(e){let t,n,r,i,s,l,a=(e[2]||e[4])&&dn(e);return{c(){t=q("div"),n=q("canvas"),r=le(),a&&a.c(),S(n,"width",Ye),S(n,"height",Ke),S(n,"class","svelte-14rtzz4"),S(t,"class","chart-container svelte-14rtzz4")},m(c,o){ce(c,t,o),A(t,n),e[19](n),A(t,r),a&&a.m(t,null),i=!0,s||(l=[he(n,"click",e[6]),he(n,"mousemove",e[7]),he(n,"mouseleave",e[8])],s=!0)},p(c,[o]){c[2]||c[4]?a?(a.p(c,o),o&20&&Ae(a,1)):(a=dn(c),a.c(),Ae(a,1),a.m(t,null)):a&&(Sn(),Pe(a,1,1,()=>{a=null}),En())},i(c){i||(Ae(a),i=!0)},o(c){Pe(a),i=!1},d(c){c&&oe(t),e[19](null),a&&a.d(),s=!1,Te(l)}}}let Ye=800,Ke=600;const Ue=6;let He=1;function ai(e,t,n){let r,i,s,l,a,{data:c=[]}=t,{domainColumn:o=""}=t,{opacity:g=1}=t,{selectedValues:p=new Set}=t,{searchQuery:b=""}=t,{showAnnotations:j=!0}=t,{highlightedData:E=[]}=t,{startDate:V=null}=t,{endDate:N=null}=t,K=[{x:60,y:140,radius:40,label:"Articles about motor vehicle crashes.",label_x:-50,label_y:130},{x:720,y:320,radius:50,label:"Sports Articles",label_x:-50,label_y:-100}],I,h;const X={top:20,right:20,bottom:20,left:20};let $=null,ee=null,L=null,u={x:0,y:0};const f=Tn().domain([...new Set(c.map(k=>k[o]))]).range($r);function d(){if(!h||!c.length)return;const k=(V==null?void 0:V.getTime())===Math.min(...c.map(m=>m.date.getTime()))&&(N==null?void 0:N.getTime())===Math.max(...c.map(m=>m.date.getTime()));h.clearRect(0,0,Ye,Ke),h.save(),h.translate(u.x,u.y),h.scale(He,He),h.translate(-u.x,-u.y),c.forEach(m=>{var R,P;const D=b&&(((R=m.text)==null?void 0:R.toLowerCase().includes(b.toLowerCase()))||((P=m.title)==null?void 0:P.toLowerCase().includes(b.toLowerCase()))),H=r.has(m.id)||D,w=p.has(m[o]),W=(!V||m.date>=V)&&(!N||m.date<=N);h.beginPath(),h.arc(X.left+l(m.x),X.top+a(m.y),Ue,0,Math.PI*2),n(16,h.fillStyle=f(m[o]),h),(H||w)&&W&&!k||W&&!k&&p.size===0||(H||w)&&k?n(16,h.globalAlpha=1,h):n(16,h.globalAlpha=g*.2,h),h.fill()}),j&&K.forEach(m=>{n(16,h.globalAlpha=1,h),h.beginPath(),h.arc(m.x,m.y,m.radius,0,Math.PI*2),n(16,h.strokeStyle="red",h),n(16,h.lineWidth=2,h),h.setLineDash([5,5]),h.stroke();const D=180,H=12;n(16,h.font="16px Arial",h);const w=m.x+m.label_x,W=m.y+m.label_y;let R=0,P=0,M=[];if(m.label){const se=m.label.split(" ");let Y="";se.forEach((U,O)=>{const ue=Y+U+" ";h.measureText(ue).width>D&&O>0?(M.push(Y),R=Math.max(R,h.measureText(Y).width),Y=U+" "):Y=ue}),M.push(Y),R=Math.max(R,h.measureText(Y).width),P=H*M.length}const B=w,Q=W-H,re=R,C=P;let y,v;m.x<B?y=B:m.x>B+re?y=B+re:y=m.x,m.y<Q?v=Q:m.y>Q+C?v=Q+C:v=m.y;const z=Math.atan2(v-m.y,y-m.x),F=m.x+m.radius*Math.cos(z),G=m.y+m.radius*Math.sin(z);if(h.setLineDash([]),h.beginPath(),h.moveTo(F,G),h.lineTo(y,v),n(16,h.strokeStyle="red",h),n(16,h.lineWidth=1,h),h.stroke(),m.label){n(16,h.font="16px Arial",h),n(16,h.fillStyle="red",h);const se=16;M.forEach((Y,U)=>{h.fillText(Y,w,W+U*se)})}}),h.setLineDash([]),L&&(h.beginPath(),h.arc(X.left+l(L.x),X.top+a(L.y),Ue+2,0,Math.PI*2),n(16,h.fillStyle=f(L[o]),h),n(16,h.globalAlpha=1,h),h.fill(),n(16,h.strokeStyle="blue",h),n(16,h.lineWidth=3,h),h.stroke()),$&&$!==L&&(h.beginPath(),h.arc(X.left+l($.x),X.top+a($.y),Ue,0,Math.PI*2),n(16,h.fillStyle=f($[o]),h),n(16,h.globalAlpha=1,h),h.fill(),n(16,h.strokeStyle="black",h),n(16,h.lineWidth=2,h),h.stroke()),h.restore()}function _(k){const m=I.getBoundingClientRect(),D=Ye/m.width,H=Ke/m.height,w=(k.clientX-m.left)*D-X.left,W=(k.clientY-m.top)*H-X.top,R=(w-u.x)/He+u.x,P=(W-u.y)/He+u.y,M=c.find(B=>{var U;const Q=l(B.x)-R,re=a(B.y)-P,C=Math.sqrt(Q*Q+re*re)<Ue+3,y=b&&((U=B.title)==null?void 0:U.toLowerCase().includes(b.toLowerCase())),v=r.has(B.id)||y,z=p.has(B[o]),F=(!V||B.date>=V)&&(!N||B.date<=N),G=(V==null?void 0:V.getTime())===Math.min(...c.map(O=>O.date.getTime()))&&(N==null?void 0:N.getTime())===Math.max(...c.map(O=>O.date.getTime())),Y=p.size===0||p.size===new Set(c.map(O=>O[o])).size||(v||z)&&F&&!G||F&&!G&&p.size===0||(v||z)&&G;return C&&Y});M?L&&L.id===M.id?n(2,L=null):n(2,L=M):n(2,L=null),d()}function x(k){const m=I.getBoundingClientRect(),D=Ye/m.width,H=Ke/m.height,w=(k.clientX-m.left)*D-X.left,W=(k.clientY-m.top)*H-X.top,R=(w-u.x)/He+u.x,P=(W-u.y)/He+u.y,M=c.find(B=>{var U;const Q=l(B.x)-R,re=a(B.y)-P,C=Math.sqrt(Q*Q+re*re)<Ue+3,y=b&&((U=B.title)==null?void 0:U.toLowerCase().includes(b.toLowerCase())),v=r.has(B.id)||y,z=p.has(B[o]),F=(!V||B.date>=V)&&(!N||B.date<=N),G=(V==null?void 0:V.getTime())===Math.min(...c.map(O=>O.date.getTime()))&&(N==null?void 0:N.getTime())===Math.max(...c.map(O=>O.date.getTime())),Y=p.size===0||p.size===new Set(c.map(O=>O[o])).size||(v||z)&&F&&!G||F&&!G&&p.size===0||(v||z)&&G;return C&&Y});M?(n(4,$=M),ee=M):(n(4,$=null),ee=null),d()}function T(){n(4,$=ee),d()}It(()=>{n(16,h=I.getContext("2d")),d()});function Z(k){Ne[k?"unshift":"push"](()=>{I=k,n(3,I)})}return e.$$set=k=>{"data"in k&&n(0,c=k.data),"domainColumn"in k&&n(1,o=k.domainColumn),"opacity"in k&&n(9,g=k.opacity),"selectedValues"in k&&n(10,p=k.selectedValues),"searchQuery"in k&&n(11,b=k.searchQuery),"showAnnotations"in k&&n(12,j=k.showAnnotations),"highlightedData"in k&&n(13,E=k.highlightedData),"startDate"in k&&n(14,V=k.startDate),"endDate"in k&&n(15,N=k.endDate)},e.$$.update=()=>{e.$$.dirty&8192&&(r=new Set(E.map(k=>k.id))),e.$$.dirty&262145&&(l=jt().domain([Kt(c,k=>k.x),Yt(c,k=>k.x)]).range([0,i])),e.$$.dirty&131073&&(a=jt().domain([Kt(c,k=>k.y),Yt(c,k=>k.y)]).range([s,0])),e.$$.dirty&65537&&h&&c.length&&d(),e.$$.dirty&122375&&h&&c.length&&d()},n(18,i=Ye-X.left-X.right),n(17,s=Ke-X.top-X.bottom),[c,o,L,I,$,f,_,x,T,g,p,b,j,E,V,N,h,s,i,Z]}class li extends yt{constructor(t){super(),bt(this,t,ai,si,pt,{data:0,domainColumn:1,opacity:9,selectedValues:10,searchQuery:11,showAnnotations:12,highlightedData:13,startDate:14,endDate:15})}}function oi(e){let t,n,r,i,s,l,a,c,o;return{c(){t=q("div"),n=q("div"),r=q("div"),i=le(),s=q("div"),l=le(),a=q("div"),S(r,"class","track-inner svelte-vytkle"),S(n,"class","track svelte-vytkle"),S(s,"class","thumb start-thumb svelte-vytkle"),Ee(s,"left",e[4]+"%"),S(a,"class","thumb end-thumb svelte-vytkle"),Ee(a,"left",e[3]+"%"),S(t,"class","range-slider svelte-vytkle"),Ee(t,"--start-percent",e[4]+"%"),Ee(t,"--end-percent",e[3]+"%")},m(g,p){ce(g,t,p),A(t,n),A(n,r),A(t,i),A(t,s),e[13](s),A(t,l),A(t,a),e[16](a),e[19](t),c||(o=[he(r,"mousedown",e[11]),he(r,"touchstart",e[12]),he(s,"mousedown",e[14]),he(s,"touchstart",e[15]),he(a,"mousedown",e[17]),he(a,"touchstart",e[18])],c=!0)},p(g,[p]){p&16&&Ee(s,"left",g[4]+"%"),p&8&&Ee(a,"left",g[3]+"%"),p&16&&Ee(t,"--start-percent",g[4]+"%"),p&8&&Ee(t,"--end-percent",g[3]+"%")},i:Se,o:Se,d(g){g&&oe(t),e[13](null),e[16](null),e[19](null),c=!1,Te(o)}}}function ui(e,t,n){let r,i,{min:s=0}=t,{max:l=100}=t,{startValue:a}=t,{endValue:c}=t;const o=Wn();let g,p,b,j=!1,E=null,V=null,N=0;function K(m,D){j=!0,E=D,V=g.getBoundingClientRect(),D==="range"&&(N=c-a),window.addEventListener("mousemove",I),window.addEventListener("mouseup",h)}function I(m){if(!j)return;const D=Math.min(Math.max(0,(m.clientX-V.left)/V.width),1),H=Math.round(D*(l-s)+s);if(E==="start")n(7,a=Math.min(H,c)),o("startChange",a);else if(E==="end")n(8,c=Math.max(H,a)),o("endChange",c);else if(E==="range"){let w=H-Math.floor(N/2),W=H+Math.ceil(N/2);w<s&&(w=s,W=s+N),W>l&&(W=l,w=l-N),w=Math.max(s,w),W=Math.min(l,W),n(7,a=w),n(8,c=W),o("startChange",a),o("endChange",c)}}function h(){j=!1,window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",h)}function X(m,D){m.preventDefault(),j=!0,E=D,V=g.getBoundingClientRect(),D==="range"&&(N=c-a),window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",ee)}function $(m){if(m.preventDefault(),!j)return;const D=m.touches[0],H=Math.min(Math.max(0,(D.clientX-V.left)/V.width),1),w=Math.round(H*(l-s)+s);if(E==="start")n(7,a=Math.min(w,c)),o("startChange",a);else if(E==="end")n(8,c=Math.max(w,a)),o("endChange",c);else if(E==="range"){let W=w-Math.floor(N/2),R=w+Math.ceil(N/2);W<s&&(W=s,R=s+N),R>l&&(R=l,W=l-N),W=Math.max(s,W),R=Math.min(l,R),n(7,a=W),n(8,c=R),o("startChange",a),o("endChange",c)}}function ee(){j=!1,window.removeEventListener("touchmove",$),window.removeEventListener("touchend",ee)}const L=m=>K(m,"range"),u=m=>X(m,"range");function f(m){Ne[m?"unshift":"push"](()=>{p=m,n(1,p)})}const d=m=>K(m,"start"),_=m=>X(m,"start");function x(m){Ne[m?"unshift":"push"](()=>{b=m,n(2,b)})}const T=m=>K(m,"end"),Z=m=>X(m,"end");function k(m){Ne[m?"unshift":"push"](()=>{g=m,n(0,g)})}return e.$$set=m=>{"min"in m&&n(9,s=m.min),"max"in m&&n(10,l=m.max),"startValue"in m&&n(7,a=m.startValue),"endValue"in m&&n(8,c=m.endValue)},e.$$.update=()=>{e.$$.dirty&1664&&n(4,r=l>s?(a-s)/(l-s)*100:0),e.$$.dirty&1792&&n(3,i=l>s?(c-s)/(l-s)*100:100)},[g,p,b,i,r,K,X,a,c,s,l,L,u,f,d,_,x,T,Z,k]}class fi extends yt{constructor(t){super(),bt(this,t,ui,oi,pt,{min:9,max:10,startValue:7,endValue:8})}}function gn(e,t,n){const r=e.slice();return r[43]=t[n],r}function pn(e,t,n){const r=e.slice();return r[46]=t[n],r}function mn(e){let t,n,r,i,s,l,a=e[9],c=[];for(let o=0;o<a.length;o+=1)c[o]=_n(pn(e,a,o));return{c(){t=q("label"),t.textContent="\u{1F3A8} Color by Column:",n=le(),r=q("select"),i=q("option"),i.textContent="Select column";for(let o=0;o<c.length;o+=1)c[o].c();S(t,"for","domain-column"),S(t,"class","svelte-bcjotp"),i.__value="",i.value=i.__value,i.disabled=!0,S(r,"id","domain-column"),S(r,"class","svelte-bcjotp"),e[0]===void 0&&ut(()=>e[24].call(r))},m(o,g){ce(o,t,g),ce(o,n,g),ce(o,r,g),A(r,i);for(let p=0;p<c.length;p+=1)c[p].m(r,null);Vt(r,e[0]),s||(l=[he(r,"change",e[15]),he(r,"change",e[24])],s=!0)},p(o,g){if(g[0]&512){a=o[9];let p;for(p=0;p<a.length;p+=1){const b=pn(o,a,p);c[p]?c[p].p(b,g):(c[p]=_n(b),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=a.length}g[0]&513&&Vt(r,o[0])},d(o){o&&oe(t),o&&oe(n),o&&oe(r),vn(c,o),s=!1,Te(l)}}}function _n(e){let t,n=e[46]+"",r,i;return{c(){t=q("option"),r=we(n),t.__value=i=e[46],t.value=t.__value},m(s,l){ce(s,t,l),A(t,r)},p(s,l){l[0]&512&&n!==(n=s[46]+"")&&De(r,n),l[0]&512&&i!==(i=s[46])&&(t.__value=i,t.value=t.__value)},d(s){s&&oe(t)}}}function bn(e){let t,n,r,i,s,l=e[1],a=[];for(let c=0;c<l.length;c+=1)a[c]=yn(gn(e,l,c));return{c(){t=q("label"),t.textContent="\u2728 Highlight Values:",n=le(),r=q("select");for(let c=0;c<a.length;c+=1)a[c].c();S(t,"for","value-select"),S(t,"class","svelte-bcjotp"),S(r,"id","value-select"),r.multiple=!0,S(r,"size","5"),S(r,"class","multi-select svelte-bcjotp")},m(c,o){ce(c,t,o),ce(c,n,o),ce(c,r,o);for(let g=0;g<a.length;g+=1)a[g].m(r,null);i||(s=he(r,"change",e[16]),i=!0)},p(c,o){if(o[0]&2){l=c[1];let g;for(g=0;g<l.length;g+=1){const p=gn(c,l,g);a[g]?a[g].p(p,o):(a[g]=yn(p),a[g].c(),a[g].m(r,null))}for(;g<a.length;g+=1)a[g].d(1);a.length=l.length}},d(c){c&&oe(t),c&&oe(n),c&&oe(r),vn(a,c),i=!1,s()}}}function yn(e){let t,n=e[43]+"",r,i;return{c(){t=q("option"),r=we(n),t.__value=i=e[43],t.value=t.__value},m(s,l){ce(s,t,l),A(t,r)},p(s,l){l[0]&2&&n!==(n=s[43]+"")&&De(r,n),l[0]&2&&i!==(i=s[43])&&(t.__value=i,t.value=t.__value)},d(s){s&&oe(t)}}}function ci(e){let t;return{c(){t=we("\u25B6")},m(n,r){ce(n,t,r)},d(n){n&&oe(t)}}}function hi(e){let t;return{c(){t=we("\u275A\u275A")},m(n,r){ce(n,t,r)},d(n){n&&oe(t)}}}function di(e){let t;return{c(){t=q("p"),t.textContent="Loading data..."},m(n,r){ce(n,t,r)},p:Se,i:Se,o:Se,d(n){n&&oe(t)}}}function gi(e){let t,n;return t=new li({props:{data:e[11],domainColumn:e[0],selectedValues:e[2],opacity:e[10],searchQuery:e[13],showAnnotations:e[14],highlightedData:e[8],startDate:e[3],endDate:e[4]}}),{c(){Nt(t.$$.fragment)},m(r,i){mt(t,r,i),n=!0},p(r,i){const s={};i[0]&2048&&(s.data=r[11]),i[0]&1&&(s.domainColumn=r[0]),i[0]&4&&(s.selectedValues=r[2]),i[0]&1024&&(s.opacity=r[10]),i[0]&8192&&(s.searchQuery=r[13]),i[0]&16384&&(s.showAnnotations=r[14]),i[0]&256&&(s.highlightedData=r[8]),i[0]&8&&(s.startDate=r[3]),i[0]&16&&(s.endDate=r[4]),t.$set(s)},i(r){n||(Ae(t.$$.fragment,r),n=!0)},o(r){Pe(t.$$.fragment,r),n=!1},d(r){_t(t,r)}}}function pi(e){let t,n,r,i,s,l,a,c,o,g,p,b,j,E,V,N,K,I,h,X,$,ee,L,u,f,d,_,x,T,Z,k,m,D,H,w,W,R=Ie(e[3])+"",P,M,B,Q=Ie(e[4])+"",re,C,y,v,z,F,G,se,Y,U,O,ue,te,ae,ie,me,de,Re,ge,fe=e[9].length&&mn(e),ne=e[1].length&&bn(e);function _e(J){e[28](J)}function xe(J){e[29](J)}let Oe={min:0,max:e[5].length-1};e[6]!==void 0&&(Oe.startValue=e[6]),e[7]!==void 0&&(Oe.endValue=e[7]),k=new fi({props:Oe}),Ne.push(()=>Bt(k,"startValue",_e)),Ne.push(()=>Bt(k,"endValue",xe)),k.$on("startChange",e[30]),k.$on("endChange",e[31]);function Be(J,be){return J[12]?hi:ci}let ve=Be(e),pe=ve(e);const je=[gi,di],ke=[];function Ft(J,be){return J[11].length?0:1}return ie=Ft(e),me=ke[ie]=je[ie](e),{c(){t=q("div"),n=q("div"),n.innerHTML=`<h1 class="title svelte-bcjotp">Semantic Map [DEMO]</h1> 
    <p class="subtitle svelte-bcjotp">Each dot in this semantic map represents an article. When the dots are closer together, the articles are similar in meaning.</p>`,r=le(),i=q("div"),s=q("div"),l=q("div"),l.innerHTML=`<details close=""><summary class="svelte-bcjotp">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-bcjotp"><p class="svelte-bcjotp">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-bcjotp">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-bcjotp"><li class="svelte-bcjotp">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-bcjotp">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-bcjotp">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,a=le(),c=q("label"),c.textContent="\u{1F4C1} Upload CSV:",o=le(),g=q("input"),p=le(),b=q("label"),b.textContent="\u{1F50D} Search Text:",j=le(),E=q("input"),V=le(),fe&&fe.c(),N=le(),ne&&ne.c(),K=le(),I=q("label"),I.textContent="\u{1F4A1} Adjust Opacity:",h=le(),X=q("input"),$=le(),ee=q("div"),L=q("label"),L.textContent="\u{1F4C5} Date Range:",u=le(),f=q("input"),_=le(),x=q("input"),Z=le(),Nt(k.$$.fragment),H=le(),w=q("div"),W=q("span"),P=we(R),M=le(),B=q("span"),re=we(Q),C=le(),y=q("div"),v=q("button"),v.textContent="-1W",z=le(),F=q("button"),F.textContent="-1D",G=le(),se=q("button"),pe.c(),Y=le(),U=q("button"),U.textContent="+1D",O=le(),ue=q("button"),ue.textContent="+1W",te=le(),ae=q("div"),me.c(),S(n,"class","title-section svelte-bcjotp"),S(l,"class","nerd-box svelte-bcjotp"),S(c,"for","file-upload"),S(c,"class","svelte-bcjotp"),S(g,"id","file-upload"),S(g,"type","file"),S(g,"accept",".csv"),S(g,"class","svelte-bcjotp"),S(b,"for","search-input"),S(b,"class","svelte-bcjotp"),S(E,"id","search-input"),S(E,"type","text"),S(E,"placeholder","Search..."),S(E,"class","svelte-bcjotp"),S(I,"for","opacity-slider"),S(I,"class","svelte-bcjotp"),S(X,"id","opacity-slider"),S(X,"type","range"),S(X,"min","0.01"),S(X,"max","1"),S(X,"step","0.1"),S(X,"class","svelte-bcjotp"),S(L,"for","start-date"),S(L,"class","svelte-bcjotp"),S(f,"id","start-date"),S(f,"type","date"),f.value=d=Ie(e[3]),S(f,"class","svelte-bcjotp"),S(x,"id","end-date"),S(x,"type","date"),x.value=T=Ie(e[4]),S(x,"class","svelte-bcjotp"),S(w,"class","date-range-labels svelte-bcjotp"),S(v,"class","svelte-bcjotp"),S(F,"class","svelte-bcjotp"),S(se,"class","play-button svelte-bcjotp"),S(U,"class","svelte-bcjotp"),S(ue,"class","svelte-bcjotp"),S(y,"class","date-navigation svelte-bcjotp"),S(ee,"class","date-controls svelte-bcjotp"),S(s,"class","filter-panel svelte-bcjotp"),S(ae,"class","scatterplot-container svelte-bcjotp"),S(i,"class","content svelte-bcjotp"),S(t,"class","container svelte-bcjotp")},m(J,be){ce(J,t,be),A(t,n),A(t,r),A(t,i),A(i,s),A(s,l),A(s,a),A(s,c),A(s,o),A(s,g),A(s,p),A(s,b),A(s,j),A(s,E),A(s,V),fe&&fe.m(s,null),A(s,N),ne&&ne.m(s,null),A(s,K),A(s,I),A(s,h),A(s,X),qt(X,e[10]),A(s,$),A(s,ee),A(ee,L),A(ee,u),A(ee,f),A(ee,_),A(ee,x),A(ee,Z),mt(k,ee,null),A(ee,H),A(ee,w),A(w,W),A(W,P),A(w,M),A(w,B),A(B,re),A(ee,C),A(ee,y),A(y,v),A(y,z),A(y,F),A(y,G),A(y,se),pe.m(se,null),A(y,Y),A(y,U),A(y,O),A(y,ue),A(i,te),A(i,ae),ke[ie].m(ae,null),de=!0,Re||(ge=[he(g,"change",e[18]),he(E,"input",e[21]),he(X,"change",e[25]),he(X,"input",e[25]),he(X,"input",e[22]),he(f,"change",e[26]),he(x,"change",e[27]),he(v,"click",e[32]),he(F,"click",e[33]),he(se,"click",e[20]),he(U,"click",e[34]),he(ue,"click",e[35])],Re=!0)},p(J,be){J[9].length?fe?fe.p(J,be):(fe=mn(J),fe.c(),fe.m(s,N)):fe&&(fe.d(1),fe=null),J[1].length?ne?ne.p(J,be):(ne=bn(J),ne.c(),ne.m(s,K)):ne&&(ne.d(1),ne=null),be[0]&1024&&qt(X,J[10]),(!de||be[0]&8&&d!==(d=Ie(J[3])))&&(f.value=d),(!de||be[0]&16&&T!==(T=Ie(J[4])))&&(x.value=T);const tt={};be[0]&32&&(tt.max=J[5].length-1),!m&&be[0]&64&&(m=!0,tt.startValue=J[6],Wt(()=>m=!1)),!D&&be[0]&128&&(D=!0,tt.endValue=J[7],Wt(()=>D=!1)),k.$set(tt),(!de||be[0]&8)&&R!==(R=Ie(J[3])+"")&&De(P,R),(!de||be[0]&16)&&Q!==(Q=Ie(J[4])+"")&&De(re,Q),ve!==(ve=Be(J))&&(pe.d(1),pe=ve(J),pe&&(pe.c(),pe.m(se,null)));let wt=ie;ie=Ft(J),ie===wt?ke[ie].p(J,be):(Sn(),Pe(ke[wt],1,1,()=>{ke[wt]=null}),En(),me=ke[ie],me?me.p(J,be):(me=ke[ie]=je[ie](J),me.c()),Ae(me,1),me.m(ae,null))},i(J){de||(Ae(k.$$.fragment,J),Ae(me),de=!0)},o(J){Pe(k.$$.fragment,J),Pe(me),de=!1},d(J){J&&oe(t),fe&&fe.d(),ne&&ne.d(),_t(k),pe.d(),ke[ie].d(),Re=!1,Te(ge)}}}function Ie(e){return e?e.toISOString().split("T")[0]:""}function mi(e,t,n){let r=[],i=[],s="org",l=[],a=new Set,c=.5,o=null,g=null,p=[],b=[],j=0,E=0,V=!1,N=null,K=[],I="",h=!0;It(async()=>{const y=await(await fetch("data.csv")).text();return X(y),()=>{N&&clearInterval(N)}});function X(C){const y=Qn.parse(C,{header:!0});n(23,r=y.data.filter(v=>v.x&&v.y&&v.date).map((v,z)=>({...v,x:+v.x,y:+v.y,date:new Date(v.date),id:z}))),n(9,i=y.meta.fields||[]),n(5,b=[...new Set(r.map(v=>v.date.getTime()))].sort((v,z)=>v-z).map(v=>new Date(v))),n(3,o=b[0]),n(4,g=b[b.length-1]),n(6,j=0),n(7,E=b.length-1),s&&n(1,l=[...new Set(r.map(v=>v[s]).filter(Boolean))])}function $(C){n(0,s=C.target.value),n(1,l=s?[...new Set(r.map(y=>y[s]).filter(Boolean))]:[]),n(2,a=new Set),n(14,h=!1)}function ee(C){const y=[...C.target.selectedOptions].map(z=>z.value);y.length===l.length||y.length===0?(n(2,a=new Set),n(8,K=[])):(n(2,a=new Set(y)),n(8,K=r.filter(z=>a.has(z[s])&&(!o||z.date>=o)&&(!g||z.date<=g)))),n(14,h=!1)}function L(C,y,v=!1){v?(n(3,o=b[C]||b[0]),n(4,g=b[y]||b[b.length-1])):(n(3,o=C),n(4,g=y)),n(14,h=!1)}function u(){if(o){const C=o.getTime();n(6,j=Math.max(0,b.findIndex(y=>y.getTime()>=C)))}else n(6,j=0);if(g){const C=g.getTime(),y=b.findIndex(v=>v.getTime()>=C);n(7,E=y>=0?y:b.length>0?b.length-1:0)}else n(7,E=b.length-1);j>E&&n(6,j=E),E<j&&n(7,E=j)}function f(C,y){if(C.detail!==void 0)y==="start"?(n(6,j=C.detail),j>E&&n(6,j=E)):(n(7,E=C.detail),E<j&&n(7,E=j)),L(j,E,!0);else{const v=C.target.value?new Date(C.target.value):null;y==="start"?L(v,g):L(o,v),u()}}function d(C){const y=C.target.files[0];if(y){const v=new FileReader;n(14,h=!1),v.onload=z=>X(z.target.result),v.readAsText(y)}}function _(C){const y=E-j;let v=j+C,z=E+C;v<0&&(v=0,z=y),z>=b.length&&(z=b.length-1,v=Math.max(0,z-y)),n(6,j=v),n(7,E=z),L(j,E,!0)}function x(){V?(clearInterval(N),n(12,V=!1)):(n(12,V=!0),n(14,h=!1),N=setInterval(()=>{if(E>=b.length-1){clearInterval(N),n(12,V=!1);return}_(1)},500))}function T(C){n(13,I=C.target.value),n(14,h=!1)}function Z(){n(14,h=!1)}function k(){s=qn(this),n(0,s),n(9,i)}function m(){c=Fn(this.value),n(10,c)}const D=C=>f(C,"start"),H=C=>f(C,"end");function w(C){j=C,n(6,j)}function W(C){E=C,n(7,E)}const R=C=>f(C,"start"),P=C=>f(C,"end"),M=()=>_(-7),B=()=>_(-1),Q=()=>_(1),re=()=>_(7);return e.$$.update=()=>{e.$$.dirty[0]&256&&new Set(K.map(C=>C.id)),e.$$.dirty[0]&8388639&&n(11,p=r.map(C=>({...C,isHighlighted:a.size>0&&a.size<l.length&&a.has(C[s])&&(!o||C.date>=o)&&(!g||C.date<=g)}))),e.$$.dirty[0]&96&&b.length>1&&j/(b.length-1)*100,e.$$.dirty[0]&160&&b.length>1&&E/(b.length-1)*100},[s,l,a,o,g,b,j,E,K,i,c,p,V,I,h,$,ee,f,d,_,x,T,Z,r,k,m,D,H,w,W,R,P,M,B,Q,re]}class _i extends yt{constructor(t){super(),bt(this,t,mi,pi,pt,{},null,[-1,-1])}}new _i({target:document.getElementById("app")});
