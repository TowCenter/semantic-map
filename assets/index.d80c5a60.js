(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function Cr(t){return t()}function Ln(){return Object.create(null)}function Ut(t){t.forEach(Cr)}function Ar(t){return typeof t=="function"}function Qe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function pi(t){return Object.keys(t).length===0}function O(t,e){t.appendChild(e)}function ot(t,e,n){t.insertBefore(e,n||null)}function nt(t){t.parentNode.removeChild(t)}function Dr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function H(t){return document.createElement(t)}function vt(t){return document.createTextNode(t)}function at(){return vt(" ")}function Tr(){return vt("")}function _t(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function T(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gi(t){return t===""?null:+t}function mi(t){return Array.from(t.childNodes)}function Rt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Pn(t,e){t.value=e==null?"":e}function Mt(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Fn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function _i(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function yi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let ge;function pe(t){ge=t}function Rr(){if(!ge)throw new Error("Function called outside component initialization");return ge}function Sn(t){Rr().$$.on_mount.push(t)}function wi(){const t=Rr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=yi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const ce=[],Bt=[],De=[],ln=[],vi=Promise.resolve();let un=!1;function bi(){un||(un=!0,vi.then(Nr))}function Le(t){De.push(t)}function Vn(t){ln.push(t)}const rn=new Set;let xe=0;function Nr(){const t=ge;do{for(;xe<ce.length;){const e=ce[xe];xe++,pe(e),xi(e.$$)}for(pe(null),ce.length=0,xe=0;Bt.length;)Bt.pop()();for(let e=0;e<De.length;e+=1){const n=De[e];rn.has(n)||(rn.add(n),n())}De.length=0}while(ce.length);for(;ln.length;)ln.pop()();un=!1,rn.clear(),pe(t)}function xi(t){if(t.fragment!==null){t.update(),Ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}const Te=new Set;let Gt;function Or(){Gt={r:0,c:[],p:Gt}}function zr(){Gt.r||Ut(Gt.c),Gt=Gt.p}function Ht(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function jt(t,e,n,r){if(t&&t.o){if(Te.has(t))return;Te.add(t),Gt.c.push(()=>{Te.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function qn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Mn(t){t&&t.c()}function Ge(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Le(()=>{const s=t.$$.on_mount.map(Cr).filter(Ar);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ut(s),t.$$.on_mount=[]}),o.forEach(Le)}function Ze(t,e){const n=t.$$;n.fragment!==null&&(Ut(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ki(t,e){t.$$.dirty[0]===-1&&(ce.push(t),bi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,r,i,o,s,l=[-1]){const u=ge;pe(t);const a=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:Ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ln(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(c,_,...w)=>{const M=w.length?w[0]:_;return a.ctx&&i(a.ctx[c],a.ctx[c]=M)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](M),f&&ki(t,c)),_}):[],a.update(),f=!0,Ut(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const c=mi(e.target);a.fragment&&a.fragment.l(c),c.forEach(nt)}else a.fragment&&a.fragment.c();e.intro&&Ht(t.$$.fragment),Ge(t,e.target,e.anchor,e.customElement),Nr()}pe(u)}class Je{$destroy(){Ze(this,1),this.$destroy=At}$on(e,n){if(!Ar(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!pi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Si,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function f(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(d){var p=j(d);p.chunkSize=parseInt(p.chunkSize),d.step||d.chunk||(p.chunkSize=null),this._handle=new I(p),(this._handle.streamer=this)._config=p}.call(this,h),this.parseChunk=function(d,p){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let P=this._config.newline;P||(C=this._config.quoteChar||'"',P=this._handle.guessLineEndings(d,C)),d=[...d.split(P).slice(b)].join(P)}this.isFirstChunk&&B(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(d))!==void 0&&(d=C),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+d,C=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(d=C.meta.cursor,b=(this._finished||(this._partialLine=b.substring(d-this._baseIndex),this._baseIndex=d),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:C,workerId:a.WORKER_ID,finished:b});else if(B(this._config.chunk)&&!p){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!b||!B(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(d){B(this._config.error)?this._config.error(d):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:d,finished:!1})}}function c(h){var d;(h=h||{}).chunkSize||(h.chunkSize=a.RemoteChunkSize),f.call(this,h),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),o||(d.onload=lt(this._chunkLoaded,this),d.onerror=lt(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var p,b=this._config.downloadRequestHeaders;for(p in b)d.setRequestHeader(p,b[p])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,d.setRequestHeader("Range","bytes="+this._start+"-"+C));try{d.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}o&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize||d.responseText.length,this._finished=!this._config.chunkSize||this._start>=(p=>(p=p.getResponseHeader("Content-Range"))!==null?parseInt(p.substring(p.lastIndexOf("/")+1)):-1)(d),this.parseChunk(d.responseText)))},this._chunkError=function(p){p=d.statusText||p,this._sendError(new Error(p))}}function _(h){(h=h||{}).chunkSize||(h.chunkSize=a.LocalChunkSize),f.call(this,h);var d,p,b=typeof FileReader<"u";this.stream=function(C){this._input=C,p=C.slice||C.webkitSlice||C.mozSlice,b?((d=new FileReader).onload=lt(this._chunkLoaded,this),d.onerror=lt(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),C=p.call(C,this._start,P)),d.readAsText(C,this._config.encoding));b||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(d.error)}}function w(h){var d;f.call(this,h=h||{}),this.stream=function(p){return d=p,this._nextChunk()},this._nextChunk=function(){var p,b;if(!this._finished)return p=this._config.chunkSize,d=p?(b=d.substring(0,p),d.substring(p)):(b=d,""),this._finished=!d,this.parseChunk(b)}}function M(h){f.call(this,h=h||{});var d=[],p=!0,b=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):p=!0},this._streamData=lt(function(C){try{d.push(typeof C=="string"?C:C.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(P){this._streamError(P)}},this),this._streamError=lt(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=lt(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=lt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function I(h){var d,p,b,C,P=Math.pow(2,53),g=-P,R=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,m=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,v=this,E=0,k=0,L=!1,N=!1,q=[],F={data:[],errors:[],meta:{}};function Q(U){return h.skipEmptyLines==="greedy"?U.join("").trim()==="":U.length===1&&U[0].length===0}function tt(){if(F&&b&&(pt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),b=!1),h.skipEmptyLines&&(F.data=F.data.filter(function(ct){return!Q(ct)})),ft()){let ct=function(wt,ht){B(h.transformHeader)&&(wt=h.transformHeader(wt,ht)),q.push(wt)};var W=ct;if(F)if(Array.isArray(F.data[0])){for(var U=0;ft()&&U<F.data.length;U++)F.data[U].forEach(ct);F.data.splice(0,1)}else F.data.forEach(ct)}function J(ct,wt){for(var ht=h.header?{}:[],y=0;y<ct.length;y++){var z=y,ut=ct[y],ut=((G,x)=>(V=>(h.dynamicTypingFunction&&h.dynamicTyping[V]===void 0&&(h.dynamicTyping[V]=h.dynamicTypingFunction(V)),(h.dynamicTyping[V]||h.dynamicTyping)===!0))(G)?x==="true"||x==="TRUE"||x!=="false"&&x!=="FALSE"&&((V=>{if(R.test(V)&&(V=parseFloat(V),g<V&&V<P))return 1})(x)?parseFloat(x):m.test(x)?new Date(x):x===""?null:x):x)(z=h.header?y>=q.length?"__parsed_extra":q[y]:z,ut=h.transform?h.transform(ut,z):ut);z==="__parsed_extra"?(ht[z]=ht[z]||[],ht[z].push(ut)):ht[z]=ut}return h.header&&(y>q.length?pt("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+y,k+wt):y<q.length&&pt("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+y,k+wt)),ht}var mt;F&&(h.header||h.dynamicTyping||h.transform)&&(mt=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(J),mt=F.data.length):F.data=J(F.data,0),h.header&&F.meta&&(F.meta.fields=q),k+=mt)}function ft(){return h.header&&q.length===0}function pt(U,J,mt,W){U={type:U,code:J,message:mt},W!==void 0&&(U.row=W),F.errors.push(U)}B(h.step)&&(C=h.step,h.step=function(U){F=U,ft()?tt():(tt(),F.data.length!==0&&(E+=U.data.length,h.preview&&E>h.preview?p.abort():(F.data=F.data[0],C(F,v))))}),this.parse=function(U,J,mt){var W=h.quoteChar||'"',W=(h.newline||(h.newline=this.guessLineEndings(U,W)),b=!1,h.delimiter?B(h.delimiter)&&(h.delimiter=h.delimiter(U),F.meta.delimiter=h.delimiter):((W=((ct,wt,ht,y,z)=>{var ut,G,x,V;z=z||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Y=0;Y<z.length;Y++){for(var Z,rt=z[Y],K=0,it=0,gt=0,dt=(x=void 0,new S({comments:y,delimiter:rt,newline:wt,preview:10}).parse(ct)),et=0;et<dt.data.length;et++)ht&&Q(dt.data[et])?gt++:(Z=dt.data[et].length,it+=Z,x===void 0?x=Z:0<Z&&(K+=Math.abs(Z-x),x=Z));0<dt.data.length&&(it/=dt.data.length-gt),(G===void 0||K<=G)&&(V===void 0||V<it)&&1.99<it&&(G=K,ut=rt,V=it)}return{successful:!!(h.delimiter=ut),bestDelimiter:ut}})(U,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=W.bestDelimiter:(b=!0,h.delimiter=a.DefaultDelimiter),F.meta.delimiter=h.delimiter),j(h));return h.preview&&h.header&&W.preview++,d=U,p=new S(W),F=p.parse(d,J,mt),tt(),L?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,p.abort(),d=B(h.chunk)?"":d.substring(p.getCharIndex())},this.resume=function(){v.streamer._halted?(L=!1,v.streamer.parseChunk(d,!0)):setTimeout(v.resume,3)},this.aborted=function(){return N},this.abort=function(){N=!0,p.abort(),F.meta.aborted=!0,B(h.complete)&&h.complete(F),d=""},this.guessLineEndings=function(ct,W){ct=ct.substring(0,1048576);var W=new RegExp(A(W)+"([^]*?)"+A(W),"gm"),mt=(ct=ct.replace(W,"")).split("\r"),W=ct.split(`
`),ct=1<W.length&&W[0].length<mt[0].length;if(mt.length===1||ct)return`
`;for(var wt=0,ht=0;ht<mt.length;ht++)mt[ht][0]===`
`&&wt++;return wt>=mt.length/2?`\r
`:"\r"}}function A(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(h){var d=(h=h||{}).delimiter,p=h.newline,b=h.comments,C=h.step,P=h.preview,g=h.fastMode,R=null,m=!1,v=h.quoteChar==null?'"':h.quoteChar,E=v;if(h.escapeChar!==void 0&&(E=h.escapeChar),(typeof d!="string"||-1<a.BAD_DELIMITERS.indexOf(d))&&(d=","),b===d)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<a.BAD_DELIMITERS.indexOf(b))&&(b=!1),p!==`
`&&p!=="\r"&&p!==`\r
`&&(p=`
`);var k=0,L=!1;this.parse=function(N,q,F){if(typeof N!="string")throw new Error("Input must be a string");var Q=N.length,tt=d.length,ft=p.length,pt=b.length,U=B(C),J=[],mt=[],W=[],ct=k=0;if(!N)return K();if(g||g!==!1&&N.indexOf(v)===-1){for(var wt=N.split(p),ht=0;ht<wt.length;ht++){if(W=wt[ht],k+=W.length,ht!==wt.length-1)k+=p.length;else if(F)return K();if(!b||W.substring(0,pt)!==b){if(U){if(J=[],V(W.split(d)),it(),L)return K()}else V(W.split(d));if(P&&P<=ht)return J=J.slice(0,P),K(!0)}}return K()}for(var y=N.indexOf(d,k),z=N.indexOf(p,k),ut=new RegExp(A(E)+A(v),"g"),G=N.indexOf(v,k);;)if(N[k]===v)for(G=k,k++;;){if((G=N.indexOf(v,G+1))===-1)return F||mt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:k}),Z();if(G===Q-1)return Z(N.substring(k,G).replace(ut,v));if(v===E&&N[G+1]===E)G++;else if(v===E||G===0||N[G-1]!==E){y!==-1&&y<G+1&&(y=N.indexOf(d,G+1));var x=Y((z=z!==-1&&z<G+1?N.indexOf(p,G+1):z)===-1?y:Math.min(y,z));if(N.substr(G+1+x,tt)===d){W.push(N.substring(k,G).replace(ut,v)),N[k=G+1+x+tt]!==v&&(G=N.indexOf(v,k)),y=N.indexOf(d,k),z=N.indexOf(p,k);break}if(x=Y(z),N.substring(G+1+x,G+1+x+ft)===p){if(W.push(N.substring(k,G).replace(ut,v)),rt(G+1+x+ft),y=N.indexOf(d,k),G=N.indexOf(v,k),U&&(it(),L))return K();if(P&&J.length>=P)return K(!0);break}mt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:k}),G++}}else if(b&&W.length===0&&N.substring(k,k+pt)===b){if(z===-1)return K();k=z+ft,z=N.indexOf(p,k),y=N.indexOf(d,k)}else if(y!==-1&&(y<z||z===-1))W.push(N.substring(k,y)),k=y+tt,y=N.indexOf(d,k);else{if(z===-1)break;if(W.push(N.substring(k,z)),rt(z+ft),U&&(it(),L))return K();if(P&&J.length>=P)return K(!0)}return Z();function V(gt){J.push(gt),ct=k}function Y(gt){var dt=0;return dt=gt!==-1&&(gt=N.substring(G+1,gt))&&gt.trim()===""?gt.length:dt}function Z(gt){return F||(gt===void 0&&(gt=N.substring(k)),W.push(gt),k=Q,V(W),U&&it()),K()}function rt(gt){k=gt,V(W),W=[],z=N.indexOf(p,k)}function K(gt){if(h.header&&!q&&J.length&&!m){var dt=J[0],et={},yt=new Set(dt);let Ft=!1;for(let Dt=0;Dt<dt.length;Dt++){let bt=dt[Dt];if(et[bt=B(h.transformHeader)?h.transformHeader(bt,Dt):bt]){let xt,kt=et[bt];for(;xt=bt+"_"+kt,kt++,yt.has(xt););yt.add(xt),dt[Dt]=xt,et[bt]++,Ft=!0,(R=R===null?{}:R)[xt]=bt}else et[bt]=1,dt[Dt]=bt;yt.add(bt)}Ft&&console.warn("Duplicate headers found and renamed."),m=!0}return{data:J,errors:mt,meta:{delimiter:d,linebreak:p,aborted:L,truncated:!!gt,cursor:ct+(q||0),renamedHeaders:R}}}function it(){C(K()),J=[],mt=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return k}}function D(h){var d=h.data,p=l[d.workerId],b=!1;if(d.error)p.userError(d.error,d.file);else if(d.results&&d.results.data){var C={abort:function(){b=!0,X(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:$,resume:$};if(B(p.userStep)){for(var P=0;P<d.results.data.length&&(p.userStep({data:d.results.data[P],errors:d.results.errors,meta:d.results.meta},C),!b);P++);delete d.results}else B(p.userChunk)&&(p.userChunk(d.results,C,d.file),delete d.results)}d.finished&&!b&&X(d.workerId,d.results)}function X(h,d){var p=l[h];B(p.userComplete)&&p.userComplete(d),p.terminate(),delete l[h]}function $(){throw new Error("Not implemented.")}function j(h){if(typeof h!="object"||h===null)return h;var d,p=Array.isArray(h)?[]:{};for(d in h)p[d]=j(h[d]);return p}function lt(h,d){return function(){h.apply(d,arguments)}}function B(h){return typeof h=="function"}return a.parse=function(h,d){var p=(d=d||{}).dynamicTyping||!1;if(B(p)&&(d.dynamicTypingFunction=p,p={}),d.dynamicTyping=p,d.transform=!!B(d.transform)&&d.transform,!d.worker||!a.WORKERS_SUPPORTED)return p=null,a.NODE_STREAM_INPUT,typeof h=="string"?(h=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(h),p=new(d.download?c:w)(d)):h.readable===!0&&B(h.read)&&B(h.on)?p=new M(d):(r.File&&h instanceof File||h instanceof Object)&&(p=new _(d)),p.stream(h);(p=(()=>{var b;return!!a.WORKERS_SUPPORTED&&(b=(()=>{var C=r.URL||r.webkitURL||null,P=n.toString();return a.BLOB_URL||(a.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=D,b.id=u++,l[b.id]=b)})()).userStep=d.step,p.userChunk=d.chunk,p.userComplete=d.complete,p.userError=d.error,d.step=B(d.step),d.chunk=B(d.chunk),d.complete=B(d.complete),d.error=B(d.error),delete d.worker,p.postMessage({input:h,config:d,workerId:p.id})},a.unparse=function(h,d){var p=!1,b=!0,C=",",P=`\r
`,g='"',R=g+g,m=!1,v=null,E=!1,k=((()=>{if(typeof d=="object"){if(typeof d.delimiter!="string"||a.BAD_DELIMITERS.filter(function(q){return d.delimiter.indexOf(q)!==-1}).length||(C=d.delimiter),typeof d.quotes!="boolean"&&typeof d.quotes!="function"&&!Array.isArray(d.quotes)||(p=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(m=d.skipEmptyLines),typeof d.newline=="string"&&(P=d.newline),typeof d.quoteChar=="string"&&(g=d.quoteChar),typeof d.header=="boolean"&&(b=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");v=d.columns}d.escapeChar!==void 0&&(R=d.escapeChar+g),d.escapeFormulae instanceof RegExp?E=d.escapeFormulae:typeof d.escapeFormulae=="boolean"&&d.escapeFormulae&&(E=/^[=+\-@\t\r].*$/)}})(),new RegExp(A(g),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return L(null,h,m);if(typeof h[0]=="object")return L(v||Object.keys(h[0]),h,m)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||v),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),L(h.fields||[],h.data||[],m);throw new Error("Unable to serialize unrecognized input");function L(q,F,Q){var tt="",ft=(typeof q=="string"&&(q=JSON.parse(q)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(q)&&0<q.length),pt=!Array.isArray(F[0]);if(ft&&b){for(var U=0;U<q.length;U++)0<U&&(tt+=C),tt+=N(q[U],U);0<F.length&&(tt+=P)}for(var J=0;J<F.length;J++){var mt=(ft?q:F[J]).length,W=!1,ct=ft?Object.keys(F[J]).length===0:F[J].length===0;if(Q&&!ft&&(W=Q==="greedy"?F[J].join("").trim()==="":F[J].length===1&&F[J][0].length===0),Q==="greedy"&&ft){for(var wt=[],ht=0;ht<mt;ht++){var y=pt?q[ht]:ht;wt.push(F[J][y])}W=wt.join("").trim()===""}if(!W){for(var z=0;z<mt;z++){0<z&&!ct&&(tt+=C);var ut=ft&&pt?q[z]:z;tt+=N(F[J][ut],z)}J<F.length-1&&(!Q||0<mt&&!ct)&&(tt+=P)}}return tt}function N(q,F){var Q,tt;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(tt=!1,E&&typeof q=="string"&&E.test(q)&&(q="'"+q,tt=!0),Q=q.toString().replace(k,R),(tt=tt||p===!0||typeof p=="function"&&p(q,F)||Array.isArray(p)&&p[F]||((ft,pt)=>{for(var U=0;U<pt.length;U++)if(-1<ft.indexOf(pt[U]))return!0;return!1})(Q,a.BAD_DELIMITERS)||-1<Q.indexOf(C)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?g+Q+g:Q)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=S,a.ParserHandle=I,a.NetworkStreamer=c,a.FileStreamer=_,a.StringStreamer=w,a.ReadableStreamStreamer=M,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var d=h.config||{},p=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var g=0;g<this.files.length;g++)p.push({file:this.files[g],inputElem:this,instanceConfig:i.extend({},d)})}),b(),this;function b(){if(p.length===0)B(h.complete)&&h.complete();else{var P,g,R,m,v=p[0];if(B(h.before)){var E=h.before(v.file,v.inputElem);if(typeof E=="object"){if(E.action==="abort")return P="AbortError",g=v.file,R=v.inputElem,m=E.reason,void(B(h.error)&&h.error({name:P},g,R,m));if(E.action==="skip")return void C();typeof E.config=="object"&&(v.instanceConfig=i.extend(v.instanceConfig,E.config))}else if(E==="skip")return void C()}var k=v.instanceConfig.complete;v.instanceConfig.complete=function(L){B(k)&&k(L,v.file,v.inputElem),C()},a.parse(v.file,v.instanceConfig)}}function C(){p.splice(0,1),b()}}),s&&(r.onmessage=function(h){h=h.data,a.WORKER_ID===void 0&&h&&(a.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=a.parse(h.input,h.config))&&r.postMessage({workerId:a.WORKER_ID,results:h,finished:!0})}),(c.prototype=Object.create(f.prototype)).constructor=c,(_.prototype=Object.create(f.prototype)).constructor=_,(w.prototype=Object.create(w.prototype)).constructor=w,(M.prototype=Object.create(f.prototype)).constructor=M,a})})(Ir);const Mi=Ir.exports;function Re(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lr(t){let e,n,r;t.length!==2?(e=Re,n=(l,u)=>Re(t(l),u),r=(l,u)=>t(l)-u):(e=t===Re||t===Ei?t:Ci,n=t,r=t);function i(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const c=a+f>>>1;n(l[c],u)<0?a=c+1:f=c}while(a<f)}return a}function o(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const c=a+f>>>1;n(l[c],u)<=0?a=c+1:f=c}while(a<f)}return a}function s(l,u,a=0,f=l.length){const c=i(l,u,a,f-1);return c>a&&r(l[c-1],u)>-r(l[c],u)?c-1:c}return{left:i,center:s,right:o}}function Ci(){return 0}function Ai(t){return t===null?NaN:+t}const Di=Lr(Re),Ti=Di.right;Lr(Ai).center;const Ri=Ti;class Xn extends Map{constructor(e,n=zi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Bn(this,e))}has(e){return super.has(Bn(this,e))}set(e,n){return super.set(Ni(this,e),n)}delete(e){return super.delete(Oi(this,e))}}function Bn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ni({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Oi({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zi(t){return t!==null&&typeof t=="object"?t.valueOf():t}var fn=Math.sqrt(50),cn=Math.sqrt(10),hn=Math.sqrt(2);function Ii(t,e,n){var r,i=-1,o,s,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=Pr(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)/l}return r&&s.reverse(),s}function Pr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fn?10:o>=cn?5:o>=hn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fn?10:o>=cn?5:o>=hn?2:1)}function Li(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fn?i*=10:o>=cn?i*=5:o>=hn&&(i*=2),e<t?-i:i}function Hn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Un=Symbol("implicit");function Vr(){var t=new Xn,e=[],n=[],r=Un;function i(o){let s=t.get(o);if(s===void 0){if(r!==Un)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Xn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vr(e,n).unknown(r)},Fr.apply(i,arguments),i}function En(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function we(){}var me=.7,Pe=1/me,ie="\\s*([+-]?\\d+)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pi=/^#([0-9a-f]{3,8})$/,Fi=new RegExp(`^rgb\\(${ie},${ie},${ie}\\)$`),Vi=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),qi=new RegExp(`^rgba\\(${ie},${ie},${ie},${_e}\\)$`),Xi=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${_e}\\)$`),Bi=new RegExp(`^hsl\\(${_e},${Lt},${Lt}\\)$`),Hi=new RegExp(`^hsla\\(${_e},${Lt},${Lt},${_e}\\)$`),Wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};En(we,$t,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kn,formatHex:Kn,formatHex8:Yi,formatHsl:Ui,formatRgb:Qn,toString:Qn});function Kn(){return this.rgb().formatHex()}function Yi(){return this.rgb().formatHex8()}function Ui(){return Xr(this).formatHsl()}function Qn(){return this.rgb().formatRgb()}function $t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gn(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ke(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fi.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Vi.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qi.exec(t))?ke(e[1],e[2],e[3],e[4]):(e=Xi.exec(t))?ke(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bi.exec(t))?Jn(e[1],e[2]/100,e[3]/100,1):(e=Hi.exec(t))?Jn(e[1],e[2]/100,e[3]/100,e[4]):Wn.hasOwnProperty(t)?Gn(Wn[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Gn(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function ke(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function Wi(t){return t instanceof we||(t=$t(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function dn(t,e,n,r){return arguments.length===1?Wi(t):new Ct(t,e,n,r==null?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}En(Ct,dn,qr(we,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(Jt(this.r),Jt(this.g),Jt(this.b),Fe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatHex8:Ki,formatRgb:jn,toString:jn}));function Zn(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}`}function Ki(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}${Zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function jn(){const t=Fe(this.opacity);return`${t===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${t===1?")":`, ${t})`}`}function Fe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zt(t){return t=Jt(t),(t<16?"0":"")+t.toString(16)}function Jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zt(t,e,n,r)}function Xr(t){if(t instanceof zt)return new zt(t.h,t.s,t.l,t.opacity);if(t instanceof we||(t=$t(t)),!t)return new zt;if(t instanceof zt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new zt(s,l,u,t.opacity)}function Qi(t,e,n,r){return arguments.length===1?Xr(t):new zt(t,e,n,r==null?1:r)}function zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}En(zt,Qi,qr(we,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(on(t>=240?t-240:t+120,i,r),on(t,i,r),on(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zt($n(this.h),Se(this.s),Se(this.l),Fe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fe(this.opacity);return`${t===1?"hsl(":"hsla("}${$n(this.h)}, ${Se(this.s)*100}%, ${Se(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $n(t){return t=(t||0)%360,t<0?t+360:t}function Se(t){return Math.max(0,Math.min(1,t||0))}function on(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cn=t=>()=>t;function Gi(t,e){return function(n){return t+n*e}}function Zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ji(t){return(t=+t)==1?Br:function(e,n){return n-e?Zi(e,n,t):Cn(isNaN(e)?n:e)}}function Br(t,e){var n=e-t;return n?Gi(t,n):Cn(isNaN(t)?e:t)}const Ve=function t(e){var n=ji(e);function r(i,o){var s=n((i=dn(i)).r,(o=dn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=Br(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=a(f),i+""}}return r.gamma=t,r}(1);function Ji(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $i(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function to(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=An(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function eo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ot(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function no(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=An(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(pn.source,"g");function ro(t){return function(){return t}}function io(t){return function(e){return t(e)+""}}function Hr(t,e){var n=pn.lastIndex=sn.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=pn.exec(t))&&(i=sn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Ot(r,i)})),n=sn.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?io(u[0].x):ro(e):(e=u.length,function(a){for(var f=0,c;f<e;++f)l[(c=u[f]).i]=c.x(a);return l.join("")})}function An(t,e){var n=typeof e,r;return e==null||n==="boolean"?Cn(e):(n==="number"?Ot:n==="string"?(r=$t(e))?(e=r,Ve):Hr:e instanceof $t?Ve:e instanceof Date?eo:$i(e)?Ji:Array.isArray(e)?to:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?no:Ot)(t,e)}function oo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var tr=180/Math.PI,gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yr(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tr,skewX:Math.atan(u)*tr,scaleX:s,scaleY:l}}var Me;function so(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?gn:Yr(e.a,e.b,e.c,e.d,e.e,e.f)}function ao(t){return t==null||(Me||(Me=document.createElementNS("http://www.w3.org/2000/svg","g")),Me.setAttribute("transform",t),!(t=Me.transform.baseVal.consolidate()))?gn:(t=t.matrix,Yr(t.a,t.b,t.c,t.d,t.e,t.f))}function Ur(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,f,c,_,w,M){if(a!==c||f!==_){var I=w.push("translate(",null,e,null,n);M.push({i:I-4,x:Ot(a,c)},{i:I-2,x:Ot(f,_)})}else(c||_)&&w.push("translate("+c+e+_+n)}function s(a,f,c,_){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),_.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Ot(a,f)})):f&&c.push(i(c)+"rotate("+f+r)}function l(a,f,c,_){a!==f?_.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Ot(a,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(a,f,c,_,w,M){if(a!==c||f!==_){var I=w.push(i(w)+"scale(",null,",",null,")");M.push({i:I-4,x:Ot(a,c)},{i:I-2,x:Ot(f,_)})}else(c!==1||_!==1)&&w.push(i(w)+"scale("+c+","+_+")")}return function(a,f){var c=[],_=[];return a=t(a),f=t(f),o(a.translateX,a.translateY,f.translateX,f.translateY,c,_),s(a.rotate,f.rotate,c,_),l(a.skewX,f.skewX,c,_),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,c,_),a=f=null,function(w){for(var M=-1,I=_.length,A;++M<I;)c[(A=_[M]).i]=A.x(w);return c.join("")}}}var lo=Ur(so,"px, ","px)","deg)"),uo=Ur(ao,", ",")",")"),fo=1e-12;function er(t){return((t=Math.exp(t))+1/t)/2}function co(t){return((t=Math.exp(t))-1/t)/2}function ho(t){return((t=Math.exp(2*t))-1)/(t+1)}const po=function t(e,n,r){function i(o,s){var l=o[0],u=o[1],a=o[2],f=s[0],c=s[1],_=s[2],w=f-l,M=c-u,I=w*w+M*M,A,S;if(I<fo)S=Math.log(_/a)/e,A=function(B){return[l+B*w,u+B*M,a*Math.exp(e*B*S)]};else{var D=Math.sqrt(I),X=(_*_-a*a+r*I)/(2*a*n*D),$=(_*_-a*a-r*I)/(2*_*n*D),j=Math.log(Math.sqrt(X*X+1)-X),lt=Math.log(Math.sqrt($*$+1)-$);S=(lt-j)/e,A=function(B){var h=B*S,d=er(j),p=a/(n*D)*(d*ho(e*h+j)-co(j));return[l+p*w,u+p*M,a*d/er(e*h+j)]}}return A.duration=S*1e3*e/Math.SQRT2,A}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,u=l*l;return t(s,l,u)},i}(Math.SQRT2,2,4);function go(t){return function(){return t}}function mo(t){return+t}var nr=[0,1];function ne(t){return t}function mn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:go(isNaN(e)?NaN:.5)}function _o(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=mn(i,r),o=n(s,o)):(r=mn(r,i),o=n(o,s)),function(l){return o(r(l))}}function wo(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=mn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var u=Ri(t,l,1,r)-1;return o[u](i[u](l))}}function vo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bo(){var t=nr,e=nr,n=An,r,i,o,s=ne,l,u,a;function f(){var _=Math.min(t.length,e.length);return s!==ne&&(s=_o(t[0],t[_-1])),l=_>2?wo:yo,u=a=null,c}function c(_){return _==null||isNaN(_=+_)?o:(u||(u=l(t.map(r),e,n)))(r(s(_)))}return c.invert=function(_){return s(i((a||(a=l(e,t.map(r),Ot)))(_)))},c.domain=function(_){return arguments.length?(t=Array.from(_,mo),f()):t.slice()},c.range=function(_){return arguments.length?(e=Array.from(_),f()):e.slice()},c.rangeRound=function(_){return e=Array.from(_),n=oo,f()},c.clamp=function(_){return arguments.length?(s=_?!0:ne,f()):s!==ne},c.interpolate=function(_){return arguments.length?(n=_,f()):n},c.unknown=function(_){return arguments.length?(o=_,c):o},function(_,w){return r=_,i=w,f()}}function xo(){return bo()(ne,ne)}function ko(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function oe(t){return t=qe(Math.abs(t)),t?t[1]:NaN}function So(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Mo(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(t){if(!(e=Eo.exec(t)))throw new Error("invalid format: "+t);var e;return new Dn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xe.prototype=Dn.prototype;function Dn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Dn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Co(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wr;function Ao(t,e){var n=qe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Wr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qe(t,Math.max(0,e+o-1))[0]}function rr(t,e){var n=qe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ir={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ko,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rr(t*100,e),r:rr,s:Ao,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function or(t){return t}var sr=Array.prototype.map,ar=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Do(t){var e=t.grouping===void 0||t.thousands===void 0?or:So(sr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?or:Mo(sr.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(c){c=Xe(c);var _=c.fill,w=c.align,M=c.sign,I=c.symbol,A=c.zero,S=c.width,D=c.comma,X=c.precision,$=c.trim,j=c.type;j==="n"?(D=!0,j="g"):ir[j]||(X===void 0&&(X=12),$=!0,j="g"),(A||_==="0"&&w==="=")&&(A=!0,_="0",w="=");var lt=I==="$"?n:I==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",B=I==="$"?r:/[%p]/.test(j)?s:"",h=ir[j],d=/[defgprs%]/.test(j);X=X===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X));function p(b){var C=lt,P=B,g,R,m;if(j==="c")P=h(b)+P,b="";else{b=+b;var v=b<0||1/b<0;if(b=isNaN(b)?u:h(Math.abs(b),X),$&&(b=Co(b)),v&&+b==0&&M!=="+"&&(v=!1),C=(v?M==="("?M:l:M==="-"||M==="("?"":M)+C,P=(j==="s"?ar[8+Wr/3]:"")+P+(v&&M==="("?")":""),d){for(g=-1,R=b.length;++g<R;)if(m=b.charCodeAt(g),48>m||m>57){P=(m===46?i+b.slice(g+1):b.slice(g))+P,b=b.slice(0,g);break}}}D&&!A&&(b=e(b,1/0));var E=C.length+b.length+P.length,k=E<S?new Array(S-E+1).join(_):"";switch(D&&A&&(b=e(k+b,k.length?S-P.length:1/0),k=""),w){case"<":b=C+b+P+k;break;case"=":b=C+k+b+P;break;case"^":b=k.slice(0,E=k.length>>1)+C+b+P+k.slice(E);break;default:b=k+C+b+P;break}return o(b)}return p.toString=function(){return c+""},p}function f(c,_){var w=a((c=Xe(c),c.type="f",c)),M=Math.max(-8,Math.min(8,Math.floor(oe(_)/3)))*3,I=Math.pow(10,-M),A=ar[8+M/3];return function(S){return w(I*S)+A}}return{format:a,formatPrefix:f}}var Ee,Kr,Qr;To({thousands:",",grouping:[3],currency:["$",""]});function To(t){return Ee=Do(t),Kr=Ee.format,Qr=Ee.formatPrefix,Ee}function Ro(t){return Math.max(0,-oe(Math.abs(t)))}function No(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oe(e)/3)))*3-oe(Math.abs(t)))}function Oo(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oe(e)-oe(t))+1}function zo(t,e,n,r){var i=Li(t,e,n),o;switch(r=Xe(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=No(i,s))&&(r.precision=o),Qr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Oo(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ro(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kr(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ii(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return zo(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],u,a,f=10;for(l<s&&(a=s,s=l,l=a,a=i,i=o,o=a);f-- >0;){if(a=Pr(s,l,n),a===u)return r[i]=s,r[o]=l,e(r);if(a>0)s=Math.floor(s/a)*a,l=Math.ceil(l/a)*a;else if(a<0)s=Math.ceil(s*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function _n(){var t=xo();return t.copy=function(){return vo(t,_n())},Fr.apply(t,arguments),Io(t)}function Lo(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Po=Lo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Fo(t){let e;return{c(){e=H("p"),e.textContent="Hover over a circle to see details here.",T(e,"class","svelte-b094ih")},m(n,r){ot(n,e,r)},p:At,d(n){n&&nt(e)}}}function Vo(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",l,u,a,f=t[0].date.toISOString().split("T")[0]+"",c,_,w,M,I=t[0].text+"",A,S=t[6]&&lr(t);return{c(){e=H("h1"),r=vt(n),i=at(),o=H("span"),l=vt(s),u=at(),a=H("h2"),c=vt(f),_=at(),S&&S.c(),w=at(),M=H("p"),A=vt(I),T(e,"class","svelte-b094ih"),Mt(o,"background",t[2](t[0][t[1]])),T(o,"class","svelte-b094ih"),T(a,"class","svelte-b094ih"),T(M,"class","svelte-b094ih")},m(D,X){ot(D,e,X),O(e,r),ot(D,i,X),ot(D,o,X),O(o,l),ot(D,u,X),ot(D,a,X),O(a,c),ot(D,_,X),S&&S.m(D,X),ot(D,w,X),ot(D,M,X),O(M,A)},p(D,X){X&1&&n!==(n=D[0].title+"")&&Rt(r,n),X&35&&s!==(s=(D[5]?D[5](D[1],D[0][D[1]]):D[0][D[1]])+"")&&Rt(l,s),X&7&&Mt(o,"background",D[2](D[0][D[1]])),X&1&&f!==(f=D[0].date.toISOString().split("T")[0]+"")&&Rt(c,f),D[6]?S?S.p(D,X):(S=lr(D),S.c(),S.m(w.parentNode,w)):S&&(S.d(1),S=null),X&1&&I!==(I=D[0].text+"")&&Rt(A,I)},d(D){D&&nt(e),D&&nt(i),D&&nt(o),D&&nt(u),D&&nt(a),D&&nt(_),S&&S.d(D),D&&nt(w),D&&nt(M)}}}function lr(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&ur(t);return{c(){r&&r.c(),n=Tr()},m(i,o){r&&r.m(i,o),ot(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=ur(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&nt(n)}}}function ur(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=H("p"),n=H("em"),i=vt(r),T(e,"class","svelte-b094ih")},m(o,s){ot(o,e,s),O(e,n),O(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Rt(i,r)},d(o){o&&nt(e)}}}function qo(t){let e;function n(o,s){return o[0]?Vo:Fo}let r=n(t),i=r(t);return{c(){e=H("div"),i.c(),T(e,"class","detail-card svelte-b094ih"),Mt(e,"left",t[3]+"px"),Mt(e,"top",t[4]+"px")},m(o,s){ot(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&Mt(e,"left",o[3]+"px"),s&16&&Mt(e,"top",o[4]+"px")},i:At,o:At,d(o){o&&nt(e),i.d()}}}function Xo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:l=0}=e,{posY:u=0}=e,{labelOverride:a=null}=e,{descriptionOverride:f=null}=e;return Sn(()=>{s.domain(o.map(c=>c[i]))}),t.$$set=c=>{"hoveredData"in c&&n(0,r=c.hoveredData),"domainColumn"in c&&n(1,i=c.domainColumn),"data"in c&&n(7,o=c.data),"colorScale"in c&&n(2,s=c.colorScale),"posX"in c&&n(3,l=c.posX),"posY"in c&&n(4,u=c.posY),"labelOverride"in c&&n(5,a=c.labelOverride),"descriptionOverride"in c&&n(6,f=c.descriptionOverride)},[r,i,s,l,u,a,f,o]}class Bo extends Je{constructor(e){super(),je(this,e,Xo,qo,Qe,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var Ho={value:()=>{}};function Tn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ne(n)}function Ne(t){this._=t}function Yo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ne.prototype=Tn.prototype={constructor:Ne,on:function(t,e){var n=this._,r=Yo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Uo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=fr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ne(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Uo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ho,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yn="http://www.w3.org/1999/xhtml";const cr={svg:"http://www.w3.org/2000/svg",xhtml:yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $e(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),cr.hasOwnProperty(e)?{space:cr[e],local:t}:t}function Wo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yn&&e.documentElement.namespaceURI===yn?e.createElement(t):e.createElementNS(n,t)}}function Ko(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gr(t){var e=$e(t);return(e.local?Ko:Wo)(e)}function Qo(){}function Rn(t){return t==null?Qo:function(){return this.querySelector(t)}}function Go(t){typeof t!="function"&&(t=Rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,f=0;f<s;++f)(u=o[f])&&(a=t.call(u,u.__data__,f,o))&&("__data__"in u&&(a.__data__=u.__data__),l[f]=a);return new Nt(r,this._parents)}function Zo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function jo(){return[]}function Zr(t){return t==null?jo:function(){return this.querySelectorAll(t)}}function Jo(t){return function(){return Zo(t.apply(this,arguments))}}function $o(t){typeof t=="function"?t=Jo(t):t=Zr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new Nt(r,i)}function jr(t){return function(){return this.matches(t)}}function Jr(t){return function(e){return e.matches(t)}}var ts=Array.prototype.find;function es(t){return function(){return ts.call(this.children,t)}}function ns(){return this.firstElementChild}function rs(t){return this.select(t==null?ns:es(typeof t=="function"?t:Jr(t)))}var is=Array.prototype.filter;function os(){return Array.from(this.children)}function ss(t){return function(){return is.call(this.children,t)}}function as(t){return this.selectAll(t==null?os:ss(typeof t=="function"?t:Jr(t)))}function ls(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Nt(r,this._parents)}function $r(t){return new Array(t.length)}function us(){return new Nt(this._enter||this._groups.map($r),this._parents)}function Be(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Be.prototype={constructor:Be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fs(t){return function(){return t}}function cs(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Be(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function hs(t,e,n,r,i,o,s){var l,u,a=new Map,f=e.length,c=o.length,_=new Array(f),w;for(l=0;l<f;++l)(u=e[l])&&(_[l]=w=s.call(u,u.__data__,l,e)+"",a.has(w)?i[l]=u:a.set(w,u));for(l=0;l<c;++l)w=s.call(t,o[l],l,o)+"",(u=a.get(w))?(r[l]=u,u.__data__=o[l],a.delete(w)):n[l]=new Be(t,o[l]);for(l=0;l<f;++l)(u=e[l])&&a.get(_[l])===u&&(i[l]=u)}function ds(t){return t.__data__}function ps(t,e){if(!arguments.length)return Array.from(this,ds);var n=e?hs:cs,r=this._parents,i=this._groups;typeof t!="function"&&(t=fs(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var f=r[a],c=i[a],_=c.length,w=gs(t.call(f,f&&f.__data__,a,r)),M=w.length,I=l[a]=new Array(M),A=s[a]=new Array(M),S=u[a]=new Array(_);n(f,c,I,A,S,w,e);for(var D=0,X=0,$,j;D<M;++D)if($=I[D]){for(D>=X&&(X=D+1);!(j=A[X])&&++X<M;);$._next=j||null}}return s=new Nt(s,r),s._enter=l,s._exit=u,s}function gs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ms(){return new Nt(this._exit||this._groups.map($r),this._parents)}function _s(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ys(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],f=r[u],c=a.length,_=l[u]=new Array(c),w,M=0;M<c;++M)(w=a[M]||f[M])&&(_[M]=w);for(;u<i;++u)l[u]=n[u];return new Nt(l,this._parents)}function ws(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function vs(t){t||(t=bs);function e(c,_){return c&&_?t(c.__data__,_.__data__):!c-!_}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,f=0;f<l;++f)(a=s[f])&&(u[f]=a);u.sort(e)}return new Nt(i,this._parents).order()}function bs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ks(){return Array.from(this)}function Ss(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ms(){let t=0;for(const e of this)++t;return t}function Es(){return!this.node()}function Cs(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function As(t){return function(){this.removeAttribute(t)}}function Ds(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ts(t,e){return function(){this.setAttribute(t,e)}}function Rs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ns(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Os(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zs(t,e){var n=$e(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ds:As:typeof e=="function"?n.local?Os:Ns:n.local?Rs:Ts)(n,e))}function ti(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Is(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ps(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Fs(t,e,n){return arguments.length>1?this.each((e==null?Is:typeof e=="function"?Ps:Ls)(t,e,n==null?"":n)):se(this.node(),t)}function se(t,e){return t.style.getPropertyValue(e)||ti(t).getComputedStyle(t,null).getPropertyValue(e)}function Vs(t){return function(){delete this[t]}}function qs(t,e){return function(){this[t]=e}}function Xs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Bs(t,e){return arguments.length>1?this.each((e==null?Vs:typeof e=="function"?Xs:qs)(t,e)):this.node()[t]}function ei(t){return t.trim().split(/^|\s+/)}function Nn(t){return t.classList||new ni(t)}function ni(t){this._node=t,this._names=ei(t.getAttribute("class")||"")}ni.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ri(t,e){for(var n=Nn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ii(t,e){for(var n=Nn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hs(t){return function(){ri(this,t)}}function Ys(t){return function(){ii(this,t)}}function Us(t,e){return function(){(e.apply(this,arguments)?ri:ii)(this,t)}}function Ws(t,e){var n=ei(t+"");if(arguments.length<2){for(var r=Nn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Us:e?Hs:Ys)(n,e))}function Ks(){this.textContent=""}function Qs(t){return function(){this.textContent=t}}function Gs(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Zs(t){return arguments.length?this.each(t==null?Ks:(typeof t=="function"?Gs:Qs)(t)):this.node().textContent}function js(){this.innerHTML=""}function Js(t){return function(){this.innerHTML=t}}function $s(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function ta(t){return arguments.length?this.each(t==null?js:(typeof t=="function"?$s:Js)(t)):this.node().innerHTML}function ea(){this.nextSibling&&this.parentNode.appendChild(this)}function na(){return this.each(ea)}function ra(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ia(){return this.each(ra)}function oa(t){var e=typeof t=="function"?t:Gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sa(){return null}function aa(t,e){var n=typeof t=="function"?t:Gr(t),r=e==null?sa:typeof e=="function"?e:Rn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function la(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.each(la)}function fa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ca(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ha(t){return this.select(t?ca:fa)}function da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pa(t){return function(e){t.call(this,e,this.__data__)}}function ga(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ma(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function _a(t,e,n){return function(){var r=this.__on,i,o=pa(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ya(t,e,n){var r=ga(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,f;u<a;++u)for(i=0,f=l[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?_a:ma,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function oi(t,e,n){var r=ti(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function wa(t,e){return function(){return oi(this,t,e)}}function va(t,e){return function(){return oi(this,t,e.apply(this,arguments))}}function ba(t,e){return this.each((typeof e=="function"?va:wa)(t,e))}function*xa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var si=[null];function Nt(t,e){this._groups=t,this._parents=e}function ve(){return new Nt([[document.documentElement]],si)}function ka(){return this}Nt.prototype=ve.prototype={constructor:Nt,select:Go,selectAll:$o,selectChild:rs,selectChildren:as,filter:ls,data:ps,enter:us,exit:ms,join:_s,merge:ys,selection:ka,order:ws,sort:vs,call:xs,nodes:ks,node:Ss,size:Ms,empty:Es,each:Cs,attr:zs,style:Fs,property:Bs,classed:Ws,text:Zs,html:ta,raise:na,lower:ia,append:oa,insert:aa,remove:ua,clone:ha,datum:da,on:ya,dispatch:ba,[Symbol.iterator]:xa};function Kt(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],si)}function Sa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Qt(t,e){if(t=Sa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const wn={capture:!0,passive:!1};function vn(t){t.preventDefault(),t.stopImmediatePropagation()}function Ma(t){var e=t.document.documentElement,n=Kt(t).on("dragstart.drag",vn,wn);"onselectstart"in e?n.on("selectstart.drag",vn,wn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ea(t,e){var n=t.document.documentElement,r=Kt(t).on("dragstart.drag",null);e&&(r.on("click.drag",vn,wn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ae=0,he=0,ue=0,ai=1e3,He,de,Ye=0,te=0,tn=0,ye=typeof performance=="object"&&performance.now?performance:Date,li=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function On(){return te||(li(Ca),te=ye.now()+tn)}function Ca(){te=0}function Ue(){this._call=this._time=this._next=null}Ue.prototype=ui.prototype={constructor:Ue,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?On():+n)+(e==null?0:+e),!this._next&&de!==this&&(de?de._next=this:He=this,de=this),this._call=t,this._time=n,bn()},stop:function(){this._call&&(this._call=null,this._time=1/0,bn())}};function ui(t,e,n){var r=new Ue;return r.restart(t,e,n),r}function Aa(){On(),++ae;for(var t=He,e;t;)(e=te-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ae}function hr(){te=(Ye=ye.now())+tn,ae=he=0;try{Aa()}finally{ae=0,Ta(),te=0}}function Da(){var t=ye.now(),e=t-Ye;e>ai&&(tn-=e,Ye=t)}function Ta(){for(var t,e=He,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:He=n);de=t,bn(r)}function bn(t){if(!ae){he&&(he=clearTimeout(he));var e=t-te;e>24?(t<1/0&&(he=setTimeout(hr,t-ye.now()-tn)),ue&&(ue=clearInterval(ue))):(ue||(Ye=ye.now(),ue=setInterval(Da,ai)),ae=1,li(hr))}}function dr(t,e,n){var r=new Ue;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ra=Tn("start","end","cancel","interrupt"),Na=[],fi=0,pr=1,xn=2,Oe=3,gr=4,kn=5,ze=6;function en(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Oa(t,n,{name:e,index:r,group:i,on:Ra,tween:Na,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fi})}function zn(t,e){var n=It(t,e);if(n.state>fi)throw new Error("too late; already scheduled");return n}function Pt(t,e){var n=It(t,e);if(n.state>Oe)throw new Error("too late; already running");return n}function It(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Oa(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ui(o,0,n.time);function o(a){n.state=pr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var f,c,_,w;if(n.state!==pr)return u();for(f in r)if(w=r[f],w.name===n.name){if(w.state===Oe)return dr(s);w.state===gr?(w.state=ze,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete r[f]):+f<e&&(w.state=ze,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete r[f])}if(dr(function(){n.state===Oe&&(n.state=gr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=xn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xn){for(n.state=Oe,i=new Array(_=n.tween.length),f=0,c=-1;f<_;++f)(w=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=w);i.length=c+1}}function l(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=kn,1),c=-1,_=i.length;++c<_;)i[c].call(t,f);n.state===kn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ze,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Ie(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>xn&&r.state<kn,r.state=ze,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function za(t){return this.each(function(){Ie(this,t)})}function Ia(t,e){var n,r;return function(){var i=Pt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function La(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Pt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function Pa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=It(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Ia:La)(n,t,e))}function In(t,e,n){var r=t._id;return t.each(function(){var i=Pt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return It(i,r).value[e]}}function ci(t,e){var n;return(typeof e=="number"?Ot:e instanceof $t?Ve:(n=$t(e))?(e=n,Ve):Hr)(t,e)}function Fa(t){return function(){this.removeAttribute(t)}}function Va(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Xa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Ba(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ha(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ya(t,e){var n=$e(t),r=n==="transform"?uo:ci;return this.attrTween(t,typeof e=="function"?(n.local?Ha:Ba)(n,r,In(this,"attr."+t,e)):e==null?(n.local?Va:Fa)(n):(n.local?Xa:qa)(n,r,e))}function Ua(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wa(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ka(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wa(t,o)),n}return i._value=e,i}function Qa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ua(t,o)),n}return i._value=e,i}function Ga(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=$e(t);return this.tween(n,(r.local?Ka:Qa)(r,e))}function Za(t,e){return function(){zn(this,t).delay=+e.apply(this,arguments)}}function ja(t,e){return e=+e,function(){zn(this,t).delay=e}}function Ja(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Za:ja)(e,t)):It(this.node(),e).delay}function $a(t,e){return function(){Pt(this,t).duration=+e.apply(this,arguments)}}function tl(t,e){return e=+e,function(){Pt(this,t).duration=e}}function el(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$a:tl)(e,t)):It(this.node(),e).duration}function nl(t,e){if(typeof e!="function")throw new Error;return function(){Pt(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(nl(e,t)):It(this.node(),e).ease}function il(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Pt(this,t).ease=n}}function ol(t){if(typeof t!="function")throw new Error;return this.each(il(this._id,t))}function sl(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Yt(r,this._parents,this._name,this._id)}function al(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],f=u.length,c=s[l]=new Array(f),_,w=0;w<f;++w)(_=u[w]||a[w])&&(c[w]=_);for(;l<r;++l)s[l]=e[l];return new Yt(s,this._parents,this._name,this._id)}function ll(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ul(t,e,n){var r,i,o=ll(e)?zn:Pt;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function fl(t,e){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(t):this.each(ul(n,t,e))}function cl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hl(){return this.on("end.remove",cl(this._id))}function dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),f,c,_=0;_<u;++_)(f=l[_])&&(c=t.call(f,f.__data__,_,l))&&("__data__"in f&&(c.__data__=f.__data__),a[_]=c,en(a[_],e,n,_,a,It(f,n)));return new Yt(o,this._parents,e,n)}function pl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,f,c=0;c<a;++c)if(f=u[c]){for(var _=t.call(f,f.__data__,c,u),w,M=It(f,n),I=0,A=_.length;I<A;++I)(w=_[I])&&en(w,e,n,I,_,M);o.push(_),s.push(f)}return new Yt(o,s,e,n)}var gl=ve.prototype.constructor;function ml(){return new gl(this._groups,this._parents)}function _l(t,e){var n,r,i;return function(){var o=se(this,t),s=(this.style.removeProperty(t),se(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function hi(t){return function(){this.style.removeProperty(t)}}function yl(t,e,n){var r,i=n+"",o;return function(){var s=se(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function wl(t,e,n){var r,i,o;return function(){var s=se(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),se(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function vl(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=Pt(this,t),a=u.on,f=u.value[o]==null?l||(l=hi(e)):void 0;(a!==n||i!==f)&&(r=(n=a).copy()).on(s,i=f),u.on=r}}function bl(t,e,n){var r=(t+="")=="transform"?lo:ci;return e==null?this.styleTween(t,_l(t,r)).on("end.style."+t,hi(t)):typeof e=="function"?this.styleTween(t,wl(t,r,In(this,"style."+t,e))).each(vl(this._id,t)):this.styleTween(t,yl(t,r,e),n).on("end.style."+t,null)}function xl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function kl(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xl(t,s,n)),r}return o._value=e,o}function Sl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,kl(t,e,n==null?"":n))}function Ml(t){return function(){this.textContent=t}}function El(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Cl(t){return this.tween("text",typeof t=="function"?El(In(this,"text",t)):Ml(t==null?"":t+""))}function Al(t){return function(e){this.textContent=t.call(this,e)}}function Dl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Al(i)),e}return r._value=t,r}function Tl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Dl(t))}function Rl(){for(var t=this._name,e=this._id,n=di(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var f=It(u,e);en(u,t,n,a,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Yt(r,this._parents,t,n)}function Nl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=Pt(this,r),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var Ol=0;function Yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function di(){return++Ol}var qt=ve.prototype;Yt.prototype={constructor:Yt,select:dl,selectAll:pl,selectChild:qt.selectChild,selectChildren:qt.selectChildren,filter:sl,merge:al,selection:ml,transition:Rl,call:qt.call,nodes:qt.nodes,node:qt.node,size:qt.size,empty:qt.empty,each:qt.each,on:fl,attr:Ya,attrTween:Ga,style:bl,styleTween:Sl,text:Cl,textTween:Tl,remove:hl,tween:Pa,delay:Ja,duration:el,ease:rl,easeVarying:ol,end:Nl,[Symbol.iterator]:qt[Symbol.iterator]};function zl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Il={time:null,delay:0,duration:250,ease:zl};function Ll(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Pl(t){var e,n;t instanceof Yt?(e=t._id,t=t._name):(e=di(),(n=Il).time=On(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&en(u,t,e,a,s,n||Ll(u,e));return new Yt(r,this._parents,t,e)}ve.prototype.interrupt=za;ve.prototype.transition=Pl;const Ce=t=>()=>t;function Fl(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Xt(t,e,n){this.k=t,this.x=e,this.y=n}Xt.prototype={constructor:Xt,scale:function(t){return t===1?this:new Xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var We=new Xt(1,0,0);Xt.prototype;function an(t){t.stopImmediatePropagation()}function fe(t){t.preventDefault(),t.stopImmediatePropagation()}function Vl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ql(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function mr(){return this.__zoom||We}function Xl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Yl(){var t=Vl,e=ql,n=Hl,r=Xl,i=Bl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=po,a=Tn("start","zoom","end"),f,c,_,w=500,M=150,I=0,A=10;function S(g){g.property("__zoom",mr).on("wheel.zoom",h,{passive:!1}).on("mousedown.zoom",d).on("dblclick.zoom",p).filter(i).on("touchstart.zoom",b).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(g,R,m,v){var E=g.selection?g.selection():g;E.property("__zoom",mr),g!==E?j(g,R,m,v):E.interrupt().each(function(){lt(this,arguments).event(v).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},S.scaleBy=function(g,R,m,v){S.scaleTo(g,function(){var E=this.__zoom.k,k=typeof R=="function"?R.apply(this,arguments):R;return E*k},m,v)},S.scaleTo=function(g,R,m,v){S.transform(g,function(){var E=e.apply(this,arguments),k=this.__zoom,L=m==null?$(E):typeof m=="function"?m.apply(this,arguments):m,N=k.invert(L),q=typeof R=="function"?R.apply(this,arguments):R;return n(X(D(k,q),L,N),E,s)},m,v)},S.translateBy=function(g,R,m,v){S.transform(g,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof m=="function"?m.apply(this,arguments):m),e.apply(this,arguments),s)},null,v)},S.translateTo=function(g,R,m,v,E){S.transform(g,function(){var k=e.apply(this,arguments),L=this.__zoom,N=v==null?$(k):typeof v=="function"?v.apply(this,arguments):v;return n(We.translate(N[0],N[1]).scale(L.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof m=="function"?-m.apply(this,arguments):-m),k,s)},v,E)};function D(g,R){return R=Math.max(o[0],Math.min(o[1],R)),R===g.k?g:new Xt(R,g.x,g.y)}function X(g,R,m){var v=R[0]-m[0]*g.k,E=R[1]-m[1]*g.k;return v===g.x&&E===g.y?g:new Xt(g.k,v,E)}function $(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function j(g,R,m,v){g.on("start.zoom",function(){lt(this,arguments).event(v).start()}).on("interrupt.zoom end.zoom",function(){lt(this,arguments).event(v).end()}).tween("zoom",function(){var E=this,k=arguments,L=lt(E,k).event(v),N=e.apply(E,k),q=m==null?$(N):typeof m=="function"?m.apply(E,k):m,F=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),Q=E.__zoom,tt=typeof R=="function"?R.apply(E,k):R,ft=u(Q.invert(q).concat(F/Q.k),tt.invert(q).concat(F/tt.k));return function(pt){if(pt===1)pt=tt;else{var U=ft(pt),J=F/U[2];pt=new Xt(J,q[0]-U[0]*J,q[1]-U[1]*J)}L.zoom(null,pt)}})}function lt(g,R,m){return!m&&g.__zooming||new B(g,R)}function B(g,R){this.that=g,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,R),this.taps=0}B.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,R){return this.mouse&&g!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var R=Kt(this.that).datum();a.call(g,this.that,new Fl(g,{sourceEvent:this.sourceEvent,target:S,type:g,transform:this.that.__zoom,dispatch:a}),R)}};function h(g,...R){if(!t.apply(this,arguments))return;var m=lt(this,R).event(g),v=this.__zoom,E=Math.max(o[0],Math.min(o[1],v.k*Math.pow(2,r.apply(this,arguments)))),k=Qt(g);if(m.wheel)(m.mouse[0][0]!==k[0]||m.mouse[0][1]!==k[1])&&(m.mouse[1]=v.invert(m.mouse[0]=k)),clearTimeout(m.wheel);else{if(v.k===E)return;m.mouse=[k,v.invert(k)],Ie(this),m.start()}fe(g),m.wheel=setTimeout(L,M),m.zoom("mouse",n(X(D(v,E),m.mouse[0],m.mouse[1]),m.extent,s));function L(){m.wheel=null,m.end()}}function d(g,...R){if(_||!t.apply(this,arguments))return;var m=g.currentTarget,v=lt(this,R,!0).event(g),E=Kt(g.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",F,!0),k=Qt(g,m),L=g.clientX,N=g.clientY;Ma(g.view),an(g),v.mouse=[k,this.__zoom.invert(k)],Ie(this),v.start();function q(Q){if(fe(Q),!v.moved){var tt=Q.clientX-L,ft=Q.clientY-N;v.moved=tt*tt+ft*ft>I}v.event(Q).zoom("mouse",n(X(v.that.__zoom,v.mouse[0]=Qt(Q,m),v.mouse[1]),v.extent,s))}function F(Q){E.on("mousemove.zoom mouseup.zoom",null),Ea(Q.view,v.moved),fe(Q),v.event(Q).end()}}function p(g,...R){if(!!t.apply(this,arguments)){var m=this.__zoom,v=Qt(g.changedTouches?g.changedTouches[0]:g,this),E=m.invert(v),k=m.k*(g.shiftKey?.5:2),L=n(X(D(m,k),v,E),e.apply(this,R),s);fe(g),l>0?Kt(this).transition().duration(l).call(j,L,v,g):Kt(this).call(S.transform,L,v,g)}}function b(g,...R){if(!!t.apply(this,arguments)){var m=g.touches,v=m.length,E=lt(this,R,g.changedTouches.length===v).event(g),k,L,N,q;for(an(g),L=0;L<v;++L)N=m[L],q=Qt(N,this),q=[q,this.__zoom.invert(q),N.identifier],E.touch0?!E.touch1&&E.touch0[2]!==q[2]&&(E.touch1=q,E.taps=0):(E.touch0=q,k=!0,E.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(E.taps<2&&(c=q[0],f=setTimeout(function(){f=null},w)),Ie(this),E.start())}}function C(g,...R){if(!!this.__zooming){var m=lt(this,R).event(g),v=g.changedTouches,E=v.length,k,L,N,q;for(fe(g),k=0;k<E;++k)L=v[k],N=Qt(L,this),m.touch0&&m.touch0[2]===L.identifier?m.touch0[0]=N:m.touch1&&m.touch1[2]===L.identifier&&(m.touch1[0]=N);if(L=m.that.__zoom,m.touch1){var F=m.touch0[0],Q=m.touch0[1],tt=m.touch1[0],ft=m.touch1[1],pt=(pt=tt[0]-F[0])*pt+(pt=tt[1]-F[1])*pt,U=(U=ft[0]-Q[0])*U+(U=ft[1]-Q[1])*U;L=D(L,Math.sqrt(pt/U)),N=[(F[0]+tt[0])/2,(F[1]+tt[1])/2],q=[(Q[0]+ft[0])/2,(Q[1]+ft[1])/2]}else if(m.touch0)N=m.touch0[0],q=m.touch0[1];else return;m.zoom("touch",n(X(L,N,q),m.extent,s))}}function P(g,...R){if(!!this.__zooming){var m=lt(this,R).event(g),v=g.changedTouches,E=v.length,k,L;for(an(g),_&&clearTimeout(_),_=setTimeout(function(){_=null},w),k=0;k<E;++k)L=v[k],m.touch0&&m.touch0[2]===L.identifier?delete m.touch0:m.touch1&&m.touch1[2]===L.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(L=Qt(L,this),Math.hypot(c[0]-L[0],c[1]-L[1])<A)){var N=Kt(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return S.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:Ce(+g),S):r},S.filter=function(g){return arguments.length?(t=typeof g=="function"?g:Ce(!!g),S):t},S.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:Ce(!!g),S):i},S.extent=function(g){return arguments.length?(e=typeof g=="function"?g:Ce([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),S):e},S.scaleExtent=function(g){return arguments.length?(o[0]=+g[0],o[1]=+g[1],S):[o[0],o[1]]},S.translateExtent=function(g){return arguments.length?(s[0][0]=+g[0][0],s[1][0]=+g[1][0],s[0][1]=+g[0][1],s[1][1]=+g[1][1],S):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},S.constrain=function(g){return arguments.length?(n=g,S):n},S.duration=function(g){return arguments.length?(l=+g,S):l},S.interpolate=function(g){return arguments.length?(u=g,S):u},S.on=function(){var g=a.on.apply(a,arguments);return g===a?S:g},S.clickDistance=function(g){return arguments.length?(I=(g=+g)*g,S):Math.sqrt(I)},S.tapDistance=function(g){return arguments.length?(A=+g,S):A},S}function _r(t){let e,n;return e=new Bo({props:{hoveredData:t[8],data:t[0],domainColumn:t[1],colorScale:t[11],posX:t[9],posY:t[10],labelOverride:t[2],descriptionOverride:t[3]}}),{c(){Mn(e.$$.fragment)},m(r,i){Ge(e,r,i),n=!0},p(r,i){const o={};i[0]&256&&(o.hoveredData=r[8]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&2048&&(o.colorScale=r[11]),i[0]&512&&(o.posX=r[9]),i[0]&1024&&(o.posY=r[10]),i[0]&4&&(o.labelOverride=r[2]),i[0]&8&&(o.descriptionOverride=r[3]),e.$set(o)},i(r){n||(Ht(e.$$.fragment,r),n=!0)},o(r){jt(e.$$.fragment,r),n=!1},d(r){Ze(e,r)}}}function Ul(t){let e,n,r,i,o,s,l,u,a,f,c,_,w,M=t[8]&&_r(t);return{c(){e=H("div"),n=H("div"),r=H("button"),r.textContent="+",i=at(),o=H("button"),o.textContent="\u2212",s=at(),l=H("button"),l.textContent="\u27F2",u=at(),a=H("canvas"),f=at(),M&&M.c(),T(r,"class","zoom-btn svelte-1q7voxg"),T(r,"aria-label","Zoom in"),T(r,"title","Zoom in"),T(o,"class","zoom-btn svelte-1q7voxg"),T(o,"aria-label","Zoom out"),T(o,"title","Zoom out"),T(l,"class","zoom-btn svelte-1q7voxg"),T(l,"aria-label","Reset zoom"),T(l,"title","Reset zoom"),T(n,"class","zoom-controls svelte-1q7voxg"),T(n,"aria-label","Zoom controls"),T(a,"width",t[4]),T(a,"height",t[5]),T(a,"class","svelte-1q7voxg"),T(e,"class","chart-container svelte-1q7voxg")},m(I,A){ot(I,e,A),O(e,n),O(n,r),O(n,i),O(n,o),O(n,s),O(n,l),O(e,u),O(e,a),t[32](a),O(e,f),M&&M.m(e,null),t[33](e),c=!0,_||(w=[_t(r,"click",t[15]),_t(o,"click",t[16]),_t(l,"click",t[17]),_t(a,"mousemove",t[12]),_t(a,"mouseleave",t[14]),_t(a,"click",t[13])],_=!0)},p(I,A){(!c||A[0]&16)&&T(a,"width",I[4]),(!c||A[0]&32)&&T(a,"height",I[5]),I[8]?M?(M.p(I,A),A[0]&256&&Ht(M,1)):(M=_r(I),M.c(),Ht(M,1),M.m(e,null)):M&&(Or(),jt(M,1,1,()=>{M=null}),zr())},i(I){c||(Ht(M),c=!0)},o(I){jt(M),c=!1},d(I){I&&nt(e),t[32](null),M&&M.d(),t[33](null),_=!1,Ut(w)}}}const Ae=6,Wl=.5,Kl=20,yr=280,wr=160;function ee(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Ql(t,e,n){let r,i,o,s,l,u,a,f,c,{data:_=[]}=e,{domainColumn:w=""}=e,{opacity:M=1}=e,{selectedValues:I=new Set}=e,{searchQuery:A=""}=e,{showAnnotations:S=!0}=e,{highlightedData:D=[]}=e,{startDate:X=null}=e,{endDate:$=null}=e,{labelOverride:j=null}=e,{descriptionOverride:lt=null}=e,B=[],h,d,p,b=800,C=600;const P={top:20,right:20,bottom:20,left:20};let g=null,R=null,m=We,v,E,k=0,L=0,N,q=1;function F(){if(!h||!d)return;const y=d.getBoundingClientRect();y.width>0&&y.height>0&&(n(4,b=Math.floor(y.width)),n(5,C=Math.floor(y.height))),q=Math.max(window.devicePixelRatio||1,1),n(6,h.style.width="100%",h),n(6,h.style.height="100%",h),n(6,h.width=Math.max(1,Math.floor(b*q)),h),n(6,h.height=Math.max(1,Math.floor(C*q)),h),n(25,p=h.getContext("2d")),p.setTransform(q,0,0,q,0,0)}function Q(){if(!(!p||!_.length)){if(p.clearRect(0,0,b,C),p.save(),p.translate(m.x,m.y),p.scale(m.k,m.k),_.forEach(y=>{var K,it;const ut=!!(A&&String(A).trim().length)?ee((K=y.title)!=null?K:"",A)||ee((it=y.text)!=null?it:"",A):!0,x=I&&I.size>0&&I.size<r?I.has(y[w]):!0,V=X&&$?y.date>=X&&y.date<=$:!0,Y=ut&&x&&V;p.beginPath(),p.arc(P.left+u(y.x),P.top+c(y.y),Math.max(.5,Ae/m.k),0,Math.PI*2),n(25,p.fillStyle=N(y[w]),p);const Z=Math.max(0,Math.min(1,M)),rt=Math.max(0,Math.min(1,.05));n(25,p.globalAlpha=Y?Z:rt,p),p.fill(),n(25,p.globalAlpha=1,p)}),S&&B.forEach(y=>{n(25,p.globalAlpha=1,p),p.beginPath(),p.arc(y.x,y.y,y.radius,0,Math.PI*2),n(25,p.strokeStyle="red",p),n(25,p.lineWidth=2,p),p.setLineDash([5,5]),p.stroke();const z=180,ut=12;n(25,p.font="16px Arial",p);const G=y.x+y.label_x,x=y.y+y.label_y;let V=0,Y=0,Z=[];if(y.label){const bt=y.label.split(" ");let xt="";bt.forEach((kt,Tt)=>{const Vt=xt+kt+" ";p.measureText(Vt).width>z&&Tt>0?(Z.push(xt),V=Math.max(V,p.measureText(xt).width),xt=kt+" "):xt=Vt}),Z.push(xt),V=Math.max(V,p.measureText(xt).width),Y=ut*Z.length}const rt=G,K=x-ut,it=V,gt=Y;let dt,et;y.x<rt?dt=rt:y.x>rt+it?dt=rt+it:dt=y.x,y.y<K?et=K:y.y>K+gt?et=K+gt:et=y.y;const yt=Math.atan2(et-y.y,dt-y.x),Ft=y.x+y.radius*Math.cos(yt),Dt=y.y+y.radius*Math.sin(yt);if(p.setLineDash([]),p.beginPath(),p.moveTo(Ft,Dt),p.lineTo(dt,et),n(25,p.strokeStyle="red",p),n(25,p.lineWidth=1,p),p.stroke(),y.label){n(25,p.font="16px Arial",p),n(25,p.fillStyle="red",p);const bt=16;Z.forEach((xt,kt)=>{p.fillText(xt,G,x+kt*bt)})}}),p.setLineDash([]),g){const y=P.left+u(g.x),z=P.top+c(g.y);p.beginPath(),p.arc(y,z,Math.max(.5,Ae/m.k),0,Math.PI*2),n(25,p.fillStyle=N(g[w]),p),n(25,p.globalAlpha=1,p),p.fill(),n(25,p.strokeStyle="black",p),n(25,p.lineWidth=Math.max(1,2/m.k),p),p.stroke();const[ut,G]=[m.applyX(y),m.applyY(z)];let x=ut+12;x+yr>b-P.right&&(x=ut-12-yr);let V=G-wr*.5;const Y=P.top+8,Z=C-P.bottom-(wr+8);V=Math.max(Y,Math.min(V,Z)),n(9,k=x),n(10,L=V)}p.restore()}}function tt(y){const z=h.getBoundingClientRect(),ut=b/z.width,G=C/z.height,x=(y.clientX-z.left)*ut,V=(y.clientY-z.top)*G,[Y,Z]=m.invert([x,V]),rt=_.find(K=>{var Vt,Et;const it=P.left+u(K.x),gt=P.top+c(K.y),dt=it-Y,et=gt-Z,yt=Math.sqrt(dt*dt+et*et)<(Ae+3)/m.k,Dt=!!(A&&String(A).trim().length)?ee((Vt=K.title)!=null?Vt:"",A)||ee((Et=K.text)!=null?Et:"",A):!0,xt=I&&I.size>0&&I.size<r?I.has(K[w]):!0,kt=X&&$?K.date>=X&&K.date<=$:!0;return yt&&(Dt&&xt&&kt)});rt?(n(8,g=rt),R=rt,n(6,h.style.cursor="pointer",h)):(n(8,g=null),R=null,n(6,h.style.cursor="crosshair",h)),Q()}function ft(y){const z=h.getBoundingClientRect(),ut=b/z.width,G=C/z.height,x=(y.clientX-z.left)*ut,V=(y.clientY-z.top)*G,[Y,Z]=m.invert([x,V]),rt=_.find(it=>{var Et,le;const gt=P.left+u(it.x),dt=P.top+c(it.y),et=gt-Y,yt=dt-Z,Ft=Math.sqrt(et*et+yt*yt)<(Ae+3)/m.k,bt=!!(A&&String(A).trim().length)?ee((Et=it.title)!=null?Et:"",A)||ee((le=it.text)!=null?le:"",A):!0,kt=I&&I.size>0&&I.size<r?I.has(it[w]):!0,Tt=X&&$?it.date>=X&&it.date<=$:!0;return Ft&&(bt&&kt&&Tt)});if(!rt)return;const K=rt.url||rt.link||rt.href||rt.permalink;K&&typeof window<"u"&&window.open(K,"_blank","noopener,noreferrer")}function pt(){n(8,g=R),Q()}let U;Sn(()=>(n(25,p=h.getContext("2d")),F(),window.ResizeObserver&&(U=new ResizeObserver(()=>{F(),Q()}),U.observe(d)),v=Yl().scaleExtent([Wl,Kl]).filter(y=>{const z=y;return z.type==="wheel"||z.type==="touchstart"||z.type==="touchmove"?!0:z.type==="mousedown"?z.button===0&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey:!z.ctrlKey&&!z.metaKey&&!z.shiftKey}).on("zoom",y=>{m=y.transform,Q()}),E=Kt(h),E.call(v),Q(),()=>{U&&U.disconnect()}));function J(y,z){var x;if((x=z==null?void 0:z.stopPropagation)==null||x.call(z),!E||!v)return;const ut=b/2,G=C/2;E.transition().duration(200).call(v.scaleBy,y,[ut,G])}function mt(y){J(1.25,y)}function W(y){J(1/1.25,y)}function ct(y){var z;(z=y==null?void 0:y.stopPropagation)==null||z.call(y),!(!E||!v)&&E.transition().duration(200).call(v.transform,We)}function wt(y){Bt[y?"unshift":"push"](()=>{h=y,n(6,h)})}function ht(y){Bt[y?"unshift":"push"](()=>{d=y,n(7,d)})}return t.$$set=y=>{"data"in y&&n(0,_=y.data),"domainColumn"in y&&n(1,w=y.domainColumn),"opacity"in y&&n(18,M=y.opacity),"selectedValues"in y&&n(19,I=y.selectedValues),"searchQuery"in y&&n(20,A=y.searchQuery),"showAnnotations"in y&&n(21,S=y.showAnnotations),"highlightedData"in y&&n(22,D=y.highlightedData),"startDate"in y&&n(23,X=y.startDate),"endDate"in y&&n(24,$=y.endDate),"labelOverride"in y&&n(2,j=y.labelOverride),"descriptionOverride"in y&&n(3,lt=y.descriptionOverride)},t.$$.update=()=>{t.$$.dirty[0]&4194304&&new Set(D.map(y=>y.id)),t.$$.dirty[0]&3&&(r=new Set(_.map(y=>y[w])).size),t.$$.dirty[0]&16&&n(29,i=b-P.left-P.right),t.$$.dirty[0]&32&&n(26,o=C-P.top-P.bottom),t.$$.dirty[0]&1&&n(31,s=[Yn(_,y=>y.x),Hn(_,y=>y.x)]),t.$$.dirty[1]&1&&n(30,l=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&1610612736&&(u=_n().domain(l).range([0,i])),t.$$.dirty[0]&1&&n(28,a=[Yn(_,y=>y.y),Hn(_,y=>y.y)]),t.$$.dirty[0]&268435456&&n(27,f=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&201326592&&(c=_n().domain(f).range([o,0])),t.$$.dirty[0]&3&&n(11,N=Vr(Po).domain(w?[...new Set(_.map(y=>y[w]).filter(y=>y!=null&&y!==""))]:[])),t.$$.dirty[0]&1&&_.length&&new Date(Math.min(..._.map(y=>y.date.getTime()))),t.$$.dirty[0]&1&&_.length&&new Date(Math.max(..._.map(y=>y.date.getTime()))),t.$$.dirty[0]&62652419&&p&&_.length&&Q()},[_,w,j,lt,b,C,h,d,g,k,L,N,tt,ft,pt,mt,W,ct,M,I,A,S,D,X,$,p,o,f,a,i,l,s,wt,ht]}class Gl extends Je{constructor(e){super(),je(this,e,Ql,Ul,Qe,{data:0,domainColumn:1,opacity:18,selectedValues:19,searchQuery:20,showAnnotations:21,highlightedData:22,startDate:23,endDate:24,labelOverride:2,descriptionOverride:3},null,[-1,-1])}}function Zl(t){let e,n,r,i,o,s,l,u,a;return{c(){e=H("div"),n=H("div"),r=H("div"),i=at(),o=H("div"),s=at(),l=H("div"),T(r,"class","track-inner svelte-vytkle"),T(n,"class","track svelte-vytkle"),T(o,"class","thumb start-thumb svelte-vytkle"),Mt(o,"left",t[4]+"%"),T(l,"class","thumb end-thumb svelte-vytkle"),Mt(l,"left",t[3]+"%"),T(e,"class","range-slider svelte-vytkle"),Mt(e,"--start-percent",t[4]+"%"),Mt(e,"--end-percent",t[3]+"%")},m(f,c){ot(f,e,c),O(e,n),O(n,r),O(e,i),O(e,o),t[13](o),O(e,s),O(e,l),t[16](l),t[19](e),u||(a=[_t(r,"mousedown",t[11]),_t(r,"touchstart",t[12]),_t(o,"mousedown",t[14]),_t(o,"touchstart",t[15]),_t(l,"mousedown",t[17]),_t(l,"touchstart",t[18])],u=!0)},p(f,[c]){c&16&&Mt(o,"left",f[4]+"%"),c&8&&Mt(l,"left",f[3]+"%"),c&16&&Mt(e,"--start-percent",f[4]+"%"),c&8&&Mt(e,"--end-percent",f[3]+"%")},i:At,o:At,d(f){f&&nt(e),t[13](null),t[16](null),t[19](null),u=!1,Ut(a)}}}function jl(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:l}=e,{endValue:u}=e;const a=wi();let f,c,_,w=!1,M=null,I=null,A=0;function S(m,v){w=!0,M=v,I=f.getBoundingClientRect(),v==="range"&&(A=u-l),window.addEventListener("mousemove",D),window.addEventListener("mouseup",X)}function D(m){if(!w)return;const v=Math.min(Math.max(0,(m.clientX-I.left)/I.width),1),E=Math.round(v*(s-o)+o);if(M==="start")n(7,l=Math.min(E,u)),a("startChange",l);else if(M==="end")n(8,u=Math.max(E,l)),a("endChange",u);else if(M==="range"){let k=E-Math.floor(A/2),L=E+Math.ceil(A/2);k<o&&(k=o,L=o+A),L>s&&(L=s,k=s-A),k=Math.max(o,k),L=Math.min(s,L),n(7,l=k),n(8,u=L),a("startChange",l),a("endChange",u)}}function X(){w=!1,window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",X)}function $(m,v){m.preventDefault(),w=!0,M=v,I=f.getBoundingClientRect(),v==="range"&&(A=u-l),window.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("touchend",lt)}function j(m){if(m.preventDefault(),!w)return;const v=m.touches[0],E=Math.min(Math.max(0,(v.clientX-I.left)/I.width),1),k=Math.round(E*(s-o)+o);if(M==="start")n(7,l=Math.min(k,u)),a("startChange",l);else if(M==="end")n(8,u=Math.max(k,l)),a("endChange",u);else if(M==="range"){let L=k-Math.floor(A/2),N=k+Math.ceil(A/2);L<o&&(L=o,N=o+A),N>s&&(N=s,L=s-A),L=Math.max(o,L),N=Math.min(s,N),n(7,l=L),n(8,u=N),a("startChange",l),a("endChange",u)}}function lt(){w=!1,window.removeEventListener("touchmove",j),window.removeEventListener("touchend",lt)}const B=m=>S(m,"range"),h=m=>$(m,"range");function d(m){Bt[m?"unshift":"push"](()=>{c=m,n(1,c)})}const p=m=>S(m,"start"),b=m=>$(m,"start");function C(m){Bt[m?"unshift":"push"](()=>{_=m,n(2,_)})}const P=m=>S(m,"end"),g=m=>$(m,"end");function R(m){Bt[m?"unshift":"push"](()=>{f=m,n(0,f)})}return t.$$set=m=>{"min"in m&&n(9,o=m.min),"max"in m&&n(10,s=m.max),"startValue"in m&&n(7,l=m.startValue),"endValue"in m&&n(8,u=m.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(l-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[f,c,_,i,r,S,$,l,u,o,s,B,h,d,p,b,C,P,g,R]}class Jl extends Je{constructor(e){super(),je(this,e,jl,Zl,Qe,{min:9,max:10,startValue:7,endValue:8})}}const Ke={0:["Federal Government"],1:["Accidents"],2:["Local Events"],3:["Sports"],4:["Weather","Weather and disasters"],5:["Crime","Crime and police activity"],6:["Local Coverage","Community groups, features, business updates and other local coverage"],7:["Other Coverage","Coverage outside of other areas: reviews, religion, science, animals and others"],8:["Fatalities","Crime coverage specific to incidents involving deaths"],9:["Local Government","City and state government and policy"]};function $l(t){const e=Number(t);return Number.isInteger(e)&&Ke[e]?Ke[e][0]:String(t!=null?t:"")}function tu(t){const e=Number(t);return Number.isInteger(e)&&Ke[e]?Ke[e][1]:""}function vr(t,e,n=!0){return n&&t==="cluster"?$l(e):String(e!=null?e:"")}function eu(t,e,n=!0){return n&&t==="cluster"?tu(e):""}function br(t,e,n){const r=t.slice();return r[55]=e[n],r}function xr(t,e,n){const r=t.slice();return r[58]=e[n],r}function kr(t){let e,n,r,i,o,s,l=t[9],u=[];for(let a=0;a<l.length;a+=1)u[a]=Sr(xr(t,l,a));return{c(){e=H("label"),e.textContent="\u{1F3A8} Color by Column:",n=at(),r=H("select"),i=H("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();T(e,"for","domain-column"),T(e,"class","svelte-15wo1ep"),i.__value="",i.value=i.__value,i.disabled=!0,T(r,"id","domain-column"),T(r,"class","svelte-15wo1ep"),t[0]===void 0&&Le(()=>t[33].call(r))},m(a,f){ot(a,e,f),ot(a,n,f),ot(a,r,f),O(r,i);for(let c=0;c<u.length;c+=1)u[c].m(r,null);Fn(r,t[0]),o||(s=[_t(r,"change",t[22]),_t(r,"change",t[33])],o=!0)},p(a,f){if(f[0]&512){l=a[9];let c;for(c=0;c<l.length;c+=1){const _=xr(a,l,c);u[c]?u[c].p(_,f):(u[c]=Sr(_),u[c].c(),u[c].m(r,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=l.length}f[0]&513&&Fn(r,a[0])},d(a){a&&nt(e),a&&nt(n),a&&nt(r),Dr(u,a),o=!1,Ut(s)}}}function Sr(t){let e,n=t[58]+"",r,i;return{c(){e=H("option"),r=vt(n),e.__value=i=t[58],e.value=e.__value},m(o,s){ot(o,e,s),O(e,r)},p(o,s){s[0]&512&&n!==(n=o[58]+"")&&Rt(r,n),s[0]&512&&i!==(i=o[58])&&(e.__value=i,e.value=e.__value)},d(o){o&&nt(e)}}}function Mr(t){let e,n,r,i,o,s=t[21],l=[];for(let u=0;u<s.length;u+=1)l[u]=Er(br(t,s,u));return{c(){e=H("label"),e.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",n=at(),r=H("select");for(let u=0;u<l.length;u+=1)l[u].c();T(e,"for","value-select"),T(e,"class","svelte-15wo1ep"),T(r,"id","value-select"),r.multiple=!0,T(r,"size","5"),T(r,"class","multi-select svelte-15wo1ep")},m(u,a){ot(u,e,a),ot(u,n,a),ot(u,r,a);for(let f=0;f<l.length;f+=1)l[f].m(r,null);i||(o=_t(r,"change",t[23]),i=!0)},p(u,a){if(a[0]&2097156){s=u[21];let f;for(f=0;f<s.length;f+=1){const c=br(u,s,f);l[f]?l[f].p(c,a):(l[f]=Er(c),l[f].c(),l[f].m(r,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},d(u){u&&nt(e),u&&nt(n),u&&nt(r),Dr(l,u),i=!1,o()}}}function Er(t){let e,n=t[55].label+"",r,i,o;return{c(){e=H("option"),r=vt(n),e.__value=i=t[55].value,e.value=e.__value,e.selected=o=t[2].has(t[55].value)},m(s,l){ot(s,e,l),O(e,r)},p(s,l){l[0]&2097152&&n!==(n=s[55].label+"")&&Rt(r,n),l[0]&2097152&&i!==(i=s[55].value)&&(e.__value=i,e.value=e.__value),l[0]&2097156&&o!==(o=s[2].has(s[55].value))&&(e.selected=o)},d(s){s&&nt(e)}}}function nu(t){let e;return{c(){e=vt("\u25B6")},m(n,r){ot(n,e,r)},d(n){n&&nt(e)}}}function ru(t){let e;return{c(){e=vt("\u275A\u275A")},m(n,r){ot(n,e,r)},d(n){n&&nt(e)}}}function iu(t){let e;return{c(){e=H("p"),e.textContent="Waiting for data"},m(n,r){ot(n,e,r)},p:At,i:At,o:At,d(n){n&&nt(e)}}}function ou(t){let e,n,r;function i(f,c){return f[17]==="downloading"?uu:f[17]==="parsing"?lu:au}let o=i(t),s=o(t);function l(f,c){return f[17]==="downloading"?cu:fu}let u=l(t),a=u(t);return{c(){e=H("div"),n=H("div"),s.c(),r=at(),a.c(),T(n,"class","progress-header svelte-15wo1ep"),T(e,"class","progress-wrap svelte-15wo1ep")},m(f,c){ot(f,e,c),O(e,n),s.m(n,null),O(e,r),a.m(e,null)},p(f,c){o!==(o=i(f))&&(s.d(1),s=o(f),s&&(s.c(),s.m(n,null))),u===(u=l(f))&&a?a.p(f,c):(a.d(1),a=u(f),a&&(a.c(),a.m(e,null)))},i:At,o:At,d(f){f&&nt(e),s.d(),a.d()}}}function su(t){let e,n;return e=new Gl({props:{data:t[12],domainColumn:t[0],selectedValues:t[2],opacity:t[11],searchQuery:t[14],showAnnotations:t[15],highlightedData:t[8],startDate:t[3],endDate:t[4],labelOverride:t[45],descriptionOverride:t[46]}}),{c(){Mn(e.$$.fragment)},m(r,i){Ge(e,r,i),n=!0},p(r,i){const o={};i[0]&4096&&(o.data=r[12]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&2048&&(o.opacity=r[11]),i[0]&16384&&(o.searchQuery=r[14]),i[0]&32768&&(o.showAnnotations=r[15]),i[0]&256&&(o.highlightedData=r[8]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),i[0]&1024&&(o.labelOverride=r[45]),i[0]&1024&&(o.descriptionOverride=r[46]),e.$set(o)},i(r){n||(Ht(e.$$.fragment,r),n=!0)},o(r){jt(e.$$.fragment,r),n=!1},d(r){Ze(e,r)}}}function au(t){let e;return{c(){e=vt("Loading...")},m(n,r){ot(n,e,r)},d(n){n&&nt(e)}}}function lu(t){let e;return{c(){e=vt("Parsing CSV...")},m(n,r){ot(n,e,r)},d(n){n&&nt(e)}}}function uu(t){let e;return{c(){e=vt("Downloading CSV...")},m(n,r){ot(n,e,r)},d(n){n&&nt(e)}}}function fu(t){let e;return{c(){e=H("div"),T(e,"class","progress-bar indeterminate svelte-15wo1ep")},m(n,r){ot(n,e,r)},p:At,d(n){n&&nt(e)}}}function cu(t){let e;function n(o,s){return o[19]?du:hu}let r=n(t),i=r(t);return{c(){i.c(),e=Tr()},m(o,s){i.m(o,s),ot(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&nt(e)}}}function hu(t){let e,n,r,i=re(t[18])+"",o;return{c(){e=H("div"),n=at(),r=H("div"),o=vt(i),T(e,"class","progress-bar indeterminate svelte-15wo1ep"),T(r,"class","progress-label svelte-15wo1ep")},m(s,l){ot(s,e,l),ot(s,n,l),ot(s,r,l),O(r,o)},p(s,l){l[0]&262144&&i!==(i=re(s[18])+"")&&Rt(o,i)},d(s){s&&nt(e),s&&nt(n),s&&nt(r)}}}function du(t){let e,n,r,i,o,s,l=re(t[18])+"",u,a,f=re(t[19])+"",c,_;return{c(){e=H("div"),n=H("div"),r=at(),i=H("div"),o=vt(t[20]),s=vt("% ("),u=vt(l),a=vt(" / "),c=vt(f),_=vt(")"),T(n,"class","progress-fill svelte-15wo1ep"),Mt(n,"width",t[20]+"%"),T(e,"class","progress-bar svelte-15wo1ep"),T(i,"class","progress-label svelte-15wo1ep")},m(w,M){ot(w,e,M),O(e,n),ot(w,r,M),ot(w,i,M),O(i,o),O(i,s),O(i,u),O(i,a),O(i,c),O(i,_)},p(w,M){M[0]&1048576&&Mt(n,"width",w[20]+"%"),M[0]&1048576&&Rt(o,w[20]),M[0]&262144&&l!==(l=re(w[18])+"")&&Rt(u,l),M[0]&524288&&f!==(f=re(w[19])+"")&&Rt(c,f)},d(w){w&&nt(e),w&&nt(r),w&&nt(i)}}}function pu(t){let e,n,r,i,o,s,l,u,a,f,c,_,w,M,I,A,S,D,X,$,j,lt,B,h,d,p,b,C,P,g,R,m,v,E,k,L,N,q,F,Q=Wt(t[3])+"",tt,ft,pt,U=Wt(t[4])+"",J,mt,W,ct,wt,ht,y,z,ut,G,x,V,Y,Z,rt,K,it,gt,dt,et=t[9].length&&kr(t),yt=t[1].length&&Mr(t);function Ft(st){t[37](st)}function Dt(st){t[38](st)}let bt={min:0,max:t[5].length-1};t[6]!==void 0&&(bt.startValue=t[6]),t[7]!==void 0&&(bt.endValue=t[7]),E=new Jl({props:bt}),Bt.push(()=>qn(E,"startValue",Ft)),Bt.push(()=>qn(E,"endValue",Dt)),E.$on("startChange",t[39]),E.$on("endChange",t[40]);function xt(st,St){return st[13]?ru:nu}let kt=xt(t),Tt=kt(t);const Vt=[su,ou,iu],Et=[];function le(st,St){return st[12].length?0:st[16]?1:2}return rt=le(t),K=Et[rt]=Vt[rt](t),{c(){e=H("div"),n=H("div"),n.innerHTML=`<h1 class="title svelte-15wo1ep">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the articles are similar in meaning.</p>`,r=at(),i=H("div"),o=H("div"),s=H("div"),l=H("button"),l.textContent="Reset filters",u=at(),a=H("div"),a.innerHTML=`<details close=""><summary class="svelte-15wo1ep">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-15wo1ep"><p class="svelte-15wo1ep">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-15wo1ep">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-15wo1ep"><li class="svelte-15wo1ep">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-15wo1ep">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-15wo1ep">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=at(),c=H("label"),c.textContent="\u{1F4C1} Upload CSV:",_=at(),w=H("input"),M=at(),I=H("label"),I.textContent="\u{1F50D} Search Text (supports regex):",A=at(),S=H("input"),D=at(),et&&et.c(),X=at(),yt&&yt.c(),$=at(),j=H("label"),j.textContent="\u{1F4A1} Adjust Opacity of Active Articles:",lt=at(),B=H("input"),h=at(),d=H("div"),p=H("label"),p.textContent="\u{1F4C5} Date Range:",b=at(),C=H("input"),g=at(),R=H("input"),v=at(),Mn(E.$$.fragment),N=at(),q=H("div"),F=H("span"),tt=vt(Q),ft=at(),pt=H("span"),J=vt(U),mt=at(),W=H("div"),ct=H("button"),ct.textContent="-1W",wt=at(),ht=H("button"),ht.textContent="-1D",y=at(),z=H("button"),Tt.c(),ut=at(),G=H("button"),G.textContent="+1D",x=at(),V=H("button"),V.textContent="+1W",Y=at(),Z=H("div"),K.c(),T(n,"class","title-section svelte-15wo1ep"),T(l,"class","reset-btn svelte-15wo1ep"),T(s,"class","filter-actions svelte-15wo1ep"),T(a,"class","nerd-box svelte-15wo1ep"),T(c,"for","file-upload"),T(c,"class","svelte-15wo1ep"),T(w,"id","file-upload"),T(w,"type","file"),T(w,"accept",".csv"),T(w,"class","svelte-15wo1ep"),T(I,"for","search-input"),T(I,"class","svelte-15wo1ep"),T(S,"id","search-input"),T(S,"type","text"),T(S,"placeholder","Search or regex pattern..."),T(S,"class","svelte-15wo1ep"),T(j,"for","opacity-slider"),T(j,"class","svelte-15wo1ep"),T(B,"id","opacity-slider"),T(B,"type","range"),T(B,"min","0.01"),T(B,"max","1"),T(B,"step","0.1"),T(B,"class","svelte-15wo1ep"),T(p,"for","start-date"),T(p,"class","svelte-15wo1ep"),T(C,"id","start-date"),T(C,"type","date"),C.value=P=Wt(t[3]),T(C,"class","svelte-15wo1ep"),T(R,"id","end-date"),T(R,"type","date"),R.value=m=Wt(t[4]),T(R,"class","svelte-15wo1ep"),T(q,"class","date-range-labels svelte-15wo1ep"),T(ct,"class","svelte-15wo1ep"),T(ht,"class","svelte-15wo1ep"),T(z,"class","play-button svelte-15wo1ep"),T(G,"class","svelte-15wo1ep"),T(V,"class","svelte-15wo1ep"),T(W,"class","date-navigation svelte-15wo1ep"),T(d,"class","date-controls svelte-15wo1ep"),T(o,"class","filter-panel svelte-15wo1ep"),T(Z,"class","scatterplot-container svelte-15wo1ep"),T(i,"class","content svelte-15wo1ep"),T(e,"class","container svelte-15wo1ep")},m(st,St){ot(st,e,St),O(e,n),O(e,r),O(e,i),O(i,o),O(o,s),O(s,l),O(o,u),O(o,a),O(o,f),O(o,c),O(o,_),O(o,w),O(o,M),O(o,I),O(o,A),O(o,S),O(o,D),et&&et.m(o,null),O(o,X),yt&&yt.m(o,null),O(o,$),O(o,j),O(o,lt),O(o,B),Pn(B,t[11]),O(o,h),O(o,d),O(d,p),O(d,b),O(d,C),O(d,g),O(d,R),O(d,v),Ge(E,d,null),O(d,N),O(d,q),O(q,F),O(F,tt),O(q,ft),O(q,pt),O(pt,J),O(d,mt),O(d,W),O(W,ct),O(W,wt),O(W,ht),O(W,y),O(W,z),Tt.m(z,null),O(W,ut),O(W,G),O(W,x),O(W,V),O(i,Y),O(i,Z),Et[rt].m(Z,null),it=!0,gt||(dt=[_t(l,"click",t[30]),_t(w,"change",t[25]),_t(S,"input",t[28]),_t(B,"change",t[34]),_t(B,"input",t[34]),_t(B,"input",t[29]),_t(C,"change",t[35]),_t(R,"change",t[36]),_t(ct,"click",t[41]),_t(ht,"click",t[42]),_t(z,"click",t[27]),_t(G,"click",t[43]),_t(V,"click",t[44])],gt=!0)},p(st,St){st[9].length?et?et.p(st,St):(et=kr(st),et.c(),et.m(o,X)):et&&(et.d(1),et=null),st[1].length?yt?yt.p(st,St):(yt=Mr(st),yt.c(),yt.m(o,$)):yt&&(yt.d(1),yt=null),St[0]&2048&&Pn(B,st[11]),(!it||St[0]&8&&P!==(P=Wt(st[3])))&&(C.value=P),(!it||St[0]&16&&m!==(m=Wt(st[4])))&&(R.value=m);const be={};St[0]&32&&(be.max=st[5].length-1),!k&&St[0]&64&&(k=!0,be.startValue=st[6],Vn(()=>k=!1)),!L&&St[0]&128&&(L=!0,be.endValue=st[7],Vn(()=>L=!1)),E.$set(be),(!it||St[0]&8)&&Q!==(Q=Wt(st[3])+"")&&Rt(tt,Q),(!it||St[0]&16)&&U!==(U=Wt(st[4])+"")&&Rt(J,U),kt!==(kt=xt(st))&&(Tt.d(1),Tt=kt(st),Tt&&(Tt.c(),Tt.m(z,null)));let nn=rt;rt=le(st),rt===nn?Et[rt].p(st,St):(Or(),jt(Et[nn],1,1,()=>{Et[nn]=null}),zr(),K=Et[rt],K?K.p(st,St):(K=Et[rt]=Vt[rt](st),K.c()),Ht(K,1),K.m(Z,null))},i(st){it||(Ht(E.$$.fragment,st),Ht(K),it=!0)},o(st){jt(E.$$.fragment,st),jt(K),it=!1},d(st){st&&nt(e),et&&et.d(),yt&&yt.d(),Ze(E),Tt.d(),Et[rt].d(),gt=!1,Ut(dt)}}}function re(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Wt(t){return t?t.toISOString().split("T")[0]:""}function gu(t,e,n){let r,i,o;const s="https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv";let l=[],u=[],a="org",f=[],c=new Set,_=.3,w=null,M=null,I=[],A=[],S=0,D=0,X=!1,$=null,j=[],lt="",B=!1,h=!1,d="idle",p=0,b=0,C=0;Sn(async()=>{try{n(16,h=!0),n(17,d="downloading"),n(18,p=0),n(19,b=0),n(20,C=0);const x=await fetch(s,{mode:"cors",cache:"no-store"});if(!x.ok)throw new Error(`HTTP ${x.status}`);const V=x.headers.get("content-length");n(19,b=V?parseInt(V,10):0);let Y="";if(x.body&&x.body.getReader){const Z=x.body.getReader(),rt=[];let K=0;for(;;){const{done:dt,value:et}=await Z.read();if(dt)break;rt.push(et),K+=et.byteLength,n(18,p=K),b&&n(20,C=Math.round(K/b*100))}const it=new Uint8Array(K);let gt=0;for(const dt of rt)it.set(dt,gt),gt+=dt.byteLength;Y=new TextDecoder().decode(it)}else Y=await x.text();n(17,d="parsing"),await Promise.resolve(P(Y)),n(17,d="idle")}catch(x){console.error("Failed to load CSV:",x)}finally{n(16,h=!1)}return()=>{$&&clearInterval($)}});function P(x){const V=Mi.parse(x,{header:!0});n(31,l=V.data.filter(Y=>Y.x&&Y.y&&Y.date).map((Y,Z)=>({...Y,x:+Y.x,y:+Y.y,date:new Date(Y.date),id:Z}))),n(32,u=V.meta.fields||[]),n(5,A=[...new Set(l.map(Y=>Y.date.getTime()))].sort((Y,Z)=>Y-Z).map(Y=>new Date(Y))),n(3,w=A[0]),n(4,M=A[A.length-1]),n(6,S=0),n(7,D=A.length-1),a&&n(1,f=[...new Set(l.map(Y=>Y[a]).filter(Y=>Y!=null&&Y!==""))])}function g(x){n(0,a=x.target.value),n(1,f=a?[...new Set(l.map(V=>V[a]).filter(Boolean))]:[]),n(2,c=new Set),n(15,B=!1)}function R(x){const V=[...x.target.selectedOptions].map(Z=>Z.value);V.length===f.length||V.length===0?(n(2,c=new Set),n(8,j=[])):(n(2,c=new Set(V)),n(8,j=l.filter(Z=>c.has(Z[a])&&(!w||Z.date>=w)&&(!M||Z.date<=M)))),n(15,B=!1)}function m(x,V,Y=!1){Y?(n(3,w=A[x]||A[0]),n(4,M=A[V]||A[A.length-1])):(n(3,w=x),n(4,M=V)),n(15,B=!1)}function v(){if(w){const x=w.getTime();n(6,S=Math.max(0,A.findIndex(V=>V.getTime()>=x)))}else n(6,S=0);if(M){const x=M.getTime(),V=A.findIndex(Y=>Y.getTime()>=x);n(7,D=V>=0?V:A.length>0?A.length-1:0)}else n(7,D=A.length-1);S>D&&n(6,S=D),D<S&&n(7,D=S)}function E(x,V){if(x.detail!==void 0)V==="start"?(n(6,S=x.detail),S>D&&n(6,S=D)):(n(7,D=x.detail),D<S&&n(7,D=S)),m(S,D,!0);else{const Y=x.target.value?new Date(x.target.value):null;V==="start"?m(Y,M):m(w,Y),v()}}function k(x){const V=x.target.files[0];if(V){const Y=new FileReader;n(15,B=!1),Y.onload=Z=>P(Z.target.result),Y.readAsText(V)}}function L(x){const V=D-S;let Y=S+x,Z=D+x;Y<0&&(Y=0,Z=V),Z>=A.length&&(Z=A.length-1,Y=Math.max(0,Z-V)),n(6,S=Y),n(7,D=Z),m(S,D,!0)}function N(){X?(clearInterval($),n(13,X=!1)):(n(13,X=!0),n(15,B=!1),$=setInterval(()=>{if(D>=A.length-1){clearInterval($),n(13,X=!1);return}L(1)},500))}function q(x){n(14,lt=x.target.value),n(15,B=!1)}function F(){n(15,B=!1)}function Q(){X&&$&&(clearInterval($),n(13,X=!1));const x=u.includes("org")?"org":i[0]||"";n(0,a=x),n(2,c=new Set),n(8,j=[]),n(14,lt=""),n(15,B=!1),n(11,_=.3),A.length?(n(6,S=0),n(7,D=A.length-1),m(S,D,!0)):(n(3,w=null),n(4,M=null),n(6,S=0),n(7,D=0))}function tt(){a=_i(this),n(0,a),n(32,u),n(9,i),n(9,i),n(32,u)}function ft(){_=gi(this.value),n(11,_)}const pt=x=>E(x,"start"),U=x=>E(x,"end");function J(x){S=x,n(6,S)}function mt(x){D=x,n(7,D)}const W=x=>E(x,"start"),ct=x=>E(x,"end"),wt=()=>L(-7),ht=()=>L(-1),y=()=>L(1),z=()=>L(7),ut=(x,V)=>vr(x,V,r),G=(x,V)=>eu(x,V,r);return t.$$.update=()=>{t.$$.dirty[0]&256&&new Set(j.map(x=>x.id)),t.$$.dirty[1]&2&&n(9,i=u.filter(x=>x==="org"||x==="cluster")),t.$$.dirty[0]&513|t.$$.dirty[1]&2&&(!u||u.length===0||(i.length&&!i.includes(a)?n(0,a=i[0]):i.length===0&&n(0,a=""))),t.$$.dirty[0]&1|t.$$.dirty[1]&1&&n(1,f=a?[...new Set(l.map(x=>x[a]).filter(x=>x!=null&&x!==""))]:[]),t.$$.dirty[0]&1027&&n(21,o=f.map(x=>({value:x,label:vr(a,x,r)}))),t.$$.dirty[0]&31|t.$$.dirty[1]&1&&n(12,I=l.map(x=>({...x,isHighlighted:c.size>0&&c.size<f.length&&c.has(x[a])&&(!w||x.date>=w)&&(!M||x.date<=M)}))),t.$$.dirty[0]&96&&A.length>1&&S/(A.length-1)*100,t.$$.dirty[0]&160&&A.length>1&&D/(A.length-1)*100},n(10,r=/^https?:\/\//i.test(s)),[a,f,c,w,M,A,S,D,j,i,r,_,I,X,lt,B,h,d,p,b,C,o,g,R,E,k,L,N,q,F,Q,l,u,tt,ft,pt,U,J,mt,W,ct,wt,ht,y,z,ut,G]}class mu extends Je{constructor(e){super(),je(this,e,gu,pu,Qe,{},null,[-1,-1])}}new mu({target:document.getElementById("app")});
