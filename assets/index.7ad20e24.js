(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function Cr(t){return t()}function Ln(){return Object.create(null)}function Ut(t){t.forEach(Cr)}function Ar(t){return typeof t=="function"}function Qe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function pi(t){return Object.keys(t).length===0}function z(t,e){t.appendChild(e)}function st(t,e,n){t.insertBefore(e,n||null)}function it(t){t.parentNode.removeChild(t)}function Tr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Y(t){return document.createElement(t)}function vt(t){return document.createTextNode(t)}function lt(){return vt(" ")}function Dr(){return vt("")}function yt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mi(t){return t===""?null:+t}function gi(t){return Array.from(t.childNodes)}function Rt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Pn(t,e){t.value=e==null?"":e}function St(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Fn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function _i(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function yi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let me;function pe(t){me=t}function Rr(){if(!me)throw new Error("Function called outside component initialization");return me}function Mn(t){Rr().$$.on_mount.push(t)}function wi(){const t=Rr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=yi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const ce=[],Bt=[],Te=[],ln=[],vi=Promise.resolve();let un=!1;function bi(){un||(un=!0,vi.then(Nr))}function Le(t){Te.push(t)}function Vn(t){ln.push(t)}const rn=new Set;let xe=0;function Nr(){const t=me;do{for(;xe<ce.length;){const e=ce[xe];xe++,pe(e),xi(e.$$)}for(pe(null),ce.length=0,xe=0;Bt.length;)Bt.pop()();for(let e=0;e<Te.length;e+=1){const n=Te[e];rn.has(n)||(rn.add(n),n())}Te.length=0}while(ce.length);for(;ln.length;)ln.pop()();un=!1,rn.clear(),pe(t)}function xi(t){if(t.fragment!==null){t.update(),Ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}const De=new Set;let Gt;function Or(){Gt={r:0,c:[],p:Gt}}function zr(){Gt.r||Ut(Gt.c),Gt=Gt.p}function Ht(t,e){t&&t.i&&(De.delete(t),t.i(e))}function jt(t,e,n,r){if(t&&t.o){if(De.has(t))return;De.add(t),Gt.c.push(()=>{De.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function qn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Sn(t){t&&t.c()}function Ge(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Le(()=>{const s=t.$$.on_mount.map(Cr).filter(Ar);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ut(s),t.$$.on_mount=[]}),o.forEach(Le)}function Ze(t,e){const n=t.$$;n.fragment!==null&&(Ut(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ki(t,e){t.$$.dirty[0]===-1&&(ce.push(t),bi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,r,i,o,s,l=[-1]){const u=me;pe(t);const a=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:Ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ln(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(c,_,...w)=>{const k=w.length?w[0]:_;return a.ctx&&i(a.ctx[c],a.ctx[c]=k)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](k),f&&ki(t,c)),_}):[],a.update(),f=!0,Ut(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const c=gi(e.target);a.fragment&&a.fragment.l(c),c.forEach(it)}else a.fragment&&a.fragment.c();e.intro&&Ht(t.$$.fragment),Ge(t,e.target,e.anchor,e.customElement),Nr()}pe(u)}class Je{$destroy(){Ze(this,1),this.$destroy=At}$on(e,n){if(!Ar(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!pi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Mi,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function f(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(d){var p=j(d);p.chunkSize=parseInt(p.chunkSize),d.step||d.chunk||(p.chunkSize=null),this._handle=new T(p),(this._handle.streamer=this)._config=p}.call(this,h),this.parseChunk=function(d,p){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let P=this._config.newline;P||(S=this._config.quoteChar||'"',P=this._handle.guessLineEndings(d,S)),d=[...d.split(P).slice(b)].join(P)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&(S=this._config.beforeFirstChunk(d))!==void 0&&(d=S),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+d,S=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(d=S.meta.cursor,b=(this._finished||(this._partialLine=b.substring(d-this._baseIndex),this._baseIndex=d),S&&S.data&&(this._rowCount+=S.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:S,workerId:a.WORKER_ID,finished:b});else if(U(this._config.chunk)&&!p){if(this._config.chunk(S,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=S=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(S.data),this._completeResults.errors=this._completeResults.errors.concat(S.errors),this._completeResults.meta=S.meta),this._completed||!b||!U(this._config.complete)||S&&S.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||S&&S.meta.paused||this._nextChunk(),S}this._halted=!0},this._sendError=function(d){U(this._config.error)?this._config.error(d):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:d,finished:!1})}}function c(h){var d;(h=h||{}).chunkSize||(h.chunkSize=a.RemoteChunkSize),f.call(this,h),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),o||(d.onload=nt(this._chunkLoaded,this),d.onerror=nt(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var p,b=this._config.downloadRequestHeaders;for(p in b)d.setRequestHeader(p,b[p])}var S;this._config.chunkSize&&(S=this._start+this._config.chunkSize-1,d.setRequestHeader("Range","bytes="+this._start+"-"+S));try{d.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}o&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize||d.responseText.length,this._finished=!this._config.chunkSize||this._start>=(p=>(p=p.getResponseHeader("Content-Range"))!==null?parseInt(p.substring(p.lastIndexOf("/")+1)):-1)(d),this.parseChunk(d.responseText)))},this._chunkError=function(p){p=d.statusText||p,this._sendError(new Error(p))}}function _(h){(h=h||{}).chunkSize||(h.chunkSize=a.LocalChunkSize),f.call(this,h);var d,p,b=typeof FileReader<"u";this.stream=function(S){this._input=S,p=S.slice||S.webkitSlice||S.mozSlice,b?((d=new FileReader).onload=nt(this._chunkLoaded,this),d.onerror=nt(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),S=p.call(S,this._start,P)),d.readAsText(S,this._config.encoding));b||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(d.error)}}function w(h){var d;f.call(this,h=h||{}),this.stream=function(p){return d=p,this._nextChunk()},this._nextChunk=function(){var p,b;if(!this._finished)return p=this._config.chunkSize,d=p?(b=d.substring(0,p),d.substring(p)):(b=d,""),this._finished=!d,this.parseChunk(b)}}function k(h){f.call(this,h=h||{});var d=[],p=!0,b=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):p=!0},this._streamData=nt(function(S){try{d.push(typeof S=="string"?S:S.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(P){this._streamError(P)}},this),this._streamError=nt(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=nt(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=nt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(h){var d,p,b,S,P=Math.pow(2,53),m=-P,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,v=this,M=0,x=0,V=!1,O=!1,q=[],X={data:[],errors:[],meta:{}};function G(K){return h.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function et(){if(X&&b&&(pt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),b=!1),h.skipEmptyLines&&(X.data=X.data.filter(function(ct){return!G(ct)})),ft()){let ct=function(wt,ht){U(h.transformHeader)&&(wt=h.transformHeader(wt,ht)),q.push(wt)};var Q=ct;if(X)if(Array.isArray(X.data[0])){for(var K=0;ft()&&K<X.data.length;K++)X.data[K].forEach(ct);X.data.splice(0,1)}else X.data.forEach(ct)}function $(ct,wt){for(var ht=h.header?{}:[],y=0;y<ct.length;y++){var L=y,ut=ct[y],ut=((Z,J)=>(tt=>(h.dynamicTypingFunction&&h.dynamicTyping[tt]===void 0&&(h.dynamicTyping[tt]=h.dynamicTypingFunction(tt)),(h.dynamicTyping[tt]||h.dynamicTyping)===!0))(Z)?J==="true"||J==="TRUE"||J!=="false"&&J!=="FALSE"&&((tt=>{if(D.test(tt)&&(tt=parseFloat(tt),m<tt&&tt<P))return 1})(J)?parseFloat(J):g.test(J)?new Date(J):J===""?null:J):J)(L=h.header?y>=q.length?"__parsed_extra":q[y]:L,ut=h.transform?h.transform(ut,L):ut);L==="__parsed_extra"?(ht[L]=ht[L]||[],ht[L].push(ut)):ht[L]=ut}return h.header&&(y>q.length?pt("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+y,x+wt):y<q.length&&pt("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+y,x+wt)),ht}var _t;X&&(h.header||h.dynamicTyping||h.transform)&&(_t=1,!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map($),_t=X.data.length):X.data=$(X.data,0),h.header&&X.meta&&(X.meta.fields=q),x+=_t)}function ft(){return h.header&&q.length===0}function pt(K,$,_t,Q){K={type:K,code:$,message:_t},Q!==void 0&&(K.row=Q),X.errors.push(K)}U(h.step)&&(S=h.step,h.step=function(K){X=K,ft()?et():(et(),X.data.length!==0&&(M+=K.data.length,h.preview&&M>h.preview?p.abort():(X.data=X.data[0],S(X,v))))}),this.parse=function(K,$,_t){var Q=h.quoteChar||'"',Q=(h.newline||(h.newline=this.guessLineEndings(K,Q)),b=!1,h.delimiter?U(h.delimiter)&&(h.delimiter=h.delimiter(K),X.meta.delimiter=h.delimiter):((Q=((ct,wt,ht,y,L)=>{var ut,Z,J,tt;L=L||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var E=0;E<L.length;E++){for(var H,F=L[E],B=0,ot=0,dt=0,mt=(J=void 0,new R({comments:y,delimiter:F,newline:wt,preview:10}).parse(ct)),rt=0;rt<mt.data.length;rt++)ht&&G(mt.data[rt])?dt++:(H=mt.data[rt].length,ot+=H,J===void 0?J=H:0<H&&(B+=Math.abs(H-J),J=H));0<mt.data.length&&(ot/=mt.data.length-dt),(Z===void 0||B<=Z)&&(tt===void 0||tt<ot)&&1.99<ot&&(Z=B,ut=F,tt=ot)}return{successful:!!(h.delimiter=ut),bestDelimiter:ut}})(K,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=Q.bestDelimiter:(b=!0,h.delimiter=a.DefaultDelimiter),X.meta.delimiter=h.delimiter),j(h));return h.preview&&h.header&&Q.preview++,d=K,p=new R(Q),X=p.parse(d,$,_t),et(),V?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return V},this.pause=function(){V=!0,p.abort(),d=U(h.chunk)?"":d.substring(p.getCharIndex())},this.resume=function(){v.streamer._halted?(V=!1,v.streamer.parseChunk(d,!0)):setTimeout(v.resume,3)},this.aborted=function(){return O},this.abort=function(){O=!0,p.abort(),X.meta.aborted=!0,U(h.complete)&&h.complete(X),d=""},this.guessLineEndings=function(ct,Q){ct=ct.substring(0,1048576);var Q=new RegExp(N(Q)+"([^]*?)"+N(Q),"gm"),_t=(ct=ct.replace(Q,"")).split("\r"),Q=ct.split(`
`),ct=1<Q.length&&Q[0].length<_t[0].length;if(_t.length===1||ct)return`
`;for(var wt=0,ht=0;ht<_t.length;ht++)_t[ht][0]===`
`&&wt++;return wt>=_t.length/2?`\r
`:"\r"}}function N(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(h){var d=(h=h||{}).delimiter,p=h.newline,b=h.comments,S=h.step,P=h.preview,m=h.fastMode,D=null,g=!1,v=h.quoteChar==null?'"':h.quoteChar,M=v;if(h.escapeChar!==void 0&&(M=h.escapeChar),(typeof d!="string"||-1<a.BAD_DELIMITERS.indexOf(d))&&(d=","),b===d)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<a.BAD_DELIMITERS.indexOf(b))&&(b=!1),p!==`
`&&p!=="\r"&&p!==`\r
`&&(p=`
`);var x=0,V=!1;this.parse=function(O,q,X){if(typeof O!="string")throw new Error("Input must be a string");var G=O.length,et=d.length,ft=p.length,pt=b.length,K=U(S),$=[],_t=[],Q=[],ct=x=0;if(!O)return B();if(m||m!==!1&&O.indexOf(v)===-1){for(var wt=O.split(p),ht=0;ht<wt.length;ht++){if(Q=wt[ht],x+=Q.length,ht!==wt.length-1)x+=p.length;else if(X)return B();if(!b||Q.substring(0,pt)!==b){if(K){if($=[],tt(Q.split(d)),ot(),V)return B()}else tt(Q.split(d));if(P&&P<=ht)return $=$.slice(0,P),B(!0)}}return B()}for(var y=O.indexOf(d,x),L=O.indexOf(p,x),ut=new RegExp(N(M)+N(v),"g"),Z=O.indexOf(v,x);;)if(O[x]===v)for(Z=x,x++;;){if((Z=O.indexOf(v,Z+1))===-1)return X||_t.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:x}),H();if(Z===G-1)return H(O.substring(x,Z).replace(ut,v));if(v===M&&O[Z+1]===M)Z++;else if(v===M||Z===0||O[Z-1]!==M){y!==-1&&y<Z+1&&(y=O.indexOf(d,Z+1));var J=E((L=L!==-1&&L<Z+1?O.indexOf(p,Z+1):L)===-1?y:Math.min(y,L));if(O.substr(Z+1+J,et)===d){Q.push(O.substring(x,Z).replace(ut,v)),O[x=Z+1+J+et]!==v&&(Z=O.indexOf(v,x)),y=O.indexOf(d,x),L=O.indexOf(p,x);break}if(J=E(L),O.substring(Z+1+J,Z+1+J+ft)===p){if(Q.push(O.substring(x,Z).replace(ut,v)),F(Z+1+J+ft),y=O.indexOf(d,x),Z=O.indexOf(v,x),K&&(ot(),V))return B();if(P&&$.length>=P)return B(!0);break}_t.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:x}),Z++}}else if(b&&Q.length===0&&O.substring(x,x+pt)===b){if(L===-1)return B();x=L+ft,L=O.indexOf(p,x),y=O.indexOf(d,x)}else if(y!==-1&&(y<L||L===-1))Q.push(O.substring(x,y)),x=y+et,y=O.indexOf(d,x);else{if(L===-1)break;if(Q.push(O.substring(x,L)),F(L+ft),K&&(ot(),V))return B();if(P&&$.length>=P)return B(!0)}return H();function tt(dt){$.push(dt),ct=x}function E(dt){var mt=0;return mt=dt!==-1&&(dt=O.substring(Z+1,dt))&&dt.trim()===""?dt.length:mt}function H(dt){return X||(dt===void 0&&(dt=O.substring(x)),Q.push(dt),x=G,tt(Q),K&&ot()),B()}function F(dt){x=dt,tt(Q),Q=[],L=O.indexOf(p,x)}function B(dt){if(h.header&&!q&&$.length&&!g){var mt=$[0],rt={},gt=new Set(mt);let Ot=!1;for(let Tt=0;Tt<mt.length;Tt++){let bt=mt[Tt];if(rt[bt=U(h.transformHeader)?h.transformHeader(bt,Tt):bt]){let xt,kt=rt[bt];for(;xt=bt+"_"+kt,kt++,gt.has(xt););gt.add(xt),mt[Tt]=xt,rt[bt]++,Ot=!0,(D=D===null?{}:D)[xt]=bt}else rt[bt]=1,mt[Tt]=bt;gt.add(bt)}Ot&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:$,errors:_t,meta:{delimiter:d,linebreak:p,aborted:V,truncated:!!dt,cursor:ct+(q||0),renamedHeaders:D}}}function ot(){S(B()),$=[],_t=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return x}}function C(h){var d=h.data,p=l[d.workerId],b=!1;if(d.error)p.userError(d.error,d.file);else if(d.results&&d.results.data){var S={abort:function(){b=!0,I(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:W,resume:W};if(U(p.userStep)){for(var P=0;P<d.results.data.length&&(p.userStep({data:d.results.data[P],errors:d.results.errors,meta:d.results.meta},S),!b);P++);delete d.results}else U(p.userChunk)&&(p.userChunk(d.results,S,d.file),delete d.results)}d.finished&&!b&&I(d.workerId,d.results)}function I(h,d){var p=l[h];U(p.userComplete)&&p.userComplete(d),p.terminate(),delete l[h]}function W(){throw new Error("Not implemented.")}function j(h){if(typeof h!="object"||h===null)return h;var d,p=Array.isArray(h)?[]:{};for(d in h)p[d]=j(h[d]);return p}function nt(h,d){return function(){h.apply(d,arguments)}}function U(h){return typeof h=="function"}return a.parse=function(h,d){var p=(d=d||{}).dynamicTyping||!1;if(U(p)&&(d.dynamicTypingFunction=p,p={}),d.dynamicTyping=p,d.transform=!!U(d.transform)&&d.transform,!d.worker||!a.WORKERS_SUPPORTED)return p=null,a.NODE_STREAM_INPUT,typeof h=="string"?(h=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(h),p=new(d.download?c:w)(d)):h.readable===!0&&U(h.read)&&U(h.on)?p=new k(d):(r.File&&h instanceof File||h instanceof Object)&&(p=new _(d)),p.stream(h);(p=(()=>{var b;return!!a.WORKERS_SUPPORTED&&(b=(()=>{var S=r.URL||r.webkitURL||null,P=n.toString();return a.BLOB_URL||(a.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=C,b.id=u++,l[b.id]=b)})()).userStep=d.step,p.userChunk=d.chunk,p.userComplete=d.complete,p.userError=d.error,d.step=U(d.step),d.chunk=U(d.chunk),d.complete=U(d.complete),d.error=U(d.error),delete d.worker,p.postMessage({input:h,config:d,workerId:p.id})},a.unparse=function(h,d){var p=!1,b=!0,S=",",P=`\r
`,m='"',D=m+m,g=!1,v=null,M=!1,x=((()=>{if(typeof d=="object"){if(typeof d.delimiter!="string"||a.BAD_DELIMITERS.filter(function(q){return d.delimiter.indexOf(q)!==-1}).length||(S=d.delimiter),typeof d.quotes!="boolean"&&typeof d.quotes!="function"&&!Array.isArray(d.quotes)||(p=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(g=d.skipEmptyLines),typeof d.newline=="string"&&(P=d.newline),typeof d.quoteChar=="string"&&(m=d.quoteChar),typeof d.header=="boolean"&&(b=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");v=d.columns}d.escapeChar!==void 0&&(D=d.escapeChar+m),d.escapeFormulae instanceof RegExp?M=d.escapeFormulae:typeof d.escapeFormulae=="boolean"&&d.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(m),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return V(null,h,g);if(typeof h[0]=="object")return V(v||Object.keys(h[0]),h,g)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||v),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),V(h.fields||[],h.data||[],g);throw new Error("Unable to serialize unrecognized input");function V(q,X,G){var et="",ft=(typeof q=="string"&&(q=JSON.parse(q)),typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(q)&&0<q.length),pt=!Array.isArray(X[0]);if(ft&&b){for(var K=0;K<q.length;K++)0<K&&(et+=S),et+=O(q[K],K);0<X.length&&(et+=P)}for(var $=0;$<X.length;$++){var _t=(ft?q:X[$]).length,Q=!1,ct=ft?Object.keys(X[$]).length===0:X[$].length===0;if(G&&!ft&&(Q=G==="greedy"?X[$].join("").trim()==="":X[$].length===1&&X[$][0].length===0),G==="greedy"&&ft){for(var wt=[],ht=0;ht<_t;ht++){var y=pt?q[ht]:ht;wt.push(X[$][y])}Q=wt.join("").trim()===""}if(!Q){for(var L=0;L<_t;L++){0<L&&!ct&&(et+=S);var ut=ft&&pt?q[L]:L;et+=O(X[$][ut],L)}$<X.length-1&&(!G||0<_t&&!ct)&&(et+=P)}}return et}function O(q,X){var G,et;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(et=!1,M&&typeof q=="string"&&M.test(q)&&(q="'"+q,et=!0),G=q.toString().replace(x,D),(et=et||p===!0||typeof p=="function"&&p(q,X)||Array.isArray(p)&&p[X]||((ft,pt)=>{for(var K=0;K<pt.length;K++)if(-1<ft.indexOf(pt[K]))return!0;return!1})(G,a.BAD_DELIMITERS)||-1<G.indexOf(S)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?m+G+m:G)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=R,a.ParserHandle=T,a.NetworkStreamer=c,a.FileStreamer=_,a.StringStreamer=w,a.ReadableStreamStreamer=k,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var d=h.config||{},p=[];return this.each(function(P){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var m=0;m<this.files.length;m++)p.push({file:this.files[m],inputElem:this,instanceConfig:i.extend({},d)})}),b(),this;function b(){if(p.length===0)U(h.complete)&&h.complete();else{var P,m,D,g,v=p[0];if(U(h.before)){var M=h.before(v.file,v.inputElem);if(typeof M=="object"){if(M.action==="abort")return P="AbortError",m=v.file,D=v.inputElem,g=M.reason,void(U(h.error)&&h.error({name:P},m,D,g));if(M.action==="skip")return void S();typeof M.config=="object"&&(v.instanceConfig=i.extend(v.instanceConfig,M.config))}else if(M==="skip")return void S()}var x=v.instanceConfig.complete;v.instanceConfig.complete=function(V){U(x)&&x(V,v.file,v.inputElem),S()},a.parse(v.file,v.instanceConfig)}}function S(){p.splice(0,1),b()}}),s&&(r.onmessage=function(h){h=h.data,a.WORKER_ID===void 0&&h&&(a.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=a.parse(h.input,h.config))&&r.postMessage({workerId:a.WORKER_ID,results:h,finished:!0})}),(c.prototype=Object.create(f.prototype)).constructor=c,(_.prototype=Object.create(f.prototype)).constructor=_,(w.prototype=Object.create(w.prototype)).constructor=w,(k.prototype=Object.create(f.prototype)).constructor=k,a})})(Ir);const Si=Ir.exports;function Re(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lr(t){let e,n,r;t.length!==2?(e=Re,n=(l,u)=>Re(t(l),u),r=(l,u)=>t(l)-u):(e=t===Re||t===Ei?t:Ci,n=t,r=t);function i(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const c=a+f>>>1;n(l[c],u)<0?a=c+1:f=c}while(a<f)}return a}function o(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const c=a+f>>>1;n(l[c],u)<=0?a=c+1:f=c}while(a<f)}return a}function s(l,u,a=0,f=l.length){const c=i(l,u,a,f-1);return c>a&&r(l[c-1],u)>-r(l[c],u)?c-1:c}return{left:i,center:s,right:o}}function Ci(){return 0}function Ai(t){return t===null?NaN:+t}const Ti=Lr(Re),Di=Ti.right;Lr(Ai).center;const Ri=Di;class Xn extends Map{constructor(e,n=zi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Bn(this,e))}has(e){return super.has(Bn(this,e))}set(e,n){return super.set(Ni(this,e),n)}delete(e){return super.delete(Oi(this,e))}}function Bn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ni({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Oi({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zi(t){return t!==null&&typeof t=="object"?t.valueOf():t}var fn=Math.sqrt(50),cn=Math.sqrt(10),hn=Math.sqrt(2);function Ii(t,e,n){var r,i=-1,o,s,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=Pr(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)/l}return r&&s.reverse(),s}function Pr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fn?10:o>=cn?5:o>=hn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fn?10:o>=cn?5:o>=hn?2:1)}function Li(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fn?i*=10:o>=cn?i*=5:o>=hn&&(i*=2),e<t?-i:i}function Hn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Fr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Un=Symbol("implicit");function Vr(){var t=new Xn,e=[],n=[],r=Un;function i(o){let s=t.get(o);if(s===void 0){if(r!==Un)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Xn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vr(e,n).unknown(r)},Fr.apply(i,arguments),i}function En(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function we(){}var ge=.7,Pe=1/ge,ie="\\s*([+-]?\\d+)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pi=/^#([0-9a-f]{3,8})$/,Fi=new RegExp(`^rgb\\(${ie},${ie},${ie}\\)$`),Vi=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),qi=new RegExp(`^rgba\\(${ie},${ie},${ie},${_e}\\)$`),Xi=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${_e}\\)$`),Bi=new RegExp(`^hsl\\(${_e},${Pt},${Pt}\\)$`),Hi=new RegExp(`^hsla\\(${_e},${Pt},${Pt},${_e}\\)$`),Wn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};En(we,$t,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kn,formatHex:Kn,formatHex8:Yi,formatHsl:Ui,formatRgb:Qn,toString:Qn});function Kn(){return this.rgb().formatHex()}function Yi(){return this.rgb().formatHex8()}function Ui(){return Xr(this).formatHsl()}function Qn(){return this.rgb().formatRgb()}function $t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gn(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ke(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fi.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Vi.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qi.exec(t))?ke(e[1],e[2],e[3],e[4]):(e=Xi.exec(t))?ke(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bi.exec(t))?Jn(e[1],e[2]/100,e[3]/100,1):(e=Hi.exec(t))?Jn(e[1],e[2]/100,e[3]/100,e[4]):Wn.hasOwnProperty(t)?Gn(Wn[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Gn(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function ke(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function Wi(t){return t instanceof we||(t=$t(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function dn(t,e,n,r){return arguments.length===1?Wi(t):new Ct(t,e,n,r==null?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}En(Ct,dn,qr(we,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(Jt(this.r),Jt(this.g),Jt(this.b),Fe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatHex8:Ki,formatRgb:jn,toString:jn}));function Zn(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}`}function Ki(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}${Zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function jn(){const t=Fe(this.opacity);return`${t===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${t===1?")":`, ${t})`}`}function Fe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zt(t){return t=Jt(t),(t<16?"0":"")+t.toString(16)}function Jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Xr(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof we||(t=$t(t)),!t)return new It;if(t instanceof It)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new It(s,l,u,t.opacity)}function Qi(t,e,n,r){return arguments.length===1?Xr(t):new It(t,e,n,r==null?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}En(It,Qi,qr(we,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new It(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ge:Math.pow(ge,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(on(t>=240?t-240:t+120,i,r),on(t,i,r),on(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new It($n(this.h),Me(this.s),Me(this.l),Fe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fe(this.opacity);return`${t===1?"hsl(":"hsla("}${$n(this.h)}, ${Me(this.s)*100}%, ${Me(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $n(t){return t=(t||0)%360,t<0?t+360:t}function Me(t){return Math.max(0,Math.min(1,t||0))}function on(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cn=t=>()=>t;function Gi(t,e){return function(n){return t+n*e}}function Zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ji(t){return(t=+t)==1?Br:function(e,n){return n-e?Zi(e,n,t):Cn(isNaN(e)?n:e)}}function Br(t,e){var n=e-t;return n?Gi(t,n):Cn(isNaN(t)?e:t)}const Ve=function t(e){var n=ji(e);function r(i,o){var s=n((i=dn(i)).r,(o=dn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=Br(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=a(f),i+""}}return r.gamma=t,r}(1);function Ji(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $i(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function to(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=An(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function eo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function no(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=An(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(pn.source,"g");function ro(t){return function(){return t}}function io(t){return function(e){return t(e)+""}}function Hr(t,e){var n=pn.lastIndex=sn.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=pn.exec(t))&&(i=sn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:zt(r,i)})),n=sn.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?io(u[0].x):ro(e):(e=u.length,function(a){for(var f=0,c;f<e;++f)l[(c=u[f]).i]=c.x(a);return l.join("")})}function An(t,e){var n=typeof e,r;return e==null||n==="boolean"?Cn(e):(n==="number"?zt:n==="string"?(r=$t(e))?(e=r,Ve):Hr:e instanceof $t?Ve:e instanceof Date?eo:$i(e)?Ji:Array.isArray(e)?to:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?no:zt)(t,e)}function oo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var tr=180/Math.PI,mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yr(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*tr,skewX:Math.atan(u)*tr,scaleX:s,scaleY:l}}var Se;function so(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mn:Yr(e.a,e.b,e.c,e.d,e.e,e.f)}function ao(t){return t==null||(Se||(Se=document.createElementNS("http://www.w3.org/2000/svg","g")),Se.setAttribute("transform",t),!(t=Se.transform.baseVal.consolidate()))?mn:(t=t.matrix,Yr(t.a,t.b,t.c,t.d,t.e,t.f))}function Ur(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,f,c,_,w,k){if(a!==c||f!==_){var T=w.push("translate(",null,e,null,n);k.push({i:T-4,x:zt(a,c)},{i:T-2,x:zt(f,_)})}else(c||_)&&w.push("translate("+c+e+_+n)}function s(a,f,c,_){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),_.push({i:c.push(i(c)+"rotate(",null,r)-2,x:zt(a,f)})):f&&c.push(i(c)+"rotate("+f+r)}function l(a,f,c,_){a!==f?_.push({i:c.push(i(c)+"skewX(",null,r)-2,x:zt(a,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(a,f,c,_,w,k){if(a!==c||f!==_){var T=w.push(i(w)+"scale(",null,",",null,")");k.push({i:T-4,x:zt(a,c)},{i:T-2,x:zt(f,_)})}else(c!==1||_!==1)&&w.push(i(w)+"scale("+c+","+_+")")}return function(a,f){var c=[],_=[];return a=t(a),f=t(f),o(a.translateX,a.translateY,f.translateX,f.translateY,c,_),s(a.rotate,f.rotate,c,_),l(a.skewX,f.skewX,c,_),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,c,_),a=f=null,function(w){for(var k=-1,T=_.length,N;++k<T;)c[(N=_[k]).i]=N.x(w);return c.join("")}}}var lo=Ur(so,"px, ","px)","deg)"),uo=Ur(ao,", ",")",")"),fo=1e-12;function er(t){return((t=Math.exp(t))+1/t)/2}function co(t){return((t=Math.exp(t))-1/t)/2}function ho(t){return((t=Math.exp(2*t))-1)/(t+1)}const po=function t(e,n,r){function i(o,s){var l=o[0],u=o[1],a=o[2],f=s[0],c=s[1],_=s[2],w=f-l,k=c-u,T=w*w+k*k,N,R;if(T<fo)R=Math.log(_/a)/e,N=function(U){return[l+U*w,u+U*k,a*Math.exp(e*U*R)]};else{var C=Math.sqrt(T),I=(_*_-a*a+r*T)/(2*a*n*C),W=(_*_-a*a-r*T)/(2*_*n*C),j=Math.log(Math.sqrt(I*I+1)-I),nt=Math.log(Math.sqrt(W*W+1)-W);R=(nt-j)/e,N=function(U){var h=U*R,d=er(j),p=a/(n*C)*(d*ho(e*h+j)-co(j));return[l+p*w,u+p*k,a*d/er(e*h+j)]}}return N.duration=R*1e3*e/Math.SQRT2,N}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,u=l*l;return t(s,l,u)},i}(Math.SQRT2,2,4);function mo(t){return function(){return t}}function go(t){return+t}var nr=[0,1];function ne(t){return t}function gn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mo(isNaN(e)?NaN:.5)}function _o(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=gn(i,r),o=n(s,o)):(r=gn(r,i),o=n(o,s)),function(l){return o(r(l))}}function wo(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=gn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var u=Ri(t,l,1,r)-1;return o[u](i[u](l))}}function vo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bo(){var t=nr,e=nr,n=An,r,i,o,s=ne,l,u,a;function f(){var _=Math.min(t.length,e.length);return s!==ne&&(s=_o(t[0],t[_-1])),l=_>2?wo:yo,u=a=null,c}function c(_){return _==null||isNaN(_=+_)?o:(u||(u=l(t.map(r),e,n)))(r(s(_)))}return c.invert=function(_){return s(i((a||(a=l(e,t.map(r),zt)))(_)))},c.domain=function(_){return arguments.length?(t=Array.from(_,go),f()):t.slice()},c.range=function(_){return arguments.length?(e=Array.from(_),f()):e.slice()},c.rangeRound=function(_){return e=Array.from(_),n=oo,f()},c.clamp=function(_){return arguments.length?(s=_?!0:ne,f()):s!==ne},c.interpolate=function(_){return arguments.length?(n=_,f()):n},c.unknown=function(_){return arguments.length?(o=_,c):o},function(_,w){return r=_,i=w,f()}}function xo(){return bo()(ne,ne)}function ko(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function oe(t){return t=qe(Math.abs(t)),t?t[1]:NaN}function Mo(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function So(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(t){if(!(e=Eo.exec(t)))throw new Error("invalid format: "+t);var e;return new Tn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xe.prototype=Tn.prototype;function Tn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Co(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wr;function Ao(t,e){var n=qe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Wr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qe(t,Math.max(0,e+o-1))[0]}function rr(t,e){var n=qe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ir={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ko,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rr(t*100,e),r:rr,s:Ao,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function or(t){return t}var sr=Array.prototype.map,ar=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function To(t){var e=t.grouping===void 0||t.thousands===void 0?or:Mo(sr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?or:So(sr.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(c){c=Xe(c);var _=c.fill,w=c.align,k=c.sign,T=c.symbol,N=c.zero,R=c.width,C=c.comma,I=c.precision,W=c.trim,j=c.type;j==="n"?(C=!0,j="g"):ir[j]||(I===void 0&&(I=12),W=!0,j="g"),(N||_==="0"&&w==="=")&&(N=!0,_="0",w="=");var nt=T==="$"?n:T==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",U=T==="$"?r:/[%p]/.test(j)?s:"",h=ir[j],d=/[defgprs%]/.test(j);I=I===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function p(b){var S=nt,P=U,m,D,g;if(j==="c")P=h(b)+P,b="";else{b=+b;var v=b<0||1/b<0;if(b=isNaN(b)?u:h(Math.abs(b),I),W&&(b=Co(b)),v&&+b==0&&k!=="+"&&(v=!1),S=(v?k==="("?k:l:k==="-"||k==="("?"":k)+S,P=(j==="s"?ar[8+Wr/3]:"")+P+(v&&k==="("?")":""),d){for(m=-1,D=b.length;++m<D;)if(g=b.charCodeAt(m),48>g||g>57){P=(g===46?i+b.slice(m+1):b.slice(m))+P,b=b.slice(0,m);break}}}C&&!N&&(b=e(b,1/0));var M=S.length+b.length+P.length,x=M<R?new Array(R-M+1).join(_):"";switch(C&&N&&(b=e(x+b,x.length?R-P.length:1/0),x=""),w){case"<":b=S+b+P+x;break;case"=":b=S+x+b+P;break;case"^":b=x.slice(0,M=x.length>>1)+S+b+P+x.slice(M);break;default:b=x+S+b+P;break}return o(b)}return p.toString=function(){return c+""},p}function f(c,_){var w=a((c=Xe(c),c.type="f",c)),k=Math.max(-8,Math.min(8,Math.floor(oe(_)/3)))*3,T=Math.pow(10,-k),N=ar[8+k/3];return function(R){return w(T*R)+N}}return{format:a,formatPrefix:f}}var Ee,Kr,Qr;Do({thousands:",",grouping:[3],currency:["$",""]});function Do(t){return Ee=To(t),Kr=Ee.format,Qr=Ee.formatPrefix,Ee}function Ro(t){return Math.max(0,-oe(Math.abs(t)))}function No(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oe(e)/3)))*3-oe(Math.abs(t)))}function Oo(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oe(e)-oe(t))+1}function zo(t,e,n,r){var i=Li(t,e,n),o;switch(r=Xe(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=No(i,s))&&(r.precision=o),Qr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Oo(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ro(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kr(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ii(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return zo(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],u,a,f=10;for(l<s&&(a=s,s=l,l=a,a=i,i=o,o=a);f-- >0;){if(a=Pr(s,l,n),a===u)return r[i]=s,r[o]=l,e(r);if(a>0)s=Math.floor(s/a)*a,l=Math.ceil(l/a)*a;else if(a<0)s=Math.ceil(s*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function _n(){var t=xo();return t.copy=function(){return vo(t,_n())},Fr.apply(t,arguments),Io(t)}function Lo(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Po=Lo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Fo(t){let e;return{c(){e=Y("p"),e.textContent="Hover over a circle to see details here.",A(e,"class","svelte-b094ih")},m(n,r){st(n,e,r)},p:At,d(n){n&&it(e)}}}function Vo(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",l,u,a,f=t[0].date.toISOString().split("T")[0]+"",c,_,w,k,T=t[0].text+"",N,R=t[6]&&lr(t);return{c(){e=Y("h1"),r=vt(n),i=lt(),o=Y("span"),l=vt(s),u=lt(),a=Y("h2"),c=vt(f),_=lt(),R&&R.c(),w=lt(),k=Y("p"),N=vt(T),A(e,"class","svelte-b094ih"),St(o,"background",t[2](t[0][t[1]])),A(o,"class","svelte-b094ih"),A(a,"class","svelte-b094ih"),A(k,"class","svelte-b094ih")},m(C,I){st(C,e,I),z(e,r),st(C,i,I),st(C,o,I),z(o,l),st(C,u,I),st(C,a,I),z(a,c),st(C,_,I),R&&R.m(C,I),st(C,w,I),st(C,k,I),z(k,N)},p(C,I){I&1&&n!==(n=C[0].title+"")&&Rt(r,n),I&35&&s!==(s=(C[5]?C[5](C[1],C[0][C[1]]):C[0][C[1]])+"")&&Rt(l,s),I&7&&St(o,"background",C[2](C[0][C[1]])),I&1&&f!==(f=C[0].date.toISOString().split("T")[0]+"")&&Rt(c,f),C[6]?R?R.p(C,I):(R=lr(C),R.c(),R.m(w.parentNode,w)):R&&(R.d(1),R=null),I&1&&T!==(T=C[0].text+"")&&Rt(N,T)},d(C){C&&it(e),C&&it(i),C&&it(o),C&&it(u),C&&it(a),C&&it(_),R&&R.d(C),C&&it(w),C&&it(k)}}}function lr(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&ur(t);return{c(){r&&r.c(),n=Dr()},m(i,o){r&&r.m(i,o),st(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=ur(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&it(n)}}}function ur(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=Y("p"),n=Y("em"),i=vt(r),A(e,"class","svelte-b094ih")},m(o,s){st(o,e,s),z(e,n),z(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Rt(i,r)},d(o){o&&it(e)}}}function qo(t){let e;function n(o,s){return o[0]?Vo:Fo}let r=n(t),i=r(t);return{c(){e=Y("div"),i.c(),A(e,"class","detail-card svelte-b094ih"),St(e,"left",t[3]+"px"),St(e,"top",t[4]+"px")},m(o,s){st(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&St(e,"left",o[3]+"px"),s&16&&St(e,"top",o[4]+"px")},i:At,o:At,d(o){o&&it(e),i.d()}}}function Xo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:l=0}=e,{posY:u=0}=e,{labelOverride:a=null}=e,{descriptionOverride:f=null}=e;return Mn(()=>{s.domain(o.map(c=>c[i]))}),t.$$set=c=>{"hoveredData"in c&&n(0,r=c.hoveredData),"domainColumn"in c&&n(1,i=c.domainColumn),"data"in c&&n(7,o=c.data),"colorScale"in c&&n(2,s=c.colorScale),"posX"in c&&n(3,l=c.posX),"posY"in c&&n(4,u=c.posY),"labelOverride"in c&&n(5,a=c.labelOverride),"descriptionOverride"in c&&n(6,f=c.descriptionOverride)},[r,i,s,l,u,a,f,o]}class Bo extends Je{constructor(e){super(),je(this,e,Xo,qo,Qe,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var Ho={value:()=>{}};function Dn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ne(n)}function Ne(t){this._=t}function Yo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ne.prototype=Dn.prototype={constructor:Ne,on:function(t,e){var n=this._,r=Yo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Uo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=fr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ne(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Uo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ho,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yn="http://www.w3.org/1999/xhtml";const cr={svg:"http://www.w3.org/2000/svg",xhtml:yn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $e(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),cr.hasOwnProperty(e)?{space:cr[e],local:t}:t}function Wo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yn&&e.documentElement.namespaceURI===yn?e.createElement(t):e.createElementNS(n,t)}}function Ko(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gr(t){var e=$e(t);return(e.local?Ko:Wo)(e)}function Qo(){}function Rn(t){return t==null?Qo:function(){return this.querySelector(t)}}function Go(t){typeof t!="function"&&(t=Rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,f=0;f<s;++f)(u=o[f])&&(a=t.call(u,u.__data__,f,o))&&("__data__"in u&&(a.__data__=u.__data__),l[f]=a);return new Nt(r,this._parents)}function Zo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function jo(){return[]}function Zr(t){return t==null?jo:function(){return this.querySelectorAll(t)}}function Jo(t){return function(){return Zo(t.apply(this,arguments))}}function $o(t){typeof t=="function"?t=Jo(t):t=Zr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new Nt(r,i)}function jr(t){return function(){return this.matches(t)}}function Jr(t){return function(e){return e.matches(t)}}var ts=Array.prototype.find;function es(t){return function(){return ts.call(this.children,t)}}function ns(){return this.firstElementChild}function rs(t){return this.select(t==null?ns:es(typeof t=="function"?t:Jr(t)))}var is=Array.prototype.filter;function os(){return Array.from(this.children)}function ss(t){return function(){return is.call(this.children,t)}}function as(t){return this.selectAll(t==null?os:ss(typeof t=="function"?t:Jr(t)))}function ls(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Nt(r,this._parents)}function $r(t){return new Array(t.length)}function us(){return new Nt(this._enter||this._groups.map($r),this._parents)}function Be(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Be.prototype={constructor:Be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fs(t){return function(){return t}}function cs(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Be(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function hs(t,e,n,r,i,o,s){var l,u,a=new Map,f=e.length,c=o.length,_=new Array(f),w;for(l=0;l<f;++l)(u=e[l])&&(_[l]=w=s.call(u,u.__data__,l,e)+"",a.has(w)?i[l]=u:a.set(w,u));for(l=0;l<c;++l)w=s.call(t,o[l],l,o)+"",(u=a.get(w))?(r[l]=u,u.__data__=o[l],a.delete(w)):n[l]=new Be(t,o[l]);for(l=0;l<f;++l)(u=e[l])&&a.get(_[l])===u&&(i[l]=u)}function ds(t){return t.__data__}function ps(t,e){if(!arguments.length)return Array.from(this,ds);var n=e?hs:cs,r=this._parents,i=this._groups;typeof t!="function"&&(t=fs(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var f=r[a],c=i[a],_=c.length,w=ms(t.call(f,f&&f.__data__,a,r)),k=w.length,T=l[a]=new Array(k),N=s[a]=new Array(k),R=u[a]=new Array(_);n(f,c,T,N,R,w,e);for(var C=0,I=0,W,j;C<k;++C)if(W=T[C]){for(C>=I&&(I=C+1);!(j=N[I])&&++I<k;);W._next=j||null}}return s=new Nt(s,r),s._enter=l,s._exit=u,s}function ms(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gs(){return new Nt(this._exit||this._groups.map($r),this._parents)}function _s(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ys(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],f=r[u],c=a.length,_=l[u]=new Array(c),w,k=0;k<c;++k)(w=a[k]||f[k])&&(_[k]=w);for(;u<i;++u)l[u]=n[u];return new Nt(l,this._parents)}function ws(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function vs(t){t||(t=bs);function e(c,_){return c&&_?t(c.__data__,_.__data__):!c-!_}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,f=0;f<l;++f)(a=s[f])&&(u[f]=a);u.sort(e)}return new Nt(i,this._parents).order()}function bs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ks(){return Array.from(this)}function Ms(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ss(){let t=0;for(const e of this)++t;return t}function Es(){return!this.node()}function Cs(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function As(t){return function(){this.removeAttribute(t)}}function Ts(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ds(t,e){return function(){this.setAttribute(t,e)}}function Rs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ns(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Os(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zs(t,e){var n=$e(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ts:As:typeof e=="function"?n.local?Os:Ns:n.local?Rs:Ds)(n,e))}function ti(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Is(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ps(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Fs(t,e,n){return arguments.length>1?this.each((e==null?Is:typeof e=="function"?Ps:Ls)(t,e,n==null?"":n)):se(this.node(),t)}function se(t,e){return t.style.getPropertyValue(e)||ti(t).getComputedStyle(t,null).getPropertyValue(e)}function Vs(t){return function(){delete this[t]}}function qs(t,e){return function(){this[t]=e}}function Xs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Bs(t,e){return arguments.length>1?this.each((e==null?Vs:typeof e=="function"?Xs:qs)(t,e)):this.node()[t]}function ei(t){return t.trim().split(/^|\s+/)}function Nn(t){return t.classList||new ni(t)}function ni(t){this._node=t,this._names=ei(t.getAttribute("class")||"")}ni.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ri(t,e){for(var n=Nn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ii(t,e){for(var n=Nn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hs(t){return function(){ri(this,t)}}function Ys(t){return function(){ii(this,t)}}function Us(t,e){return function(){(e.apply(this,arguments)?ri:ii)(this,t)}}function Ws(t,e){var n=ei(t+"");if(arguments.length<2){for(var r=Nn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Us:e?Hs:Ys)(n,e))}function Ks(){this.textContent=""}function Qs(t){return function(){this.textContent=t}}function Gs(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Zs(t){return arguments.length?this.each(t==null?Ks:(typeof t=="function"?Gs:Qs)(t)):this.node().textContent}function js(){this.innerHTML=""}function Js(t){return function(){this.innerHTML=t}}function $s(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function ta(t){return arguments.length?this.each(t==null?js:(typeof t=="function"?$s:Js)(t)):this.node().innerHTML}function ea(){this.nextSibling&&this.parentNode.appendChild(this)}function na(){return this.each(ea)}function ra(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ia(){return this.each(ra)}function oa(t){var e=typeof t=="function"?t:Gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sa(){return null}function aa(t,e){var n=typeof t=="function"?t:Gr(t),r=e==null?sa:typeof e=="function"?e:Rn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function la(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.each(la)}function fa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ca(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ha(t){return this.select(t?ca:fa)}function da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pa(t){return function(e){t.call(this,e,this.__data__)}}function ma(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ga(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function _a(t,e,n){return function(){var r=this.__on,i,o=pa(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ya(t,e,n){var r=ma(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,f;u<a;++u)for(i=0,f=l[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=e?_a:ga,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function oi(t,e,n){var r=ti(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function wa(t,e){return function(){return oi(this,t,e)}}function va(t,e){return function(){return oi(this,t,e.apply(this,arguments))}}function ba(t,e){return this.each((typeof e=="function"?va:wa)(t,e))}function*xa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var si=[null];function Nt(t,e){this._groups=t,this._parents=e}function ve(){return new Nt([[document.documentElement]],si)}function ka(){return this}Nt.prototype=ve.prototype={constructor:Nt,select:Go,selectAll:$o,selectChild:rs,selectChildren:as,filter:ls,data:ps,enter:us,exit:gs,join:_s,merge:ys,selection:ka,order:ws,sort:vs,call:xs,nodes:ks,node:Ms,size:Ss,empty:Es,each:Cs,attr:zs,style:Fs,property:Bs,classed:Ws,text:Zs,html:ta,raise:na,lower:ia,append:oa,insert:aa,remove:ua,clone:ha,datum:da,on:ya,dispatch:ba,[Symbol.iterator]:xa};function Kt(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],si)}function Ma(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Qt(t,e){if(t=Ma(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const wn={capture:!0,passive:!1};function vn(t){t.preventDefault(),t.stopImmediatePropagation()}function Sa(t){var e=t.document.documentElement,n=Kt(t).on("dragstart.drag",vn,wn);"onselectstart"in e?n.on("selectstart.drag",vn,wn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ea(t,e){var n=t.document.documentElement,r=Kt(t).on("dragstart.drag",null);e&&(r.on("click.drag",vn,wn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ae=0,he=0,ue=0,ai=1e3,He,de,Ye=0,te=0,tn=0,ye=typeof performance=="object"&&performance.now?performance:Date,li=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function On(){return te||(li(Ca),te=ye.now()+tn)}function Ca(){te=0}function Ue(){this._call=this._time=this._next=null}Ue.prototype=ui.prototype={constructor:Ue,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?On():+n)+(e==null?0:+e),!this._next&&de!==this&&(de?de._next=this:He=this,de=this),this._call=t,this._time=n,bn()},stop:function(){this._call&&(this._call=null,this._time=1/0,bn())}};function ui(t,e,n){var r=new Ue;return r.restart(t,e,n),r}function Aa(){On(),++ae;for(var t=He,e;t;)(e=te-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ae}function hr(){te=(Ye=ye.now())+tn,ae=he=0;try{Aa()}finally{ae=0,Da(),te=0}}function Ta(){var t=ye.now(),e=t-Ye;e>ai&&(tn-=e,Ye=t)}function Da(){for(var t,e=He,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:He=n);de=t,bn(r)}function bn(t){if(!ae){he&&(he=clearTimeout(he));var e=t-te;e>24?(t<1/0&&(he=setTimeout(hr,t-ye.now()-tn)),ue&&(ue=clearInterval(ue))):(ue||(Ye=ye.now(),ue=setInterval(Ta,ai)),ae=1,li(hr))}}function dr(t,e,n){var r=new Ue;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ra=Dn("start","end","cancel","interrupt"),Na=[],fi=0,pr=1,xn=2,Oe=3,mr=4,kn=5,ze=6;function en(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Oa(t,n,{name:e,index:r,group:i,on:Ra,tween:Na,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fi})}function zn(t,e){var n=Lt(t,e);if(n.state>fi)throw new Error("too late; already scheduled");return n}function Ft(t,e){var n=Lt(t,e);if(n.state>Oe)throw new Error("too late; already running");return n}function Lt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Oa(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ui(o,0,n.time);function o(a){n.state=pr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var f,c,_,w;if(n.state!==pr)return u();for(f in r)if(w=r[f],w.name===n.name){if(w.state===Oe)return dr(s);w.state===mr?(w.state=ze,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete r[f]):+f<e&&(w.state=ze,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete r[f])}if(dr(function(){n.state===Oe&&(n.state=mr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=xn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xn){for(n.state=Oe,i=new Array(_=n.tween.length),f=0,c=-1;f<_;++f)(w=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=w);i.length=c+1}}function l(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=kn,1),c=-1,_=i.length;++c<_;)i[c].call(t,f);n.state===kn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=ze,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Ie(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>xn&&r.state<kn,r.state=ze,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function za(t){return this.each(function(){Ie(this,t)})}function Ia(t,e){var n,r;return function(){var i=Ft(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function La(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ft(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function Pa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Lt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Ia:La)(n,t,e))}function In(t,e,n){var r=t._id;return t.each(function(){var i=Ft(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Lt(i,r).value[e]}}function ci(t,e){var n;return(typeof e=="number"?zt:e instanceof $t?Ve:(n=$t(e))?(e=n,Ve):Hr)(t,e)}function Fa(t){return function(){this.removeAttribute(t)}}function Va(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Xa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Ba(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ha(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ya(t,e){var n=$e(t),r=n==="transform"?uo:ci;return this.attrTween(t,typeof e=="function"?(n.local?Ha:Ba)(n,r,In(this,"attr."+t,e)):e==null?(n.local?Va:Fa)(n):(n.local?Xa:qa)(n,r,e))}function Ua(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wa(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ka(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wa(t,o)),n}return i._value=e,i}function Qa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ua(t,o)),n}return i._value=e,i}function Ga(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=$e(t);return this.tween(n,(r.local?Ka:Qa)(r,e))}function Za(t,e){return function(){zn(this,t).delay=+e.apply(this,arguments)}}function ja(t,e){return e=+e,function(){zn(this,t).delay=e}}function Ja(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Za:ja)(e,t)):Lt(this.node(),e).delay}function $a(t,e){return function(){Ft(this,t).duration=+e.apply(this,arguments)}}function tl(t,e){return e=+e,function(){Ft(this,t).duration=e}}function el(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$a:tl)(e,t)):Lt(this.node(),e).duration}function nl(t,e){if(typeof e!="function")throw new Error;return function(){Ft(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(nl(e,t)):Lt(this.node(),e).ease}function il(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,t).ease=n}}function ol(t){if(typeof t!="function")throw new Error;return this.each(il(this._id,t))}function sl(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Yt(r,this._parents,this._name,this._id)}function al(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],f=u.length,c=s[l]=new Array(f),_,w=0;w<f;++w)(_=u[w]||a[w])&&(c[w]=_);for(;l<r;++l)s[l]=e[l];return new Yt(s,this._parents,this._name,this._id)}function ll(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ul(t,e,n){var r,i,o=ll(e)?zn:Ft;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function fl(t,e){var n=this._id;return arguments.length<2?Lt(this.node(),n).on.on(t):this.each(ul(n,t,e))}function cl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hl(){return this.on("end.remove",cl(this._id))}function dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),f,c,_=0;_<u;++_)(f=l[_])&&(c=t.call(f,f.__data__,_,l))&&("__data__"in f&&(c.__data__=f.__data__),a[_]=c,en(a[_],e,n,_,a,Lt(f,n)));return new Yt(o,this._parents,e,n)}function pl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,f,c=0;c<a;++c)if(f=u[c]){for(var _=t.call(f,f.__data__,c,u),w,k=Lt(f,n),T=0,N=_.length;T<N;++T)(w=_[T])&&en(w,e,n,T,_,k);o.push(_),s.push(f)}return new Yt(o,s,e,n)}var ml=ve.prototype.constructor;function gl(){return new ml(this._groups,this._parents)}function _l(t,e){var n,r,i;return function(){var o=se(this,t),s=(this.style.removeProperty(t),se(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function hi(t){return function(){this.style.removeProperty(t)}}function yl(t,e,n){var r,i=n+"",o;return function(){var s=se(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function wl(t,e,n){var r,i,o;return function(){var s=se(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),se(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function vl(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=Ft(this,t),a=u.on,f=u.value[o]==null?l||(l=hi(e)):void 0;(a!==n||i!==f)&&(r=(n=a).copy()).on(s,i=f),u.on=r}}function bl(t,e,n){var r=(t+="")=="transform"?lo:ci;return e==null?this.styleTween(t,_l(t,r)).on("end.style."+t,hi(t)):typeof e=="function"?this.styleTween(t,wl(t,r,In(this,"style."+t,e))).each(vl(this._id,t)):this.styleTween(t,yl(t,r,e),n).on("end.style."+t,null)}function xl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function kl(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xl(t,s,n)),r}return o._value=e,o}function Ml(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,kl(t,e,n==null?"":n))}function Sl(t){return function(){this.textContent=t}}function El(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Cl(t){return this.tween("text",typeof t=="function"?El(In(this,"text",t)):Sl(t==null?"":t+""))}function Al(t){return function(e){this.textContent=t.call(this,e)}}function Tl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Al(i)),e}return r._value=t,r}function Dl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Tl(t))}function Rl(){for(var t=this._name,e=this._id,n=di(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var f=Lt(u,e);en(u,t,n,a,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Yt(r,this._parents,t,n)}function Nl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=Ft(this,r),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var Ol=0;function Yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function di(){return++Ol}var qt=ve.prototype;Yt.prototype={constructor:Yt,select:dl,selectAll:pl,selectChild:qt.selectChild,selectChildren:qt.selectChildren,filter:sl,merge:al,selection:gl,transition:Rl,call:qt.call,nodes:qt.nodes,node:qt.node,size:qt.size,empty:qt.empty,each:qt.each,on:fl,attr:Ya,attrTween:Ga,style:bl,styleTween:Ml,text:Cl,textTween:Dl,remove:hl,tween:Pa,delay:Ja,duration:el,ease:rl,easeVarying:ol,end:Nl,[Symbol.iterator]:qt[Symbol.iterator]};function zl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Il={time:null,delay:0,duration:250,ease:zl};function Ll(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Pl(t){var e,n;t instanceof Yt?(e=t._id,t=t._name):(e=di(),(n=Il).time=On(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&en(u,t,e,a,s,n||Ll(u,e));return new Yt(r,this._parents,t,e)}ve.prototype.interrupt=za;ve.prototype.transition=Pl;const Ce=t=>()=>t;function Fl(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Xt(t,e,n){this.k=t,this.x=e,this.y=n}Xt.prototype={constructor:Xt,scale:function(t){return t===1?this:new Xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var We=new Xt(1,0,0);Xt.prototype;function an(t){t.stopImmediatePropagation()}function fe(t){t.preventDefault(),t.stopImmediatePropagation()}function Vl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ql(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function gr(){return this.__zoom||We}function Xl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Yl(){var t=Vl,e=ql,n=Hl,r=Xl,i=Bl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=po,a=Dn("start","zoom","end"),f,c,_,w=500,k=150,T=0,N=10;function R(m){m.property("__zoom",gr).on("wheel.zoom",h,{passive:!1}).on("mousedown.zoom",d).on("dblclick.zoom",p).filter(i).on("touchstart.zoom",b).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(m,D,g,v){var M=m.selection?m.selection():m;M.property("__zoom",gr),m!==M?j(m,D,g,v):M.interrupt().each(function(){nt(this,arguments).event(v).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},R.scaleBy=function(m,D,g,v){R.scaleTo(m,function(){var M=this.__zoom.k,x=typeof D=="function"?D.apply(this,arguments):D;return M*x},g,v)},R.scaleTo=function(m,D,g,v){R.transform(m,function(){var M=e.apply(this,arguments),x=this.__zoom,V=g==null?W(M):typeof g=="function"?g.apply(this,arguments):g,O=x.invert(V),q=typeof D=="function"?D.apply(this,arguments):D;return n(I(C(x,q),V,O),M,s)},g,v)},R.translateBy=function(m,D,g,v){R.transform(m,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,v)},R.translateTo=function(m,D,g,v,M){R.transform(m,function(){var x=e.apply(this,arguments),V=this.__zoom,O=v==null?W(x):typeof v=="function"?v.apply(this,arguments):v;return n(We.translate(O[0],O[1]).scale(V.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof g=="function"?-g.apply(this,arguments):-g),x,s)},v,M)};function C(m,D){return D=Math.max(o[0],Math.min(o[1],D)),D===m.k?m:new Xt(D,m.x,m.y)}function I(m,D,g){var v=D[0]-g[0]*m.k,M=D[1]-g[1]*m.k;return v===m.x&&M===m.y?m:new Xt(m.k,v,M)}function W(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function j(m,D,g,v){m.on("start.zoom",function(){nt(this,arguments).event(v).start()}).on("interrupt.zoom end.zoom",function(){nt(this,arguments).event(v).end()}).tween("zoom",function(){var M=this,x=arguments,V=nt(M,x).event(v),O=e.apply(M,x),q=g==null?W(O):typeof g=="function"?g.apply(M,x):g,X=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),G=M.__zoom,et=typeof D=="function"?D.apply(M,x):D,ft=u(G.invert(q).concat(X/G.k),et.invert(q).concat(X/et.k));return function(pt){if(pt===1)pt=et;else{var K=ft(pt),$=X/K[2];pt=new Xt($,q[0]-K[0]*$,q[1]-K[1]*$)}V.zoom(null,pt)}})}function nt(m,D,g){return!g&&m.__zooming||new U(m,D)}function U(m,D){this.that=m,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,D),this.taps=0}U.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,D){return this.mouse&&m!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var D=Kt(this.that).datum();a.call(m,this.that,new Fl(m,{sourceEvent:this.sourceEvent,target:R,type:m,transform:this.that.__zoom,dispatch:a}),D)}};function h(m,...D){if(!t.apply(this,arguments))return;var g=nt(this,D).event(m),v=this.__zoom,M=Math.max(o[0],Math.min(o[1],v.k*Math.pow(2,r.apply(this,arguments)))),x=Qt(m);if(g.wheel)(g.mouse[0][0]!==x[0]||g.mouse[0][1]!==x[1])&&(g.mouse[1]=v.invert(g.mouse[0]=x)),clearTimeout(g.wheel);else{if(v.k===M)return;g.mouse=[x,v.invert(x)],Ie(this),g.start()}fe(m),g.wheel=setTimeout(V,k),g.zoom("mouse",n(I(C(v,M),g.mouse[0],g.mouse[1]),g.extent,s));function V(){g.wheel=null,g.end()}}function d(m,...D){if(_||!t.apply(this,arguments))return;var g=m.currentTarget,v=nt(this,D,!0).event(m),M=Kt(m.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",X,!0),x=Qt(m,g),V=m.clientX,O=m.clientY;Sa(m.view),an(m),v.mouse=[x,this.__zoom.invert(x)],Ie(this),v.start();function q(G){if(fe(G),!v.moved){var et=G.clientX-V,ft=G.clientY-O;v.moved=et*et+ft*ft>T}v.event(G).zoom("mouse",n(I(v.that.__zoom,v.mouse[0]=Qt(G,g),v.mouse[1]),v.extent,s))}function X(G){M.on("mousemove.zoom mouseup.zoom",null),Ea(G.view,v.moved),fe(G),v.event(G).end()}}function p(m,...D){if(!!t.apply(this,arguments)){var g=this.__zoom,v=Qt(m.changedTouches?m.changedTouches[0]:m,this),M=g.invert(v),x=g.k*(m.shiftKey?.5:2),V=n(I(C(g,x),v,M),e.apply(this,D),s);fe(m),l>0?Kt(this).transition().duration(l).call(j,V,v,m):Kt(this).call(R.transform,V,v,m)}}function b(m,...D){if(!!t.apply(this,arguments)){var g=m.touches,v=g.length,M=nt(this,D,m.changedTouches.length===v).event(m),x,V,O,q;for(an(m),V=0;V<v;++V)O=g[V],q=Qt(O,this),q=[q,this.__zoom.invert(q),O.identifier],M.touch0?!M.touch1&&M.touch0[2]!==q[2]&&(M.touch1=q,M.taps=0):(M.touch0=q,x=!0,M.taps=1+!!f);f&&(f=clearTimeout(f)),x&&(M.taps<2&&(c=q[0],f=setTimeout(function(){f=null},w)),Ie(this),M.start())}}function S(m,...D){if(!!this.__zooming){var g=nt(this,D).event(m),v=m.changedTouches,M=v.length,x,V,O,q;for(fe(m),x=0;x<M;++x)V=v[x],O=Qt(V,this),g.touch0&&g.touch0[2]===V.identifier?g.touch0[0]=O:g.touch1&&g.touch1[2]===V.identifier&&(g.touch1[0]=O);if(V=g.that.__zoom,g.touch1){var X=g.touch0[0],G=g.touch0[1],et=g.touch1[0],ft=g.touch1[1],pt=(pt=et[0]-X[0])*pt+(pt=et[1]-X[1])*pt,K=(K=ft[0]-G[0])*K+(K=ft[1]-G[1])*K;V=C(V,Math.sqrt(pt/K)),O=[(X[0]+et[0])/2,(X[1]+et[1])/2],q=[(G[0]+ft[0])/2,(G[1]+ft[1])/2]}else if(g.touch0)O=g.touch0[0],q=g.touch0[1];else return;g.zoom("touch",n(I(V,O,q),g.extent,s))}}function P(m,...D){if(!!this.__zooming){var g=nt(this,D).event(m),v=m.changedTouches,M=v.length,x,V;for(an(m),_&&clearTimeout(_),_=setTimeout(function(){_=null},w),x=0;x<M;++x)V=v[x],g.touch0&&g.touch0[2]===V.identifier?delete g.touch0:g.touch1&&g.touch1[2]===V.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(V=Qt(V,this),Math.hypot(c[0]-V[0],c[1]-V[1])<N)){var O=Kt(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return R.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Ce(+m),R):r},R.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Ce(!!m),R):t},R.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Ce(!!m),R):i},R.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ce([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),R):e},R.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],R):[o[0],o[1]]},R.translateExtent=function(m){return arguments.length?(s[0][0]=+m[0][0],s[1][0]=+m[1][0],s[0][1]=+m[0][1],s[1][1]=+m[1][1],R):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},R.constrain=function(m){return arguments.length?(n=m,R):n},R.duration=function(m){return arguments.length?(l=+m,R):l},R.interpolate=function(m){return arguments.length?(u=m,R):u},R.on=function(){var m=a.on.apply(a,arguments);return m===a?R:m},R.clickDistance=function(m){return arguments.length?(T=(m=+m)*m,R):Math.sqrt(T)},R.tapDistance=function(m){return arguments.length?(N=+m,R):N},R}function _r(t){let e,n;return e=new Bo({props:{hoveredData:t[8],data:t[0],domainColumn:t[1],colorScale:t[11],posX:t[9],posY:t[10],labelOverride:t[2],descriptionOverride:t[3]}}),{c(){Sn(e.$$.fragment)},m(r,i){Ge(e,r,i),n=!0},p(r,i){const o={};i[0]&256&&(o.hoveredData=r[8]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&2048&&(o.colorScale=r[11]),i[0]&512&&(o.posX=r[9]),i[0]&1024&&(o.posY=r[10]),i[0]&4&&(o.labelOverride=r[2]),i[0]&8&&(o.descriptionOverride=r[3]),e.$set(o)},i(r){n||(Ht(e.$$.fragment,r),n=!0)},o(r){jt(e.$$.fragment,r),n=!1},d(r){Ze(e,r)}}}function Ul(t){let e,n,r,i,o,s,l,u,a,f,c,_,w,k=t[8]&&_r(t);return{c(){e=Y("div"),n=Y("div"),r=Y("button"),r.textContent="+",i=lt(),o=Y("button"),o.textContent="\u2212",s=lt(),l=Y("button"),l.textContent="\u27F2",u=lt(),a=Y("canvas"),f=lt(),k&&k.c(),A(r,"class","zoom-btn svelte-1q7voxg"),A(r,"aria-label","Zoom in"),A(r,"title","Zoom in"),A(o,"class","zoom-btn svelte-1q7voxg"),A(o,"aria-label","Zoom out"),A(o,"title","Zoom out"),A(l,"class","zoom-btn svelte-1q7voxg"),A(l,"aria-label","Reset zoom"),A(l,"title","Reset zoom"),A(n,"class","zoom-controls svelte-1q7voxg"),A(n,"aria-label","Zoom controls"),A(a,"width",t[4]),A(a,"height",t[5]),A(a,"class","svelte-1q7voxg"),A(e,"class","chart-container svelte-1q7voxg")},m(T,N){st(T,e,N),z(e,n),z(n,r),z(n,i),z(n,o),z(n,s),z(n,l),z(e,u),z(e,a),t[32](a),z(e,f),k&&k.m(e,null),t[33](e),c=!0,_||(w=[yt(r,"click",t[15]),yt(o,"click",t[16]),yt(l,"click",t[17]),yt(a,"mousemove",t[12]),yt(a,"mouseleave",t[14]),yt(a,"click",t[13])],_=!0)},p(T,N){(!c||N[0]&16)&&A(a,"width",T[4]),(!c||N[0]&32)&&A(a,"height",T[5]),T[8]?k?(k.p(T,N),N[0]&256&&Ht(k,1)):(k=_r(T),k.c(),Ht(k,1),k.m(e,null)):k&&(Or(),jt(k,1,1,()=>{k=null}),zr())},i(T){c||(Ht(k),c=!0)},o(T){jt(k),c=!1},d(T){T&&it(e),t[32](null),k&&k.d(),t[33](null),_=!1,Ut(w)}}}const Ae=6,Wl=.5,Kl=20,yr=280,wr=160;function ee(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Ql(t,e,n){let r,i,o,s,l,u,a,f,c,{data:_=[]}=e,{domainColumn:w=""}=e,{opacity:k=1}=e,{selectedValues:T=new Set}=e,{searchQuery:N=""}=e,{showAnnotations:R=!0}=e,{highlightedData:C=[]}=e,{startDate:I=null}=e,{endDate:W=null}=e,{labelOverride:j=null}=e,{descriptionOverride:nt=null}=e,U=[],h,d,p,b=800,S=600;const P={top:20,right:20,bottom:20,left:20};let m=null,D=null,g=We,v,M,x=0,V=0,O,q=1;function X(){if(!h||!d)return;const y=d.getBoundingClientRect();y.width>0&&y.height>0&&(n(4,b=Math.floor(y.width)),n(5,S=Math.floor(y.height))),q=Math.max(window.devicePixelRatio||1,1),n(6,h.style.width="100%",h),n(6,h.style.height="100%",h),n(6,h.width=Math.max(1,Math.floor(b*q)),h),n(6,h.height=Math.max(1,Math.floor(S*q)),h),n(25,p=h.getContext("2d")),p.setTransform(q,0,0,q,0,0)}function G(){if(!(!p||!_.length)){if(p.clearRect(0,0,b,S),p.save(),p.translate(g.x,g.y),p.scale(g.k,g.k),_.forEach(y=>{var B,ot;const ut=!!(N&&String(N).trim().length)?ee((B=y.title)!=null?B:"",N)||ee((ot=y.text)!=null?ot:"",N):!0,J=T&&T.size>0&&T.size<r?T.has(y[w]):!0,tt=I&&W?y.date>=I&&y.date<=W:!0,E=ut&&J&&tt;p.beginPath(),p.arc(P.left+u(y.x),P.top+c(y.y),Math.max(.5,Ae/g.k),0,Math.PI*2),n(25,p.fillStyle=O(y[w]),p);const H=Math.max(0,Math.min(1,k)),F=Math.max(0,Math.min(1,.05));n(25,p.globalAlpha=E?H:F,p),p.fill(),n(25,p.globalAlpha=1,p)}),R&&U.forEach(y=>{n(25,p.globalAlpha=1,p),p.beginPath(),p.arc(y.x,y.y,y.radius,0,Math.PI*2),n(25,p.strokeStyle="red",p),n(25,p.lineWidth=2,p),p.setLineDash([5,5]),p.stroke();const L=180,ut=12;n(25,p.font="16px Arial",p);const Z=y.x+y.label_x,J=y.y+y.label_y;let tt=0,E=0,H=[];if(y.label){const bt=y.label.split(" ");let xt="";bt.forEach((kt,Dt)=>{const Vt=xt+kt+" ";p.measureText(Vt).width>L&&Dt>0?(H.push(xt),tt=Math.max(tt,p.measureText(xt).width),xt=kt+" "):xt=Vt}),H.push(xt),tt=Math.max(tt,p.measureText(xt).width),E=ut*H.length}const F=Z,B=J-ut,ot=tt,dt=E;let mt,rt;y.x<F?mt=F:y.x>F+ot?mt=F+ot:mt=y.x,y.y<B?rt=B:y.y>B+dt?rt=B+dt:rt=y.y;const gt=Math.atan2(rt-y.y,mt-y.x),Ot=y.x+y.radius*Math.cos(gt),Tt=y.y+y.radius*Math.sin(gt);if(p.setLineDash([]),p.beginPath(),p.moveTo(Ot,Tt),p.lineTo(mt,rt),n(25,p.strokeStyle="red",p),n(25,p.lineWidth=1,p),p.stroke(),y.label){n(25,p.font="16px Arial",p),n(25,p.fillStyle="red",p);const bt=16;H.forEach((xt,kt)=>{p.fillText(xt,Z,J+kt*bt)})}}),p.setLineDash([]),m){const y=P.left+u(m.x),L=P.top+c(m.y);p.beginPath(),p.arc(y,L,Math.max(.5,Ae/g.k),0,Math.PI*2),n(25,p.fillStyle=O(m[w]),p),n(25,p.globalAlpha=1,p),p.fill(),n(25,p.strokeStyle="black",p),n(25,p.lineWidth=Math.max(1,2/g.k),p),p.stroke();const[ut,Z]=[g.applyX(y),g.applyY(L)];let J=ut+12;J+yr>b-P.right&&(J=ut-12-yr);let tt=Z-wr*.5;const E=P.top+8,H=S-P.bottom-(wr+8);tt=Math.max(E,Math.min(tt,H)),n(9,x=J),n(10,V=tt)}p.restore()}}function et(y){const L=h.getBoundingClientRect(),ut=b/L.width,Z=S/L.height,J=(y.clientX-L.left)*ut,tt=(y.clientY-L.top)*Z,[E,H]=g.invert([J,tt]),F=_.find(B=>{var Vt,Et;const ot=P.left+u(B.x),dt=P.top+c(B.y),mt=ot-E,rt=dt-H,gt=Math.sqrt(mt*mt+rt*rt)<(Ae+3)/g.k,Tt=!!(N&&String(N).trim().length)?ee((Vt=B.title)!=null?Vt:"",N)||ee((Et=B.text)!=null?Et:"",N):!0,xt=T&&T.size>0&&T.size<r?T.has(B[w]):!0,kt=I&&W?B.date>=I&&B.date<=W:!0;return gt&&(Tt&&xt&&kt)});F?(n(8,m=F),D=F,n(6,h.style.cursor="pointer",h)):(n(8,m=null),D=null,n(6,h.style.cursor="crosshair",h)),G()}function ft(y){const L=h.getBoundingClientRect(),ut=b/L.width,Z=S/L.height,J=(y.clientX-L.left)*ut,tt=(y.clientY-L.top)*Z,[E,H]=g.invert([J,tt]),F=_.find(ot=>{var Et,le;const dt=P.left+u(ot.x),mt=P.top+c(ot.y),rt=dt-E,gt=mt-H,Ot=Math.sqrt(rt*rt+gt*gt)<(Ae+3)/g.k,bt=!!(N&&String(N).trim().length)?ee((Et=ot.title)!=null?Et:"",N)||ee((le=ot.text)!=null?le:"",N):!0,kt=T&&T.size>0&&T.size<r?T.has(ot[w]):!0,Dt=I&&W?ot.date>=I&&ot.date<=W:!0;return Ot&&(bt&&kt&&Dt)});if(!F)return;const B=F.url||F.link||F.href||F.permalink;B&&typeof window<"u"&&window.open(B,"_blank","noopener,noreferrer")}function pt(){n(8,m=D),G()}let K;Mn(()=>(n(25,p=h.getContext("2d")),X(),window.ResizeObserver&&(K=new ResizeObserver(()=>{X(),G()}),K.observe(d)),v=Yl().scaleExtent([Wl,Kl]).filter(y=>{const L=y;return L.type==="wheel"||L.type==="touchstart"||L.type==="touchmove"?!0:L.type==="mousedown"?L.button===0&&!L.ctrlKey&&!L.metaKey&&!L.shiftKey:!L.ctrlKey&&!L.metaKey&&!L.shiftKey}).on("zoom",y=>{g=y.transform,G()}),M=Kt(h),M.call(v),G(),()=>{K&&K.disconnect()}));function $(y,L){var J;if((J=L==null?void 0:L.stopPropagation)==null||J.call(L),!M||!v)return;const ut=b/2,Z=S/2;M.transition().duration(200).call(v.scaleBy,y,[ut,Z])}function _t(y){$(1.25,y)}function Q(y){$(1/1.25,y)}function ct(y){var L;(L=y==null?void 0:y.stopPropagation)==null||L.call(y),!(!M||!v)&&M.transition().duration(200).call(v.transform,We)}function wt(y){Bt[y?"unshift":"push"](()=>{h=y,n(6,h)})}function ht(y){Bt[y?"unshift":"push"](()=>{d=y,n(7,d)})}return t.$$set=y=>{"data"in y&&n(0,_=y.data),"domainColumn"in y&&n(1,w=y.domainColumn),"opacity"in y&&n(18,k=y.opacity),"selectedValues"in y&&n(19,T=y.selectedValues),"searchQuery"in y&&n(20,N=y.searchQuery),"showAnnotations"in y&&n(21,R=y.showAnnotations),"highlightedData"in y&&n(22,C=y.highlightedData),"startDate"in y&&n(23,I=y.startDate),"endDate"in y&&n(24,W=y.endDate),"labelOverride"in y&&n(2,j=y.labelOverride),"descriptionOverride"in y&&n(3,nt=y.descriptionOverride)},t.$$.update=()=>{t.$$.dirty[0]&4194304&&new Set(C.map(y=>y.id)),t.$$.dirty[0]&3&&(r=new Set(_.map(y=>y[w])).size),t.$$.dirty[0]&16&&n(29,i=b-P.left-P.right),t.$$.dirty[0]&32&&n(26,o=S-P.top-P.bottom),t.$$.dirty[0]&1&&n(31,s=[Yn(_,y=>y.x),Hn(_,y=>y.x)]),t.$$.dirty[1]&1&&n(30,l=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&1610612736&&(u=_n().domain(l).range([0,i])),t.$$.dirty[0]&1&&n(28,a=[Yn(_,y=>y.y),Hn(_,y=>y.y)]),t.$$.dirty[0]&268435456&&n(27,f=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&201326592&&(c=_n().domain(f).range([o,0])),t.$$.dirty[0]&3&&n(11,O=Vr(Po).domain(w?[...new Set(_.map(y=>y[w]).filter(y=>y!=null&&y!==""))]:[])),t.$$.dirty[0]&1&&_.length&&new Date(Math.min(..._.map(y=>y.date.getTime()))),t.$$.dirty[0]&1&&_.length&&new Date(Math.max(..._.map(y=>y.date.getTime()))),t.$$.dirty[0]&62652419&&p&&_.length&&G()},[_,w,j,nt,b,S,h,d,m,x,V,O,et,ft,pt,_t,Q,ct,k,T,N,R,C,I,W,p,o,f,a,i,l,s,wt,ht]}class Gl extends Je{constructor(e){super(),je(this,e,Ql,Ul,Qe,{data:0,domainColumn:1,opacity:18,selectedValues:19,searchQuery:20,showAnnotations:21,highlightedData:22,startDate:23,endDate:24,labelOverride:2,descriptionOverride:3},null,[-1,-1])}}function Zl(t){let e,n,r,i,o,s,l,u,a;return{c(){e=Y("div"),n=Y("div"),r=Y("div"),i=lt(),o=Y("div"),s=lt(),l=Y("div"),A(r,"class","track-inner svelte-vytkle"),A(n,"class","track svelte-vytkle"),A(o,"class","thumb start-thumb svelte-vytkle"),St(o,"left",t[4]+"%"),A(l,"class","thumb end-thumb svelte-vytkle"),St(l,"left",t[3]+"%"),A(e,"class","range-slider svelte-vytkle"),St(e,"--start-percent",t[4]+"%"),St(e,"--end-percent",t[3]+"%")},m(f,c){st(f,e,c),z(e,n),z(n,r),z(e,i),z(e,o),t[13](o),z(e,s),z(e,l),t[16](l),t[19](e),u||(a=[yt(r,"mousedown",t[11]),yt(r,"touchstart",t[12]),yt(o,"mousedown",t[14]),yt(o,"touchstart",t[15]),yt(l,"mousedown",t[17]),yt(l,"touchstart",t[18])],u=!0)},p(f,[c]){c&16&&St(o,"left",f[4]+"%"),c&8&&St(l,"left",f[3]+"%"),c&16&&St(e,"--start-percent",f[4]+"%"),c&8&&St(e,"--end-percent",f[3]+"%")},i:At,o:At,d(f){f&&it(e),t[13](null),t[16](null),t[19](null),u=!1,Ut(a)}}}function jl(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:l}=e,{endValue:u}=e;const a=wi();let f,c,_,w=!1,k=null,T=null,N=0;function R(g,v){w=!0,k=v,T=f.getBoundingClientRect(),v==="range"&&(N=u-l),window.addEventListener("mousemove",C),window.addEventListener("mouseup",I)}function C(g){if(!w)return;const v=Math.min(Math.max(0,(g.clientX-T.left)/T.width),1),M=Math.round(v*(s-o)+o);if(k==="start")n(7,l=Math.min(M,u)),a("startChange",l);else if(k==="end")n(8,u=Math.max(M,l)),a("endChange",u);else if(k==="range"){let x=M-Math.floor(N/2),V=M+Math.ceil(N/2);x<o&&(x=o,V=o+N),V>s&&(V=s,x=s-N),x=Math.max(o,x),V=Math.min(s,V),n(7,l=x),n(8,u=V),a("startChange",l),a("endChange",u)}}function I(){w=!1,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",I)}function W(g,v){g.preventDefault(),w=!0,k=v,T=f.getBoundingClientRect(),v==="range"&&(N=u-l),window.addEventListener("touchmove",j,{passive:!1}),window.addEventListener("touchend",nt)}function j(g){if(g.preventDefault(),!w)return;const v=g.touches[0],M=Math.min(Math.max(0,(v.clientX-T.left)/T.width),1),x=Math.round(M*(s-o)+o);if(k==="start")n(7,l=Math.min(x,u)),a("startChange",l);else if(k==="end")n(8,u=Math.max(x,l)),a("endChange",u);else if(k==="range"){let V=x-Math.floor(N/2),O=x+Math.ceil(N/2);V<o&&(V=o,O=o+N),O>s&&(O=s,V=s-N),V=Math.max(o,V),O=Math.min(s,O),n(7,l=V),n(8,u=O),a("startChange",l),a("endChange",u)}}function nt(){w=!1,window.removeEventListener("touchmove",j),window.removeEventListener("touchend",nt)}const U=g=>R(g,"range"),h=g=>W(g,"range");function d(g){Bt[g?"unshift":"push"](()=>{c=g,n(1,c)})}const p=g=>R(g,"start"),b=g=>W(g,"start");function S(g){Bt[g?"unshift":"push"](()=>{_=g,n(2,_)})}const P=g=>R(g,"end"),m=g=>W(g,"end");function D(g){Bt[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{"min"in g&&n(9,o=g.min),"max"in g&&n(10,s=g.max),"startValue"in g&&n(7,l=g.startValue),"endValue"in g&&n(8,u=g.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(l-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[f,c,_,i,r,R,W,l,u,o,s,U,h,d,p,b,S,P,m,D]}class Jl extends Je{constructor(e){super(),je(this,e,jl,Zl,Qe,{min:9,max:10,startValue:7,endValue:8})}}const Ke={0:["Federal Government"],1:["Accidents"],2:["Local Events"],3:["Sports"],4:["Weather","Weather and disasters"],5:["Crime","Crime and police activity"],6:["Local Coverage","Community groups, features, business updates and other local coverage"],7:["Other Coverage","Coverage outside of other areas: reviews, religion, science, animals and others"],8:["Fatalities","Crime coverage specific to incidents involving deaths"],9:["Local Government","City and state government and policy"]};function $l(t){const e=Number(t);return Number.isInteger(e)&&Ke[e]?Ke[e][0]:String(t!=null?t:"")}function tu(t){const e=Number(t);return Number.isInteger(e)&&Ke[e]?Ke[e][1]:""}function vr(t,e,n=!0){return n&&t==="cluster"?$l(e):String(e!=null?e:"")}function eu(t,e,n=!0){return n&&t==="cluster"?tu(e):""}function br(t,e,n){const r=t.slice();return r[57]=e[n],r}function xr(t,e,n){const r=t.slice();return r[60]=e[n],r}function kr(t){let e,n,r,i,o,s,l=t[8],u=[];for(let a=0;a<l.length;a+=1)u[a]=Mr(xr(t,l,a));return{c(){e=Y("label"),e.textContent="\u{1F3A8} Color by Column:",n=lt(),r=Y("select"),i=Y("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();A(e,"for","domain-column"),A(e,"class","svelte-15wo1ep"),i.__value="",i.value=i.__value,i.disabled=!0,A(r,"id","domain-column"),A(r,"class","svelte-15wo1ep"),t[0]===void 0&&Le(()=>t[34].call(r))},m(a,f){st(a,e,f),st(a,n,f),st(a,r,f),z(r,i);for(let c=0;c<u.length;c+=1)u[c].m(r,null);Fn(r,t[0]),o||(s=[yt(r,"change",t[22]),yt(r,"change",t[34])],o=!0)},p(a,f){if(f[0]&256){l=a[8];let c;for(c=0;c<l.length;c+=1){const _=xr(a,l,c);u[c]?u[c].p(_,f):(u[c]=Mr(_),u[c].c(),u[c].m(r,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=l.length}f[0]&257&&Fn(r,a[0])},d(a){a&&it(e),a&&it(n),a&&it(r),Tr(u,a),o=!1,Ut(s)}}}function Mr(t){let e,n=t[60]+"",r,i;return{c(){e=Y("option"),r=vt(n),e.__value=i=t[60],e.value=e.__value},m(o,s){st(o,e,s),z(e,r)},p(o,s){s[0]&256&&n!==(n=o[60]+"")&&Rt(r,n),s[0]&256&&i!==(i=o[60])&&(e.__value=i,e.value=e.__value)},d(o){o&&it(e)}}}function Sr(t){let e,n,r,i,o,s=t[21],l=[];for(let u=0;u<s.length;u+=1)l[u]=Er(br(t,s,u));return{c(){e=Y("label"),e.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",n=lt(),r=Y("select");for(let u=0;u<l.length;u+=1)l[u].c();A(e,"for","value-select"),A(e,"class","svelte-15wo1ep"),A(r,"id","value-select"),r.multiple=!0,A(r,"size","5"),A(r,"class","multi-select svelte-15wo1ep")},m(u,a){st(u,e,a),st(u,n,a),st(u,r,a);for(let f=0;f<l.length;f+=1)l[f].m(r,null);i||(o=yt(r,"change",t[23]),i=!0)},p(u,a){if(a[0]&2097156){s=u[21];let f;for(f=0;f<s.length;f+=1){const c=br(u,s,f);l[f]?l[f].p(c,a):(l[f]=Er(c),l[f].c(),l[f].m(r,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length}},d(u){u&&it(e),u&&it(n),u&&it(r),Tr(l,u),i=!1,o()}}}function Er(t){let e,n=t[57].label+"",r,i,o;return{c(){e=Y("option"),r=vt(n),e.__value=i=t[57].value,e.value=e.__value,e.selected=o=t[2].has(t[57].value)},m(s,l){st(s,e,l),z(e,r)},p(s,l){l[0]&2097152&&n!==(n=s[57].label+"")&&Rt(r,n),l[0]&2097152&&i!==(i=s[57].value)&&(e.__value=i,e.value=e.__value),l[0]&2097156&&o!==(o=s[2].has(s[57].value))&&(e.selected=o)},d(s){s&&it(e)}}}function nu(t){let e;return{c(){e=vt("\u25B6")},m(n,r){st(n,e,r)},d(n){n&&it(e)}}}function ru(t){let e;return{c(){e=vt("\u275A\u275A")},m(n,r){st(n,e,r)},d(n){n&&it(e)}}}function iu(t){let e;return{c(){e=Y("p"),e.textContent="Waiting for data"},m(n,r){st(n,e,r)},p:At,i:At,o:At,d(n){n&&it(e)}}}function ou(t){let e,n,r;function i(f,c){return f[16]==="downloading"?uu:f[16]==="parsing"?lu:au}let o=i(t),s=o(t);function l(f,c){return f[16]==="downloading"?cu:fu}let u=l(t),a=u(t);return{c(){e=Y("div"),n=Y("div"),s.c(),r=lt(),a.c(),A(n,"class","progress-header svelte-15wo1ep"),A(e,"class","progress-wrap svelte-15wo1ep")},m(f,c){st(f,e,c),z(e,n),s.m(n,null),z(e,r),a.m(e,null)},p(f,c){o!==(o=i(f))&&(s.d(1),s=o(f),s&&(s.c(),s.m(n,null))),u===(u=l(f))&&a?a.p(f,c):(a.d(1),a=u(f),a&&(a.c(),a.m(e,null)))},i:At,o:At,d(f){f&&it(e),s.d(),a.d()}}}function su(t){let e,n;return e=new Gl({props:{data:t[11],domainColumn:t[0],selectedValues:t[2],opacity:t[10],searchQuery:t[13],showAnnotations:t[14],highlightedData:t[7],startDate:t[3],endDate:t[4],labelOverride:t[46],descriptionOverride:t[47]}}),{c(){Sn(e.$$.fragment)},m(r,i){Ge(e,r,i),n=!0},p(r,i){const o={};i[0]&2048&&(o.data=r[11]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&1024&&(o.opacity=r[10]),i[0]&8192&&(o.searchQuery=r[13]),i[0]&16384&&(o.showAnnotations=r[14]),i[0]&128&&(o.highlightedData=r[7]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),i[0]&512&&(o.labelOverride=r[46]),i[0]&512&&(o.descriptionOverride=r[47]),e.$set(o)},i(r){n||(Ht(e.$$.fragment,r),n=!0)},o(r){jt(e.$$.fragment,r),n=!1},d(r){Ze(e,r)}}}function au(t){let e;return{c(){e=vt("Loading...")},m(n,r){st(n,e,r)},d(n){n&&it(e)}}}function lu(t){let e;return{c(){e=vt("Parsing CSV...")},m(n,r){st(n,e,r)},d(n){n&&it(e)}}}function uu(t){let e;return{c(){e=vt("Downloading CSV...")},m(n,r){st(n,e,r)},d(n){n&&it(e)}}}function fu(t){let e;return{c(){e=Y("div"),A(e,"class","progress-bar indeterminate svelte-15wo1ep")},m(n,r){st(n,e,r)},p:At,d(n){n&&it(e)}}}function cu(t){let e;function n(o,s){return o[18]?du:hu}let r=n(t),i=r(t);return{c(){i.c(),e=Dr()},m(o,s){i.m(o,s),st(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&it(e)}}}function hu(t){let e,n,r,i=re(t[17])+"",o;return{c(){e=Y("div"),n=lt(),r=Y("div"),o=vt(i),A(e,"class","progress-bar indeterminate svelte-15wo1ep"),A(r,"class","progress-label svelte-15wo1ep")},m(s,l){st(s,e,l),st(s,n,l),st(s,r,l),z(r,o)},p(s,l){l[0]&131072&&i!==(i=re(s[17])+"")&&Rt(o,i)},d(s){s&&it(e),s&&it(n),s&&it(r)}}}function du(t){let e,n,r,i,o,s,l=re(t[17])+"",u,a,f=re(t[18])+"",c,_;return{c(){e=Y("div"),n=Y("div"),r=lt(),i=Y("div"),o=vt(t[19]),s=vt("% ("),u=vt(l),a=vt(" / "),c=vt(f),_=vt(")"),A(n,"class","progress-fill svelte-15wo1ep"),St(n,"width",t[19]+"%"),A(e,"class","progress-bar svelte-15wo1ep"),A(i,"class","progress-label svelte-15wo1ep")},m(w,k){st(w,e,k),z(e,n),st(w,r,k),st(w,i,k),z(i,o),z(i,s),z(i,u),z(i,a),z(i,c),z(i,_)},p(w,k){k[0]&524288&&St(n,"width",w[19]+"%"),k[0]&524288&&Rt(o,w[19]),k[0]&131072&&l!==(l=re(w[17])+"")&&Rt(u,l),k[0]&262144&&f!==(f=re(w[18])+"")&&Rt(c,f)},d(w){w&&it(e),w&&it(r),w&&it(i)}}}function pu(t){let e,n,r,i,o,s,l,u,a,f,c,_,w,k,T,N,R,C,I,W,j,nt,U,h,d,p,b,S,P,m,D,g,v,M,x,V,O,q,X,G=Wt(t[3])+"",et,ft,pt,K=Wt(t[4])+"",$,_t,Q,ct,wt,ht,y,L,ut,Z,J,tt,E,H,F,B,ot,dt,mt,rt=t[8].length&&kr(t),gt=t[1].length&&Sr(t);function Ot(at){t[38](at)}function Tt(at){t[39](at)}let bt={min:0,max:t[20]};t[5]!==void 0&&(bt.startValue=t[5]),t[6]!==void 0&&(bt.endValue=t[6]),M=new Jl({props:bt}),Bt.push(()=>qn(M,"startValue",Ot)),Bt.push(()=>qn(M,"endValue",Tt)),M.$on("startChange",t[40]),M.$on("endChange",t[41]);function xt(at,Mt){return at[12]?ru:nu}let kt=xt(t),Dt=kt(t);const Vt=[su,ou,iu],Et=[];function le(at,Mt){return at[11].length?0:at[15]?1:2}return F=le(t),B=Et[F]=Vt[F](t),{c(){e=Y("div"),n=Y("div"),n.innerHTML=`<h1 class="title svelte-15wo1ep">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the articles are similar in meaning.</p>`,r=lt(),i=Y("div"),o=Y("div"),s=Y("div"),l=Y("button"),l.textContent="Reset filters",u=lt(),a=Y("div"),a.innerHTML=`<details close=""><summary class="svelte-15wo1ep">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-15wo1ep"><p class="svelte-15wo1ep">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-15wo1ep">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-15wo1ep"><li class="svelte-15wo1ep">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-15wo1ep">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-15wo1ep">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=lt(),c=Y("label"),c.textContent="\u{1F4C1} Upload CSV:",_=lt(),w=Y("input"),k=lt(),T=Y("label"),T.textContent="\u{1F50D} Search Text (supports regex):",N=lt(),R=Y("input"),C=lt(),rt&&rt.c(),I=lt(),gt&&gt.c(),W=lt(),j=Y("label"),j.textContent="\u{1F4A1} Adjust Opacity of Active Articles:",nt=lt(),U=Y("input"),h=lt(),d=Y("div"),p=Y("label"),p.textContent="\u{1F4C5} Date Range:",b=lt(),S=Y("input"),m=lt(),D=Y("input"),v=lt(),Sn(M.$$.fragment),O=lt(),q=Y("div"),X=Y("span"),et=vt(G),ft=lt(),pt=Y("span"),$=vt(K),_t=lt(),Q=Y("div"),ct=Y("button"),ct.textContent="-1W",wt=lt(),ht=Y("button"),ht.textContent="-1D",y=lt(),L=Y("button"),Dt.c(),ut=lt(),Z=Y("button"),Z.textContent="+1D",J=lt(),tt=Y("button"),tt.textContent="+1W",E=lt(),H=Y("div"),B.c(),A(n,"class","title-section svelte-15wo1ep"),A(l,"class","reset-btn svelte-15wo1ep"),A(s,"class","filter-actions svelte-15wo1ep"),A(a,"class","nerd-box svelte-15wo1ep"),A(c,"for","file-upload"),A(c,"class","svelte-15wo1ep"),A(w,"id","file-upload"),A(w,"type","file"),A(w,"accept",".csv"),A(w,"class","svelte-15wo1ep"),A(T,"for","search-input"),A(T,"class","svelte-15wo1ep"),A(R,"id","search-input"),A(R,"type","text"),A(R,"placeholder","Search or regex pattern..."),A(R,"class","svelte-15wo1ep"),A(j,"for","opacity-slider"),A(j,"class","svelte-15wo1ep"),A(U,"id","opacity-slider"),A(U,"type","range"),A(U,"min","0.01"),A(U,"max","1"),A(U,"step","0.1"),A(U,"class","svelte-15wo1ep"),A(p,"for","start-date"),A(p,"class","svelte-15wo1ep"),A(S,"id","start-date"),A(S,"type","date"),S.value=P=Wt(t[3]),A(S,"max","2025-07-01"),A(S,"class","svelte-15wo1ep"),A(D,"id","end-date"),A(D,"type","date"),D.value=g=Wt(t[4]),A(D,"max","2025-07-01"),A(D,"class","svelte-15wo1ep"),A(q,"class","date-range-labels svelte-15wo1ep"),A(ct,"class","svelte-15wo1ep"),A(ht,"class","svelte-15wo1ep"),A(L,"class","play-button svelte-15wo1ep"),A(Z,"class","svelte-15wo1ep"),A(tt,"class","svelte-15wo1ep"),A(Q,"class","date-navigation svelte-15wo1ep"),A(d,"class","date-controls svelte-15wo1ep"),A(o,"class","filter-panel svelte-15wo1ep"),A(H,"class","scatterplot-container svelte-15wo1ep"),A(i,"class","content svelte-15wo1ep"),A(e,"class","container svelte-15wo1ep")},m(at,Mt){st(at,e,Mt),z(e,n),z(e,r),z(e,i),z(i,o),z(o,s),z(s,l),z(o,u),z(o,a),z(o,f),z(o,c),z(o,_),z(o,w),z(o,k),z(o,T),z(o,N),z(o,R),z(o,C),rt&&rt.m(o,null),z(o,I),gt&&gt.m(o,null),z(o,W),z(o,j),z(o,nt),z(o,U),Pn(U,t[10]),z(o,h),z(o,d),z(d,p),z(d,b),z(d,S),z(d,m),z(d,D),z(d,v),Ge(M,d,null),z(d,O),z(d,q),z(q,X),z(X,et),z(q,ft),z(q,pt),z(pt,$),z(d,_t),z(d,Q),z(Q,ct),z(Q,wt),z(Q,ht),z(Q,y),z(Q,L),Dt.m(L,null),z(Q,ut),z(Q,Z),z(Q,J),z(Q,tt),z(i,E),z(i,H),Et[F].m(H,null),ot=!0,dt||(mt=[yt(l,"click",t[30]),yt(w,"change",t[25]),yt(R,"input",t[28]),yt(U,"change",t[35]),yt(U,"input",t[35]),yt(U,"input",t[29]),yt(S,"change",t[36]),yt(D,"change",t[37]),yt(ct,"click",t[42]),yt(ht,"click",t[43]),yt(L,"click",t[27]),yt(Z,"click",t[44]),yt(tt,"click",t[45])],dt=!0)},p(at,Mt){at[8].length?rt?rt.p(at,Mt):(rt=kr(at),rt.c(),rt.m(o,I)):rt&&(rt.d(1),rt=null),at[1].length?gt?gt.p(at,Mt):(gt=Sr(at),gt.c(),gt.m(o,W)):gt&&(gt.d(1),gt=null),Mt[0]&1024&&Pn(U,at[10]),(!ot||Mt[0]&8&&P!==(P=Wt(at[3])))&&(S.value=P),(!ot||Mt[0]&16&&g!==(g=Wt(at[4])))&&(D.value=g);const be={};Mt[0]&1048576&&(be.max=at[20]),!x&&Mt[0]&32&&(x=!0,be.startValue=at[5],Vn(()=>x=!1)),!V&&Mt[0]&64&&(V=!0,be.endValue=at[6],Vn(()=>V=!1)),M.$set(be),(!ot||Mt[0]&8)&&G!==(G=Wt(at[3])+"")&&Rt(et,G),(!ot||Mt[0]&16)&&K!==(K=Wt(at[4])+"")&&Rt($,K),kt!==(kt=xt(at))&&(Dt.d(1),Dt=kt(at),Dt&&(Dt.c(),Dt.m(L,null)));let nn=F;F=le(at),F===nn?Et[F].p(at,Mt):(Or(),jt(Et[nn],1,1,()=>{Et[nn]=null}),zr(),B=Et[F],B?B.p(at,Mt):(B=Et[F]=Vt[F](at),B.c()),Ht(B,1),B.m(H,null))},i(at){ot||(Ht(M.$$.fragment,at),Ht(B),ot=!0)},o(at){jt(M.$$.fragment,at),jt(B),ot=!1},d(at){at&&it(e),rt&&rt.d(),gt&&gt.d(),Ze(M),Dt.d(),Et[F].d(),dt=!1,Ut(mt)}}}const mu="2025-07-01";function re(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Wt(t){return t?t.toISOString().split("T")[0]:""}function gu(t,e,n){let r,i,o,s;const l="https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",u=new Date(mu);let a=[],f=[],c="org",_=[],w=new Set,k=.3,T=null,N=null,R=[],C=[],I=0,W=0,j=!1,nt=null,U=[],h="",d=!1,p=!1,b="idle",S=0,P=0,m=0;Mn(async()=>{try{n(15,p=!0),n(16,b="downloading"),n(17,S=0),n(18,P=0),n(19,m=0);const E=await fetch(l,{mode:"cors",cache:"no-store"});if(!E.ok)throw new Error(`HTTP ${E.status}`);const H=E.headers.get("content-length");n(18,P=H?parseInt(H,10):0);let F="";if(E.body&&E.body.getReader){const B=E.body.getReader(),ot=[];let dt=0;for(;;){const{done:gt,value:Ot}=await B.read();if(gt)break;ot.push(Ot),dt+=Ot.byteLength,n(17,S=dt),P&&n(19,m=Math.round(dt/P*100))}const mt=new Uint8Array(dt);let rt=0;for(const gt of ot)mt.set(gt,rt),rt+=gt.byteLength;F=new TextDecoder().decode(mt)}else F=await E.text();n(16,b="parsing"),await Promise.resolve(D(F)),n(16,b="idle")}catch(E){console.error("Failed to load CSV:",E)}finally{n(15,p=!1)}return()=>{nt&&clearInterval(nt)}});function D(E){const H=Si.parse(E,{header:!0});n(31,a=H.data.filter(F=>F.x&&F.y&&F.date).map((F,B)=>({...F,x:+F.x,y:+F.y,date:new Date(F.date),id:B}))),n(32,f=H.meta.fields||[]),n(33,C=[...new Set(a.map(F=>F.date.getTime()))].sort((F,B)=>F-B).map(F=>new Date(F))),n(3,T=C[0]),n(4,N=C[C.length-1]),N&&N.getTime()>u.getTime()&&n(4,N=new Date(u)),n(5,I=0),n(6,W=s),x(),c&&n(1,_=[...new Set(a.map(F=>F[c]).filter(F=>F!=null&&F!==""))])}function g(E){n(0,c=E.target.value),n(1,_=c?[...new Set(a.map(H=>H[c]).filter(Boolean))]:[]),n(2,w=new Set),n(14,d=!1)}function v(E){const H=[...E.target.selectedOptions].map(B=>B.value);H.length===_.length||H.length===0?(n(2,w=new Set),n(7,U=[])):(n(2,w=new Set(H)),n(7,U=a.filter(B=>w.has(B[c])&&(!T||B.date>=T)&&(!N||B.date<=N)))),n(14,d=!1)}function M(E,H,F=!1){F?(n(3,T=C[E]||C[0]),n(4,N=C[H]||C[C.length-1]),N&&N.getTime()>u.getTime()&&n(4,N=new Date(u))):(n(3,T=E),n(4,N=H&&new Date(Math.min(H.getTime(),u.getTime())))),n(14,d=!1),x()}function x(){if(T){const E=T.getTime();n(5,I=Math.max(0,C.findIndex(H=>H.getTime()>=E)))}else n(5,I=0);if(N){const E=u.getTime(),H=Math.min(N.getTime(),E);let F=-1;for(let B=C.length-1;B>=0;B--)if(C[B].getTime()<=H){F=B;break}n(6,W=F>=0?F:0)}else n(6,W=s);I>W&&n(5,I=W),W<I&&n(6,W=I)}function V(E,H){if(E.detail!==void 0)H==="start"?(n(5,I=E.detail),I>W&&n(5,I=W)):(n(6,W=E.detail),W<I&&n(6,W=I)),M(I,W,!0);else{const F=E.target.value?new Date(E.target.value):null;H==="start"?M(F,N):M(T,F),x()}}function O(E){const H=E.target.files[0];if(H){const F=new FileReader;n(14,d=!1),F.onload=B=>D(B.target.result),F.readAsText(H)}}function q(E){const H=W-I;let F=I+E,B=W+E;F<0&&(F=0,B=H),B>=C.length&&(B=C.length-1,F=Math.max(0,B-H)),n(5,I=F),n(6,W=B),M(I,W,!0)}function X(){j?(clearInterval(nt),n(12,j=!1)):(n(12,j=!0),n(14,d=!1),nt=setInterval(()=>{if(W>=C.length-1){clearInterval(nt),n(12,j=!1);return}q(1)},500))}function G(E){n(13,h=E.target.value),n(14,d=!1)}function et(){n(14,d=!1)}function ft(){j&&nt&&(clearInterval(nt),n(12,j=!1));const E=f.includes("org")?"org":i[0]||"";n(0,c=E),n(2,w=new Set),n(7,U=[]),n(13,h=""),n(14,d=!1),n(10,k=.3),C.length?(n(5,I=0),n(6,W=C.length-1),M(I,W,!0)):(n(3,T=null),n(4,N=null),n(5,I=0),n(6,W=0))}function pt(){c=_i(this),n(0,c),n(32,f),n(8,i),n(8,i),n(32,f)}function K(){k=mi(this.value),n(10,k)}const $=E=>V(E,"start"),_t=E=>V(E,"end");function Q(E){I=E,n(5,I)}function ct(E){W=E,n(6,W)}const wt=E=>V(E,"start"),ht=E=>V(E,"end"),y=()=>q(-7),L=()=>q(-1),ut=()=>q(1),Z=()=>q(7),J=(E,H)=>vr(E,H,r),tt=(E,H)=>eu(E,H,r);return t.$$.update=()=>{t.$$.dirty[0]&128&&new Set(U.map(E=>E.id)),t.$$.dirty[1]&2&&n(8,i=f.filter(E=>E==="org"||E==="cluster")),t.$$.dirty[0]&257|t.$$.dirty[1]&2&&(!f||f.length===0||(i.length&&!i.includes(c)?n(0,c=i[0]):i.length===0&&n(0,c=""))),t.$$.dirty[0]&1|t.$$.dirty[1]&1&&n(1,_=c?[...new Set(a.map(E=>E[c]).filter(E=>E!=null&&E!==""))]:[]),t.$$.dirty[0]&515&&n(21,o=_.map(E=>({value:E,label:vr(c,E,r)}))),t.$$.dirty[0]&31|t.$$.dirty[1]&1&&n(11,R=a.map(E=>({...E,isHighlighted:w.size>0&&w.size<_.length&&w.has(E[c])&&(!T||E.date>=T)&&(!N||E.date<=N)}))),t.$$.dirty[0]&32|t.$$.dirty[1]&4&&C.length>1&&I/(C.length-1)*100,t.$$.dirty[0]&64|t.$$.dirty[1]&4&&C.length>1&&W/(C.length-1)*100,t.$$.dirty[1]&4&&n(20,s=(()=>{if(!C||C.length===0)return 0;const E=u.getTime(),H=C.findIndex(F=>F.getTime()>E);return H===-1?C.length-1:Math.max(0,H-1)})())},n(9,r=/^https?:\/\//i.test(l)),[c,_,w,T,N,I,W,U,i,r,k,R,j,h,d,p,b,S,P,m,s,o,g,v,V,O,q,X,G,et,ft,a,f,C,pt,K,$,_t,Q,ct,wt,ht,y,L,ut,Z,J,tt]}class _u extends Je{constructor(e){super(),je(this,e,gu,pu,Qe,{},null,[-1,-1,-1])}}new _u({target:document.getElementById("app")});
