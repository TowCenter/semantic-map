(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function At(){}function Cr(t){return t()}function qn(){return Object.create(null)}function Wt(t){t.forEach(Cr)}function Ar(t){return typeof t=="function"}function Ke(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function pi(t){return Object.keys(t).length===0}function L(t,e){t.appendChild(e)}function ut(t,e,n){t.insertBefore(e,n||null)}function lt(t){t.parentNode.removeChild(t)}function Dr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Y(t){return document.createElement(t)}function xt(t){return document.createTextNode(t)}function ft(){return xt(" ")}function Rr(){return xt("")}function yt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function D(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mi(t){return t===""?null:+t}function gi(t){return Array.from(t.childNodes)}function Dt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Pn(t,e){t.value=e==null?"":e}function Mt(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Fn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function _i(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function yi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let pe;function de(t){pe=t}function Tr(){if(!pe)throw new Error("Function called outside component initialization");return pe}function kn(t){Tr().$$.on_mount.push(t)}function wi(){const t=Tr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=yi(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const fe=[],Ht=[],De=[],an=[],vi=Promise.resolve();let ln=!1;function bi(){ln||(ln=!0,vi.then(Nr))}function Le(t){De.push(t)}function Vn(t){an.push(t)}const nn=new Set;let be=0;function Nr(){const t=pe;do{for(;be<fe.length;){const e=fe[be];be++,de(e),xi(e.$$)}for(de(null),fe.length=0,be=0;Ht.length;)Ht.pop()();for(let e=0;e<De.length;e+=1){const n=De[e];nn.has(n)||(nn.add(n),n())}De.length=0}while(fe.length);for(;an.length;)an.pop()();ln=!1,nn.clear(),de(t)}function xi(t){if(t.fragment!==null){t.update(),Wt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}const Re=new Set;let Zt;function zr(){Zt={r:0,c:[],p:Zt}}function Ir(){Zt.r||Wt(Zt.c),Zt=Zt.p}function Ut(t,e){t&&t.i&&(Re.delete(t),t.i(e))}function Jt(t,e,n,r){if(t&&t.o){if(Re.has(t))return;Re.add(t),Zt.c.push(()=>{Re.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Xn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Sn(t){t&&t.c()}function Qe(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||Le(()=>{const s=t.$$.on_mount.map(Cr).filter(Ar);t.$$.on_destroy?t.$$.on_destroy.push(...s):Wt(s),t.$$.on_mount=[]}),o.forEach(Le)}function Ge(t,e){const n=t.$$;n.fragment!==null&&(Wt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ki(t,e){t.$$.dirty[0]===-1&&(fe.push(t),bi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ze(t,e,n,r,i,o,s,l=[-1]){const u=pe;de(t);const a=t.$$={fragment:null,ctx:[],props:o,update:At,not_equal:i,bound:qn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:qn(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=n?n(t,e.props||{},(h,g,...y)=>{const S=y.length?y[0]:g;return a.ctx&&i(a.ctx[h],a.ctx[h]=S)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](S),c&&ki(t,h)),g}):[],a.update(),c=!0,Wt(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const h=gi(e.target);a.fragment&&a.fragment.l(h),h.forEach(lt)}else a.fragment&&a.fragment.c();e.intro&&Ut(t.$$.fragment),Qe(t,e.target,e.anchor,e.customElement),Nr()}de(u)}class je{$destroy(){Ge(this,1),this.$destroy=At}$on(e,n){if(!Ar(n))return At;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!pi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(Si,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function c(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(f){var w=Z(f);w.chunkSize=parseInt(w.chunkSize),f.step||f.chunk||(w.chunkSize=null),this._handle=new q(w),(this._handle.streamer=this)._config=w}.call(this,d),this.parseChunk=function(f,w){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let X=this._config.newline;X||(M=this._config.quoteChar||'"',X=this._handle.guessLineEndings(f,M)),f=[...f.split(X).slice(b)].join(X)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(M=this._config.beforeFirstChunk(f))!==void 0&&(f=M),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+f,M=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(f=M.meta.cursor,b=(this._finished||(this._partialLine=b.substring(f-this._baseIndex),this._baseIndex=f),M&&M.data&&(this._rowCount+=M.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:M,workerId:a.WORKER_ID,finished:b});else if(O(this._config.chunk)&&!w){if(this._config.chunk(M,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=M=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.meta=M.meta),this._completed||!b||!O(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(f){O(this._config.error)?this._config.error(f):s&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:f,finished:!1})}}function h(d){var f;(d=d||{}).chunkSize||(d.chunkSize=a.RemoteChunkSize),c.call(this,d),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),o||(f.onload=ot(this._chunkLoaded,this),f.onerror=ot(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var w,b=this._config.downloadRequestHeaders;for(w in b)f.setRequestHeader(w,b[w])}var M;this._config.chunkSize&&(M=this._start+this._config.chunkSize-1,f.setRequestHeader("Range","bytes="+this._start+"-"+M));try{f.send(this._config.downloadRequestBody)}catch(X){this._chunkError(X.message)}o&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize||f.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(f),this.parseChunk(f.responseText)))},this._chunkError=function(w){w=f.statusText||w,this._sendError(new Error(w))}}function g(d){(d=d||{}).chunkSize||(d.chunkSize=a.LocalChunkSize),c.call(this,d);var f,w,b=typeof FileReader<"u";this.stream=function(M){this._input=M,w=M.slice||M.webkitSlice||M.mozSlice,b?((f=new FileReader).onload=ot(this._chunkLoaded,this),f.onerror=ot(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input,X=(this._config.chunkSize&&(X=Math.min(this._start+this._config.chunkSize,this._input.size),M=w.call(M,this._start,X)),f.readAsText(M,this._config.encoding));b||this._chunkLoaded({target:{result:X}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(f.error)}}function y(d){var f;c.call(this,d=d||{}),this.stream=function(w){return f=w,this._nextChunk()},this._nextChunk=function(){var w,b;if(!this._finished)return w=this._config.chunkSize,f=w?(b=f.substring(0,w),f.substring(w)):(b=f,""),this._finished=!f,this.parseChunk(b)}}function S(d){c.call(this,d=d||{});var f=[],w=!0,b=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):w=!0},this._streamData=ot(function(M){try{f.push(typeof M=="string"?M:M.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(X){this._streamError(X)}},this),this._streamError=ot(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=ot(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=ot(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function q(d){var f,w,b,M,X=Math.pow(2,53),m=-X,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,p=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,v=this,T=0,k=0,R=!1,I=!1,H=[],P={data:[],errors:[],meta:{}};function Q(K){return d.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function nt(){if(P&&b&&(ht("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),b=!1),d.skipEmptyLines&&(P.data=P.data.filter(function(mt){return!Q(mt)})),ct()){let mt=function(dt,_){O(d.transformHeader)&&(dt=d.transformHeader(dt,_)),H.push(dt)};var j=mt;if(P)if(Array.isArray(P.data[0])){for(var K=0;ct()&&K<P.data.length;K++)P.data[K].forEach(mt);P.data.splice(0,1)}else P.data.forEach(mt)}function J(mt,dt){for(var _=d.header?{}:[],B=0;B<mt.length;B++){var W=B,N=mt[B],N=((z,V)=>(F=>(d.dynamicTypingFunction&&d.dynamicTyping[F]===void 0&&(d.dynamicTyping[F]=d.dynamicTypingFunction(F)),(d.dynamicTyping[F]||d.dynamicTyping)===!0))(z)?V==="true"||V==="TRUE"||V!=="false"&&V!=="FALSE"&&((F=>{if(A.test(F)&&(F=parseFloat(F),m<F&&F<X))return 1})(V)?parseFloat(V):p.test(V)?new Date(V):V===""?null:V):V)(W=d.header?B>=H.length?"__parsed_extra":H[B]:W,N=d.transform?d.transform(N,W):N);W==="__parsed_extra"?(_[W]=_[W]||[],_[W].push(N)):_[W]=N}return d.header&&(B>H.length?ht("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+B,k+dt):B<H.length&&ht("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+B,k+dt)),_}var pt;P&&(d.header||d.dynamicTyping||d.transform)&&(pt=1,!P.data.length||Array.isArray(P.data[0])?(P.data=P.data.map(J),pt=P.data.length):P.data=J(P.data,0),d.header&&P.meta&&(P.meta.fields=H),k+=pt)}function ct(){return d.header&&H.length===0}function ht(K,J,pt,j){K={type:K,code:J,message:pt},j!==void 0&&(K.row=j),P.errors.push(K)}O(d.step)&&(M=d.step,d.step=function(K){P=K,ct()?nt():(nt(),P.data.length!==0&&(T+=K.data.length,d.preview&&T>d.preview?w.abort():(P.data=P.data[0],M(P,v))))}),this.parse=function(K,J,pt){var j=d.quoteChar||'"',j=(d.newline||(d.newline=this.guessLineEndings(K,j)),b=!1,d.delimiter?O(d.delimiter)&&(d.delimiter=d.delimiter(K),P.meta.delimiter=d.delimiter):((j=((mt,dt,_,B,W)=>{var N,z,V,F;W=W||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var rt=0;rt<W.length;rt++){for(var tt,_t=W[rt],$=0,st=0,G=0,it=(V=void 0,new x({comments:B,delimiter:_t,newline:dt,preview:10}).parse(mt)),bt=0;bt<it.data.length;bt++)_&&Q(it.data[bt])?G++:(tt=it.data[bt].length,st+=tt,V===void 0?V=tt:0<tt&&($+=Math.abs(tt-V),V=tt));0<it.data.length&&(st/=it.data.length-G),(z===void 0||$<=z)&&(F===void 0||F<st)&&1.99<st&&(z=$,N=_t,F=st)}return{successful:!!(d.delimiter=N),bestDelimiter:N}})(K,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess)).successful?d.delimiter=j.bestDelimiter:(b=!0,d.delimiter=a.DefaultDelimiter),P.meta.delimiter=d.delimiter),Z(d));return d.preview&&d.header&&j.preview++,f=K,w=new x(j),P=w.parse(f,J,pt),nt(),R?{meta:{paused:!0}}:P||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,w.abort(),f=O(d.chunk)?"":f.substring(w.getCharIndex())},this.resume=function(){v.streamer._halted?(R=!1,v.streamer.parseChunk(f,!0)):setTimeout(v.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,w.abort(),P.meta.aborted=!0,O(d.complete)&&d.complete(P),f=""},this.guessLineEndings=function(mt,j){mt=mt.substring(0,1048576);var j=new RegExp(E(j)+"([^]*?)"+E(j),"gm"),pt=(mt=mt.replace(j,"")).split("\r"),j=mt.split(`
`),mt=1<j.length&&j[0].length<pt[0].length;if(pt.length===1||mt)return`
`;for(var dt=0,_=0;_<pt.length;_++)pt[_][0]===`
`&&dt++;return dt>=pt.length/2?`\r
`:"\r"}}function E(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(d){var f=(d=d||{}).delimiter,w=d.newline,b=d.comments,M=d.step,X=d.preview,m=d.fastMode,A=null,p=!1,v=d.quoteChar==null?'"':d.quoteChar,T=v;if(d.escapeChar!==void 0&&(T=d.escapeChar),(typeof f!="string"||-1<a.BAD_DELIMITERS.indexOf(f))&&(f=","),b===f)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<a.BAD_DELIMITERS.indexOf(b))&&(b=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var k=0,R=!1;this.parse=function(I,H,P){if(typeof I!="string")throw new Error("Input must be a string");var Q=I.length,nt=f.length,ct=w.length,ht=b.length,K=O(M),J=[],pt=[],j=[],mt=k=0;if(!I)return $();if(m||m!==!1&&I.indexOf(v)===-1){for(var dt=I.split(w),_=0;_<dt.length;_++){if(j=dt[_],k+=j.length,_!==dt.length-1)k+=w.length;else if(P)return $();if(!b||j.substring(0,ht)!==b){if(K){if(J=[],F(j.split(f)),st(),R)return $()}else F(j.split(f));if(X&&X<=_)return J=J.slice(0,X),$(!0)}}return $()}for(var B=I.indexOf(f,k),W=I.indexOf(w,k),N=new RegExp(E(T)+E(v),"g"),z=I.indexOf(v,k);;)if(I[k]===v)for(z=k,k++;;){if((z=I.indexOf(v,z+1))===-1)return P||pt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:k}),tt();if(z===Q-1)return tt(I.substring(k,z).replace(N,v));if(v===T&&I[z+1]===T)z++;else if(v===T||z===0||I[z-1]!==T){B!==-1&&B<z+1&&(B=I.indexOf(f,z+1));var V=rt((W=W!==-1&&W<z+1?I.indexOf(w,z+1):W)===-1?B:Math.min(B,W));if(I.substr(z+1+V,nt)===f){j.push(I.substring(k,z).replace(N,v)),I[k=z+1+V+nt]!==v&&(z=I.indexOf(v,k)),B=I.indexOf(f,k),W=I.indexOf(w,k);break}if(V=rt(W),I.substring(z+1+V,z+1+V+ct)===w){if(j.push(I.substring(k,z).replace(N,v)),_t(z+1+V+ct),B=I.indexOf(f,k),z=I.indexOf(v,k),K&&(st(),R))return $();if(X&&J.length>=X)return $(!0);break}pt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:k}),z++}}else if(b&&j.length===0&&I.substring(k,k+ht)===b){if(W===-1)return $();k=W+ct,W=I.indexOf(w,k),B=I.indexOf(f,k)}else if(B!==-1&&(B<W||W===-1))j.push(I.substring(k,B)),k=B+nt,B=I.indexOf(f,k);else{if(W===-1)break;if(j.push(I.substring(k,W)),_t(W+ct),K&&(st(),R))return $();if(X&&J.length>=X)return $(!0)}return tt();function F(G){J.push(G),mt=k}function rt(G){var it=0;return it=G!==-1&&(G=I.substring(z+1,G))&&G.trim()===""?G.length:it}function tt(G){return P||(G===void 0&&(G=I.substring(k)),j.push(G),k=Q,F(j),K&&st()),$()}function _t(G){k=G,F(j),j=[],W=I.indexOf(w,k)}function $(G){if(d.header&&!H&&J.length&&!p){var it=J[0],bt={},Et=new Set(it);let wt=!1;for(let gt=0;gt<it.length;gt++){let vt=it[gt];if(bt[vt=O(d.transformHeader)?d.transformHeader(vt,gt):vt]){let St,Nt=bt[vt];for(;St=vt+"_"+Nt,Nt++,Et.has(St););Et.add(St),it[gt]=St,bt[vt]++,wt=!0,(A=A===null?{}:A)[St]=vt}else bt[vt]=1,it[gt]=vt;Et.add(vt)}wt&&console.warn("Duplicate headers found and renamed."),p=!0}return{data:J,errors:pt,meta:{delimiter:f,linebreak:w,aborted:R,truncated:!!G,cursor:mt+(H||0),renamedHeaders:A}}}function st(){M($()),J=[],pt=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return k}}function C(d){var f=d.data,w=l[f.workerId],b=!1;if(f.error)w.userError(f.error,f.file);else if(f.results&&f.results.data){var M={abort:function(){b=!0,U(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:et,resume:et};if(O(w.userStep)){for(var X=0;X<f.results.data.length&&(w.userStep({data:f.results.data[X],errors:f.results.errors,meta:f.results.meta},M),!b);X++);delete f.results}else O(w.userChunk)&&(w.userChunk(f.results,M,f.file),delete f.results)}f.finished&&!b&&U(f.workerId,f.results)}function U(d,f){var w=l[d];O(w.userComplete)&&w.userComplete(f),w.terminate(),delete l[d]}function et(){throw new Error("Not implemented.")}function Z(d){if(typeof d!="object"||d===null)return d;var f,w=Array.isArray(d)?[]:{};for(f in d)w[f]=Z(d[f]);return w}function ot(d,f){return function(){d.apply(f,arguments)}}function O(d){return typeof d=="function"}return a.parse=function(d,f){var w=(f=f||{}).dynamicTyping||!1;if(O(w)&&(f.dynamicTypingFunction=w,w={}),f.dynamicTyping=w,f.transform=!!O(f.transform)&&f.transform,!f.worker||!a.WORKERS_SUPPORTED)return w=null,a.NODE_STREAM_INPUT,typeof d=="string"?(d=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(d),w=new(f.download?h:y)(f)):d.readable===!0&&O(d.read)&&O(d.on)?w=new S(f):(r.File&&d instanceof File||d instanceof Object)&&(w=new g(f)),w.stream(d);(w=(()=>{var b;return!!a.WORKERS_SUPPORTED&&(b=(()=>{var M=r.URL||r.webkitURL||null,X=n.toString();return a.BLOB_URL||(a.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",X,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=C,b.id=u++,l[b.id]=b)})()).userStep=f.step,w.userChunk=f.chunk,w.userComplete=f.complete,w.userError=f.error,f.step=O(f.step),f.chunk=O(f.chunk),f.complete=O(f.complete),f.error=O(f.error),delete f.worker,w.postMessage({input:d,config:f,workerId:w.id})},a.unparse=function(d,f){var w=!1,b=!0,M=",",X=`\r
`,m='"',A=m+m,p=!1,v=null,T=!1,k=((()=>{if(typeof f=="object"){if(typeof f.delimiter!="string"||a.BAD_DELIMITERS.filter(function(H){return f.delimiter.indexOf(H)!==-1}).length||(M=f.delimiter),typeof f.quotes!="boolean"&&typeof f.quotes!="function"&&!Array.isArray(f.quotes)||(w=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(p=f.skipEmptyLines),typeof f.newline=="string"&&(X=f.newline),typeof f.quoteChar=="string"&&(m=f.quoteChar),typeof f.header=="boolean"&&(b=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");v=f.columns}f.escapeChar!==void 0&&(A=f.escapeChar+m),f.escapeFormulae instanceof RegExp?T=f.escapeFormulae:typeof f.escapeFormulae=="boolean"&&f.escapeFormulae&&(T=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(m),"g"));if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return R(null,d,p);if(typeof d[0]=="object")return R(v||Object.keys(d[0]),d,p)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||v),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),R(d.fields||[],d.data||[],p);throw new Error("Unable to serialize unrecognized input");function R(H,P,Q){var nt="",ct=(typeof H=="string"&&(H=JSON.parse(H)),typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(H)&&0<H.length),ht=!Array.isArray(P[0]);if(ct&&b){for(var K=0;K<H.length;K++)0<K&&(nt+=M),nt+=I(H[K],K);0<P.length&&(nt+=X)}for(var J=0;J<P.length;J++){var pt=(ct?H:P[J]).length,j=!1,mt=ct?Object.keys(P[J]).length===0:P[J].length===0;if(Q&&!ct&&(j=Q==="greedy"?P[J].join("").trim()==="":P[J].length===1&&P[J][0].length===0),Q==="greedy"&&ct){for(var dt=[],_=0;_<pt;_++){var B=ht?H[_]:_;dt.push(P[J][B])}j=dt.join("").trim()===""}if(!j){for(var W=0;W<pt;W++){0<W&&!mt&&(nt+=M);var N=ct&&ht?H[W]:W;nt+=I(P[J][N],W)}J<P.length-1&&(!Q||0<pt&&!mt)&&(nt+=X)}}return nt}function I(H,P){var Q,nt;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(nt=!1,T&&typeof H=="string"&&T.test(H)&&(H="'"+H,nt=!0),Q=H.toString().replace(k,A),(nt=nt||w===!0||typeof w=="function"&&w(H,P)||Array.isArray(w)&&w[P]||((ct,ht)=>{for(var K=0;K<ht.length;K++)if(-1<ct.indexOf(ht[K]))return!0;return!1})(Q,a.BAD_DELIMITERS)||-1<Q.indexOf(M)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?m+Q+m:Q)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!o&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=x,a.ParserHandle=q,a.NetworkStreamer=h,a.FileStreamer=g,a.StringStreamer=y,a.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(d){var f=d.config||{},w=[];return this.each(function(X){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var m=0;m<this.files.length;m++)w.push({file:this.files[m],inputElem:this,instanceConfig:i.extend({},f)})}),b(),this;function b(){if(w.length===0)O(d.complete)&&d.complete();else{var X,m,A,p,v=w[0];if(O(d.before)){var T=d.before(v.file,v.inputElem);if(typeof T=="object"){if(T.action==="abort")return X="AbortError",m=v.file,A=v.inputElem,p=T.reason,void(O(d.error)&&d.error({name:X},m,A,p));if(T.action==="skip")return void M();typeof T.config=="object"&&(v.instanceConfig=i.extend(v.instanceConfig,T.config))}else if(T==="skip")return void M()}var k=v.instanceConfig.complete;v.instanceConfig.complete=function(R){O(k)&&k(R,v.file,v.inputElem),M()},a.parse(v.file,v.instanceConfig)}}function M(){w.splice(0,1),b()}}),s&&(r.onmessage=function(d){d=d.data,a.WORKER_ID===void 0&&d&&(a.WORKER_ID=d.workerId),typeof d.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(d.input,d.config),finished:!0}):(r.File&&d.input instanceof File||d.input instanceof Object)&&(d=a.parse(d.input,d.config))&&r.postMessage({workerId:a.WORKER_ID,results:d,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(g.prototype=Object.create(c.prototype)).constructor=g,(y.prototype=Object.create(y.prototype)).constructor=y,(S.prototype=Object.create(c.prototype)).constructor=S,a})})(Or);const Mi=Or.exports;function Te(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ei(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lr(t){let e,n,r;t.length!==2?(e=Te,n=(l,u)=>Te(t(l),u),r=(l,u)=>t(l)-u):(e=t===Te||t===Ei?t:Ci,n=t,r=t);function i(l,u,a=0,c=l.length){if(a<c){if(e(u,u)!==0)return c;do{const h=a+c>>>1;n(l[h],u)<0?a=h+1:c=h}while(a<c)}return a}function o(l,u,a=0,c=l.length){if(a<c){if(e(u,u)!==0)return c;do{const h=a+c>>>1;n(l[h],u)<=0?a=h+1:c=h}while(a<c)}return a}function s(l,u,a=0,c=l.length){const h=i(l,u,a,c-1);return h>a&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:s,right:o}}function Ci(){return 0}function Ai(t){return t===null?NaN:+t}const Di=Lr(Te),Ri=Di.right;Lr(Ai).center;const Ti=Ri;class Bn extends Map{constructor(e,n=Ii){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Hn(this,e))}has(e){return super.has(Hn(this,e))}set(e,n){return super.set(Ni(this,e),n)}delete(e){return super.delete(zi(this,e))}}function Hn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ni({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zi({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ii(t){return t!==null&&typeof t=="object"?t.valueOf():t}var un=Math.sqrt(50),fn=Math.sqrt(10),cn=Math.sqrt(2);function Oi(t,e,n){var r,i=-1,o,s,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(l=qr(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,s=new Array(o=a-u+1);++i<o;)s[i]=(u+i)/l}return r&&s.reverse(),s}function qr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=un?10:o>=fn?5:o>=cn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=un?10:o>=fn?5:o>=cn?2:1)}function Li(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=un?i*=10:o>=fn?i*=5:o>=cn&&(i*=2),e<t?-i:i}function Un(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Yn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Wn=Symbol("implicit");function Fr(){var t=new Bn,e=[],n=[],r=Wn;function i(o){let s=t.get(o);if(s===void 0){if(r!==Wn)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Bn;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Fr(e,n).unknown(r)},Pr.apply(i,arguments),i}function Mn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ye(){}var me=.7,qe=1/me,ie="\\s*([+-]?\\d+)\\s*",ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qi=/^#([0-9a-f]{3,8})$/,Pi=new RegExp(`^rgb\\(${ie},${ie},${ie}\\)$`),Fi=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),Vi=new RegExp(`^rgba\\(${ie},${ie},${ie},${ge}\\)$`),Xi=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${ge}\\)$`),Bi=new RegExp(`^hsl\\(${ge},${Pt},${Pt}\\)$`),Hi=new RegExp(`^hsla\\(${ge},${Pt},${Pt},${ge}\\)$`),Kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mn(ye,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qn,formatHex:Qn,formatHex8:Ui,formatHsl:Yi,formatRgb:Gn,toString:Gn});function Qn(){return this.rgb().formatHex()}function Ui(){return this.rgb().formatHex8()}function Yi(){return Xr(this).formatHsl()}function Gn(){return this.rgb().formatRgb()}function te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zn(e):n===3?new Ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pi.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Fi.exec(t))?new Ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vi.exec(t))?xe(e[1],e[2],e[3],e[4]):(e=Xi.exec(t))?xe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bi.exec(t))?$n(e[1],e[2]/100,e[3]/100,1):(e=Hi.exec(t))?$n(e[1],e[2]/100,e[3]/100,e[4]):Kn.hasOwnProperty(t)?Zn(Kn[t]):t==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Zn(t){return new Ct(t>>16&255,t>>8&255,t&255,1)}function xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function Wi(t){return t instanceof ye||(t=te(t)),t?(t=t.rgb(),new Ct(t.r,t.g,t.b,t.opacity)):new Ct}function hn(t,e,n,r){return arguments.length===1?Wi(t):new Ct(t,e,n,r==null?1:r)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Mn(Ct,hn,Vr(ye,{brighter(t){return t=t==null?qe:Math.pow(qe,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct($t(this.r),$t(this.g),$t(this.b),Pe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jn,formatHex:jn,formatHex8:Ki,formatRgb:Jn,toString:Jn}));function jn(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}`}function Ki(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}${jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jn(){const t=Pe(this.opacity);return`${t===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${t===1?")":`, ${t})`}`}function Pe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jt(t){return t=$t(t),(t<16?"0":"")+t.toString(16)}function $n(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Lt(t,e,n,r)}function Xr(t){if(t instanceof Lt)return new Lt(t.h,t.s,t.l,t.opacity);if(t instanceof ye||(t=te(t)),!t)return new Lt;if(t instanceof Lt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Lt(s,l,u,t.opacity)}function Qi(t,e,n,r){return arguments.length===1?Xr(t):new Lt(t,e,n,r==null?1:r)}function Lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Mn(Lt,Qi,Vr(ye,{brighter(t){return t=t==null?qe:Math.pow(qe,t),new Lt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?me:Math.pow(me,t),new Lt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(rn(t>=240?t-240:t+120,i,r),rn(t,i,r),rn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Lt(tr(this.h),ke(this.s),ke(this.l),Pe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pe(this.opacity);return`${t===1?"hsl(":"hsla("}${tr(this.h)}, ${ke(this.s)*100}%, ${ke(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tr(t){return t=(t||0)%360,t<0?t+360:t}function ke(t){return Math.max(0,Math.min(1,t||0))}function rn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const En=t=>()=>t;function Gi(t,e){return function(n){return t+n*e}}function Zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ji(t){return(t=+t)==1?Br:function(e,n){return n-e?Zi(e,n,t):En(isNaN(e)?n:e)}}function Br(t,e){var n=e-t;return n?Gi(t,n):En(isNaN(t)?e:t)}const Fe=function t(e){var n=ji(e);function r(i,o){var s=n((i=hn(i)).r,(o=hn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),a=Br(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=u(c),i.opacity=a(c),i+""}}return r.gamma=t,r}(1);function Ji(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $i(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function to(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cn(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function eo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ot(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function no(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,on=new RegExp(dn.source,"g");function ro(t){return function(){return t}}function io(t){return function(e){return t(e)+""}}function Hr(t,e){var n=dn.lastIndex=on.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=dn.exec(t))&&(i=on.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Ot(r,i)})),n=on.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?io(u[0].x):ro(e):(e=u.length,function(a){for(var c=0,h;c<e;++c)l[(h=u[c]).i]=h.x(a);return l.join("")})}function Cn(t,e){var n=typeof e,r;return e==null||n==="boolean"?En(e):(n==="number"?Ot:n==="string"?(r=te(e))?(e=r,Fe):Hr:e instanceof te?Fe:e instanceof Date?eo:$i(e)?Ji:Array.isArray(e)?to:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?no:Ot)(t,e)}function oo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var er=180/Math.PI,pn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ur(t,e,n,r,i,o){var s,l,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*er,skewX:Math.atan(u)*er,scaleX:s,scaleY:l}}var Se;function so(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?pn:Ur(e.a,e.b,e.c,e.d,e.e,e.f)}function ao(t){return t==null||(Se||(Se=document.createElementNS("http://www.w3.org/2000/svg","g")),Se.setAttribute("transform",t),!(t=Se.transform.baseVal.consolidate()))?pn:(t=t.matrix,Ur(t.a,t.b,t.c,t.d,t.e,t.f))}function Yr(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function o(a,c,h,g,y,S){if(a!==h||c!==g){var q=y.push("translate(",null,e,null,n);S.push({i:q-4,x:Ot(a,h)},{i:q-2,x:Ot(c,g)})}else(h||g)&&y.push("translate("+h+e+g+n)}function s(a,c,h,g){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),g.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ot(a,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(a,c,h,g){a!==c?g.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ot(a,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(a,c,h,g,y,S){if(a!==h||c!==g){var q=y.push(i(y)+"scale(",null,",",null,")");S.push({i:q-4,x:Ot(a,h)},{i:q-2,x:Ot(c,g)})}else(h!==1||g!==1)&&y.push(i(y)+"scale("+h+","+g+")")}return function(a,c){var h=[],g=[];return a=t(a),c=t(c),o(a.translateX,a.translateY,c.translateX,c.translateY,h,g),s(a.rotate,c.rotate,h,g),l(a.skewX,c.skewX,h,g),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,h,g),a=c=null,function(y){for(var S=-1,q=g.length,E;++S<q;)h[(E=g[S]).i]=E.x(y);return h.join("")}}}var lo=Yr(so,"px, ","px)","deg)"),uo=Yr(ao,", ",")",")"),fo=1e-12;function nr(t){return((t=Math.exp(t))+1/t)/2}function co(t){return((t=Math.exp(t))-1/t)/2}function ho(t){return((t=Math.exp(2*t))-1)/(t+1)}const po=function t(e,n,r){function i(o,s){var l=o[0],u=o[1],a=o[2],c=s[0],h=s[1],g=s[2],y=c-l,S=h-u,q=y*y+S*S,E,x;if(q<fo)x=Math.log(g/a)/e,E=function(O){return[l+O*y,u+O*S,a*Math.exp(e*O*x)]};else{var C=Math.sqrt(q),U=(g*g-a*a+r*q)/(2*a*n*C),et=(g*g-a*a-r*q)/(2*g*n*C),Z=Math.log(Math.sqrt(U*U+1)-U),ot=Math.log(Math.sqrt(et*et+1)-et);x=(ot-Z)/e,E=function(O){var d=O*x,f=nr(Z),w=a/(n*C)*(f*ho(e*d+Z)-co(Z));return[l+w*y,u+w*S,a*f/nr(e*d+Z)]}}return E.duration=x*1e3*e/Math.SQRT2,E}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,u=l*l;return t(s,l,u)},i}(Math.SQRT2,2,4);function mo(t){return function(){return t}}function go(t){return+t}var rr=[0,1];function ne(t){return t}function mn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:mo(isNaN(e)?NaN:.5)}function _o(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yo(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=mn(i,r),o=n(s,o)):(r=mn(r,i),o=n(o,s)),function(l){return o(r(l))}}function wo(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=mn(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var u=Ti(t,l,1,r)-1;return o[u](i[u](l))}}function vo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bo(){var t=rr,e=rr,n=Cn,r,i,o,s=ne,l,u,a;function c(){var g=Math.min(t.length,e.length);return s!==ne&&(s=_o(t[0],t[g-1])),l=g>2?wo:yo,u=a=null,h}function h(g){return g==null||isNaN(g=+g)?o:(u||(u=l(t.map(r),e,n)))(r(s(g)))}return h.invert=function(g){return s(i((a||(a=l(e,t.map(r),Ot)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,go),c()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),c()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),n=oo,c()},h.clamp=function(g){return arguments.length?(s=g?!0:ne,c()):s!==ne},h.interpolate=function(g){return arguments.length?(n=g,c()):n},h.unknown=function(g){return arguments.length?(o=g,h):o},function(g,y){return r=g,i=y,c()}}function xo(){return bo()(ne,ne)}function ko(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ve(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function oe(t){return t=Ve(Math.abs(t)),t?t[1]:NaN}function So(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Mo(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(t){if(!(e=Eo.exec(t)))throw new Error("invalid format: "+t);var e;return new An({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xe.prototype=An.prototype;function An(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}An.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Co(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wr;function Ao(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Wr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ve(t,Math.max(0,e+o-1))[0]}function ir(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const or={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ko,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ir(t*100,e),r:ir,s:Ao,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sr(t){return t}var ar=Array.prototype.map,lr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Do(t){var e=t.grouping===void 0||t.thousands===void 0?sr:So(ar.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?sr:Mo(ar.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(h){h=Xe(h);var g=h.fill,y=h.align,S=h.sign,q=h.symbol,E=h.zero,x=h.width,C=h.comma,U=h.precision,et=h.trim,Z=h.type;Z==="n"?(C=!0,Z="g"):or[Z]||(U===void 0&&(U=12),et=!0,Z="g"),(E||g==="0"&&y==="=")&&(E=!0,g="0",y="=");var ot=q==="$"?n:q==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():"",O=q==="$"?r:/[%p]/.test(Z)?s:"",d=or[Z],f=/[defgprs%]/.test(Z);U=U===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function w(b){var M=ot,X=O,m,A,p;if(Z==="c")X=d(b)+X,b="";else{b=+b;var v=b<0||1/b<0;if(b=isNaN(b)?u:d(Math.abs(b),U),et&&(b=Co(b)),v&&+b==0&&S!=="+"&&(v=!1),M=(v?S==="("?S:l:S==="-"||S==="("?"":S)+M,X=(Z==="s"?lr[8+Wr/3]:"")+X+(v&&S==="("?")":""),f){for(m=-1,A=b.length;++m<A;)if(p=b.charCodeAt(m),48>p||p>57){X=(p===46?i+b.slice(m+1):b.slice(m))+X,b=b.slice(0,m);break}}}C&&!E&&(b=e(b,1/0));var T=M.length+b.length+X.length,k=T<x?new Array(x-T+1).join(g):"";switch(C&&E&&(b=e(k+b,k.length?x-X.length:1/0),k=""),y){case"<":b=M+b+X+k;break;case"=":b=M+k+b+X;break;case"^":b=k.slice(0,T=k.length>>1)+M+b+X+k.slice(T);break;default:b=k+M+b+X;break}return o(b)}return w.toString=function(){return h+""},w}function c(h,g){var y=a((h=Xe(h),h.type="f",h)),S=Math.max(-8,Math.min(8,Math.floor(oe(g)/3)))*3,q=Math.pow(10,-S),E=lr[8+S/3];return function(x){return y(q*x)+E}}return{format:a,formatPrefix:c}}var Me,Kr,Qr;Ro({thousands:",",grouping:[3],currency:["$",""]});function Ro(t){return Me=Do(t),Kr=Me.format,Qr=Me.formatPrefix,Me}function To(t){return Math.max(0,-oe(Math.abs(t)))}function No(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oe(e)/3)))*3-oe(Math.abs(t)))}function zo(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oe(e)-oe(t))+1}function Io(t,e,n,r){var i=Li(t,e,n),o;switch(r=Xe(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=No(i,s))&&(r.precision=o),Qr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zo(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=To(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kr(r)}function Oo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Oi(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return Io(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],u,a,c=10;for(l<s&&(a=s,s=l,l=a,a=i,i=o,o=a);c-- >0;){if(a=qr(s,l,n),a===u)return r[i]=s,r[o]=l,e(r);if(a>0)s=Math.floor(s/a)*a,l=Math.ceil(l/a)*a;else if(a<0)s=Math.ceil(s*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function gn(){var t=xo();return t.copy=function(){return vo(t,gn())},Pr.apply(t,arguments),Oo(t)}function Lo(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const qo=Lo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Po(t){let e;return{c(){e=Y("p"),e.textContent="Hover over a circle to see details here.",D(e,"class","svelte-b094ih")},m(n,r){ut(n,e,r)},p:At,d(n){n&&lt(e)}}}function Fo(t){let e,n=t[0].title+"",r,i,o,s=(t[5]?t[5](t[1],t[0][t[1]]):t[0][t[1]])+"",l,u,a,c=t[0].date.toISOString().split("T")[0]+"",h,g,y,S,q=t[0].text+"",E,x=t[6]&&ur(t);return{c(){e=Y("h1"),r=xt(n),i=ft(),o=Y("span"),l=xt(s),u=ft(),a=Y("h2"),h=xt(c),g=ft(),x&&x.c(),y=ft(),S=Y("p"),E=xt(q),D(e,"class","svelte-b094ih"),Mt(o,"background",t[2](t[0][t[1]])),D(o,"class","svelte-b094ih"),D(a,"class","svelte-b094ih"),D(S,"class","svelte-b094ih")},m(C,U){ut(C,e,U),L(e,r),ut(C,i,U),ut(C,o,U),L(o,l),ut(C,u,U),ut(C,a,U),L(a,h),ut(C,g,U),x&&x.m(C,U),ut(C,y,U),ut(C,S,U),L(S,E)},p(C,U){U&1&&n!==(n=C[0].title+"")&&Dt(r,n),U&35&&s!==(s=(C[5]?C[5](C[1],C[0][C[1]]):C[0][C[1]])+"")&&Dt(l,s),U&7&&Mt(o,"background",C[2](C[0][C[1]])),U&1&&c!==(c=C[0].date.toISOString().split("T")[0]+"")&&Dt(h,c),C[6]?x?x.p(C,U):(x=ur(C),x.c(),x.m(y.parentNode,y)):x&&(x.d(1),x=null),U&1&&q!==(q=C[0].text+"")&&Dt(E,q)},d(C){C&&lt(e),C&&lt(i),C&&lt(o),C&&lt(u),C&&lt(a),C&&lt(g),x&&x.d(C),C&&lt(y),C&&lt(S)}}}function ur(t){let e=t[6](t[1],t[0][t[1]]),n,r=e&&fr(t);return{c(){r&&r.c(),n=Rr()},m(i,o){r&&r.m(i,o),ut(i,n,o)},p(i,o){o&67&&(e=i[6](i[1],i[0][i[1]])),e?r?r.p(i,o):(r=fr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&lt(n)}}}function fr(t){let e,n,r=t[6](t[1],t[0][t[1]])+"",i;return{c(){e=Y("p"),n=Y("em"),i=xt(r),D(e,"class","svelte-b094ih")},m(o,s){ut(o,e,s),L(e,n),L(n,i)},p(o,s){s&67&&r!==(r=o[6](o[1],o[0][o[1]])+"")&&Dt(i,r)},d(o){o&&lt(e)}}}function Vo(t){let e;function n(o,s){return o[0]?Fo:Po}let r=n(t),i=r(t);return{c(){e=Y("div"),i.c(),D(e,"class","detail-card svelte-b094ih"),Mt(e,"left",t[3]+"px"),Mt(e,"top",t[4]+"px")},m(o,s){ut(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&8&&Mt(e,"left",o[3]+"px"),s&16&&Mt(e,"top",o[4]+"px")},i:At,o:At,d(o){o&&lt(e),i.d()}}}function Xo(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:o}=e,{colorScale:s}=e,{posX:l=0}=e,{posY:u=0}=e,{labelOverride:a=null}=e,{descriptionOverride:c=null}=e;return kn(()=>{s.domain(o.map(h=>h[i]))}),t.$$set=h=>{"hoveredData"in h&&n(0,r=h.hoveredData),"domainColumn"in h&&n(1,i=h.domainColumn),"data"in h&&n(7,o=h.data),"colorScale"in h&&n(2,s=h.colorScale),"posX"in h&&n(3,l=h.posX),"posY"in h&&n(4,u=h.posY),"labelOverride"in h&&n(5,a=h.labelOverride),"descriptionOverride"in h&&n(6,c=h.descriptionOverride)},[r,i,s,l,u,a,c,o]}class Bo extends je{constructor(e){super(),Ze(this,e,Xo,Vo,Ke,{hoveredData:0,domainColumn:1,data:7,colorScale:2,posX:3,posY:4,labelOverride:5,descriptionOverride:6})}}var Ho={value:()=>{}};function Dn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ne(n)}function Ne(t){this._=t}function Uo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ne.prototype=Dn.prototype={constructor:Ne,on:function(t,e){var n=this._,r=Uo(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Yo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=cr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ne(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Yo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function cr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ho,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var _n="http://www.w3.org/1999/xhtml";const hr={svg:"http://www.w3.org/2000/svg",xhtml:_n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Je(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),hr.hasOwnProperty(e)?{space:hr[e],local:t}:t}function Wo(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_n&&e.documentElement.namespaceURI===_n?e.createElement(t):e.createElementNS(n,t)}}function Ko(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gr(t){var e=Je(t);return(e.local?Ko:Wo)(e)}function Qo(){}function Rn(t){return t==null?Qo:function(){return this.querySelector(t)}}function Go(t){typeof t!="function"&&(t=Rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),u,a,c=0;c<s;++c)(u=o[c])&&(a=t.call(u,u.__data__,c,o))&&("__data__"in u&&(a.__data__=u.__data__),l[c]=a);return new Rt(r,this._parents)}function Zo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function jo(){return[]}function Zr(t){return t==null?jo:function(){return this.querySelectorAll(t)}}function Jo(t){return function(){return Zo(t.apply(this,arguments))}}function $o(t){typeof t=="function"?t=Jo(t):t=Zr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&(r.push(t.call(u,u.__data__,a,s)),i.push(u));return new Rt(r,i)}function jr(t){return function(){return this.matches(t)}}function Jr(t){return function(e){return e.matches(t)}}var ts=Array.prototype.find;function es(t){return function(){return ts.call(this.children,t)}}function ns(){return this.firstElementChild}function rs(t){return this.select(t==null?ns:es(typeof t=="function"?t:Jr(t)))}var is=Array.prototype.filter;function os(){return Array.from(this.children)}function ss(t){return function(){return is.call(this.children,t)}}function as(t){return this.selectAll(t==null?os:ss(typeof t=="function"?t:Jr(t)))}function ls(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Rt(r,this._parents)}function $r(t){return new Array(t.length)}function us(){return new Rt(this._enter||this._groups.map($r),this._parents)}function Be(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Be.prototype={constructor:Be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fs(t){return function(){return t}}function cs(t,e,n,r,i,o){for(var s=0,l,u=e.length,a=o.length;s<a;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Be(t,o[s]);for(;s<u;++s)(l=e[s])&&(i[s]=l)}function hs(t,e,n,r,i,o,s){var l,u,a=new Map,c=e.length,h=o.length,g=new Array(c),y;for(l=0;l<c;++l)(u=e[l])&&(g[l]=y=s.call(u,u.__data__,l,e)+"",a.has(y)?i[l]=u:a.set(y,u));for(l=0;l<h;++l)y=s.call(t,o[l],l,o)+"",(u=a.get(y))?(r[l]=u,u.__data__=o[l],a.delete(y)):n[l]=new Be(t,o[l]);for(l=0;l<c;++l)(u=e[l])&&a.get(g[l])===u&&(i[l]=u)}function ds(t){return t.__data__}function ps(t,e){if(!arguments.length)return Array.from(this,ds);var n=e?hs:cs,r=this._parents,i=this._groups;typeof t!="function"&&(t=fs(t));for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),a=0;a<o;++a){var c=r[a],h=i[a],g=h.length,y=ms(t.call(c,c&&c.__data__,a,r)),S=y.length,q=l[a]=new Array(S),E=s[a]=new Array(S),x=u[a]=new Array(g);n(c,h,q,E,x,y,e);for(var C=0,U=0,et,Z;C<S;++C)if(et=q[C]){for(C>=U&&(U=C+1);!(Z=E[U])&&++U<S;);et._next=Z||null}}return s=new Rt(s,r),s._enter=l,s._exit=u,s}function ms(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gs(){return new Rt(this._exit||this._groups.map($r),this._parents)}function _s(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ys(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),u=0;u<s;++u)for(var a=n[u],c=r[u],h=a.length,g=l[u]=new Array(h),y,S=0;S<h;++S)(y=a[S]||c[S])&&(g[S]=y);for(;u<i;++u)l[u]=n[u];return new Rt(l,this._parents)}function ws(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function vs(t){t||(t=bs);function e(h,g){return h&&g?t(h.__data__,g.__data__):!h-!g}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,u=i[o]=new Array(l),a,c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new Rt(i,this._parents).order()}function bs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ks(){return Array.from(this)}function Ss(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ms(){let t=0;for(const e of this)++t;return t}function Es(){return!this.node()}function Cs(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function As(t){return function(){this.removeAttribute(t)}}function Ds(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rs(t,e){return function(){this.setAttribute(t,e)}}function Ts(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ns(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function zs(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Is(t,e){var n=Je(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ds:As:typeof e=="function"?n.local?zs:Ns:n.local?Ts:Rs)(n,e))}function ti(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Os(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qs(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ps(t,e,n){return arguments.length>1?this.each((e==null?Os:typeof e=="function"?qs:Ls)(t,e,n==null?"":n)):se(this.node(),t)}function se(t,e){return t.style.getPropertyValue(e)||ti(t).getComputedStyle(t,null).getPropertyValue(e)}function Fs(t){return function(){delete this[t]}}function Vs(t,e){return function(){this[t]=e}}function Xs(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Bs(t,e){return arguments.length>1?this.each((e==null?Fs:typeof e=="function"?Xs:Vs)(t,e)):this.node()[t]}function ei(t){return t.trim().split(/^|\s+/)}function Tn(t){return t.classList||new ni(t)}function ni(t){this._node=t,this._names=ei(t.getAttribute("class")||"")}ni.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ri(t,e){for(var n=Tn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ii(t,e){for(var n=Tn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hs(t){return function(){ri(this,t)}}function Us(t){return function(){ii(this,t)}}function Ys(t,e){return function(){(e.apply(this,arguments)?ri:ii)(this,t)}}function Ws(t,e){var n=ei(t+"");if(arguments.length<2){for(var r=Tn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ys:e?Hs:Us)(n,e))}function Ks(){this.textContent=""}function Qs(t){return function(){this.textContent=t}}function Gs(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Zs(t){return arguments.length?this.each(t==null?Ks:(typeof t=="function"?Gs:Qs)(t)):this.node().textContent}function js(){this.innerHTML=""}function Js(t){return function(){this.innerHTML=t}}function $s(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function ta(t){return arguments.length?this.each(t==null?js:(typeof t=="function"?$s:Js)(t)):this.node().innerHTML}function ea(){this.nextSibling&&this.parentNode.appendChild(this)}function na(){return this.each(ea)}function ra(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ia(){return this.each(ra)}function oa(t){var e=typeof t=="function"?t:Gr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sa(){return null}function aa(t,e){var n=typeof t=="function"?t:Gr(t),r=e==null?sa:typeof e=="function"?e:Rn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function la(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.each(la)}function fa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ca(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ha(t){return this.select(t?ca:fa)}function da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pa(t){return function(e){t.call(this,e,this.__data__)}}function ma(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ga(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function _a(t,e,n){return function(){var r=this.__on,i,o=pa(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ya(t,e,n){var r=ma(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,c;u<a;++u)for(i=0,c=l[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?_a:ga,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function oi(t,e,n){var r=ti(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function wa(t,e){return function(){return oi(this,t,e)}}function va(t,e){return function(){return oi(this,t,e.apply(this,arguments))}}function ba(t,e){return this.each((typeof e=="function"?va:wa)(t,e))}function*xa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var si=[null];function Rt(t,e){this._groups=t,this._parents=e}function we(){return new Rt([[document.documentElement]],si)}function ka(){return this}Rt.prototype=we.prototype={constructor:Rt,select:Go,selectAll:$o,selectChild:rs,selectChildren:as,filter:ls,data:ps,enter:us,exit:gs,join:_s,merge:ys,selection:ka,order:ws,sort:vs,call:xs,nodes:ks,node:Ss,size:Ms,empty:Es,each:Cs,attr:Is,style:Ps,property:Bs,classed:Ws,text:Zs,html:ta,raise:na,lower:ia,append:oa,insert:aa,remove:ua,clone:ha,datum:da,on:ya,dispatch:ba,[Symbol.iterator]:xa};function Qt(t){return typeof t=="string"?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],si)}function Sa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Gt(t,e){if(t=Sa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const yn={capture:!0,passive:!1};function wn(t){t.preventDefault(),t.stopImmediatePropagation()}function Ma(t){var e=t.document.documentElement,n=Qt(t).on("dragstart.drag",wn,yn);"onselectstart"in e?n.on("selectstart.drag",wn,yn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ea(t,e){var n=t.document.documentElement,r=Qt(t).on("dragstart.drag",null);e&&(r.on("click.drag",wn,yn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ae=0,ce=0,le=0,ai=1e3,He,he,Ue=0,ee=0,$e=0,_e=typeof performance=="object"&&performance.now?performance:Date,li=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Nn(){return ee||(li(Ca),ee=_e.now()+$e)}function Ca(){ee=0}function Ye(){this._call=this._time=this._next=null}Ye.prototype=ui.prototype={constructor:Ye,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Nn():+n)+(e==null?0:+e),!this._next&&he!==this&&(he?he._next=this:He=this,he=this),this._call=t,this._time=n,vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,vn())}};function ui(t,e,n){var r=new Ye;return r.restart(t,e,n),r}function Aa(){Nn(),++ae;for(var t=He,e;t;)(e=ee-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ae}function dr(){ee=(Ue=_e.now())+$e,ae=ce=0;try{Aa()}finally{ae=0,Ra(),ee=0}}function Da(){var t=_e.now(),e=t-Ue;e>ai&&($e-=e,Ue=t)}function Ra(){for(var t,e=He,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:He=n);he=t,vn(r)}function vn(t){if(!ae){ce&&(ce=clearTimeout(ce));var e=t-ee;e>24?(t<1/0&&(ce=setTimeout(dr,t-_e.now()-$e)),le&&(le=clearInterval(le))):(le||(Ue=_e.now(),le=setInterval(Da,ai)),ae=1,li(dr))}}function pr(t,e,n){var r=new Ye;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ta=Dn("start","end","cancel","interrupt"),Na=[],fi=0,mr=1,bn=2,ze=3,gr=4,xn=5,Ie=6;function tn(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;za(t,n,{name:e,index:r,group:i,on:Ta,tween:Na,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fi})}function zn(t,e){var n=qt(t,e);if(n.state>fi)throw new Error("too late; already scheduled");return n}function Ft(t,e){var n=qt(t,e);if(n.state>ze)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function za(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ui(o,0,n.time);function o(a){n.state=mr,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,h,g,y;if(n.state!==mr)return u();for(c in r)if(y=r[c],y.name===n.name){if(y.state===ze)return pr(s);y.state===gr?(y.state=Ie,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[c]):+c<e&&(y.state=Ie,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[c])}if(pr(function(){n.state===ze&&(n.state=gr,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=bn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===bn){for(n.state=ze,i=new Array(g=n.tween.length),c=0,h=-1;c<g;++c)(y=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=y);i.length=h+1}}function l(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=xn,1),h=-1,g=i.length;++h<g;)i[h].call(t,c);n.state===xn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ie,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function Oe(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>bn&&r.state<xn,r.state=Ie,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Ia(t){return this.each(function(){Oe(this,t)})}function Oa(t,e){var n,r;return function(){var i=Ft(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function La(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ft(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}o.tween=i}}function qa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Oa:La)(n,t,e))}function In(t,e,n){var r=t._id;return t.each(function(){var i=Ft(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,r).value[e]}}function ci(t,e){var n;return(typeof e=="number"?Ot:e instanceof te?Fe:(n=te(e))?(e=n,Fe):Hr)(t,e)}function Pa(t){return function(){this.removeAttribute(t)}}function Fa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Va(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Xa(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Ba(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ha(t,e,n){var r,i,o;return function(){var s,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=l+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l)))}}function Ua(t,e){var n=Je(t),r=n==="transform"?uo:ci;return this.attrTween(t,typeof e=="function"?(n.local?Ha:Ba)(n,r,In(this,"attr."+t,e)):e==null?(n.local?Fa:Pa)(n):(n.local?Xa:Va)(n,r,e))}function Ya(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wa(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ka(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wa(t,o)),n}return i._value=e,i}function Qa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ya(t,o)),n}return i._value=e,i}function Ga(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Je(t);return this.tween(n,(r.local?Ka:Qa)(r,e))}function Za(t,e){return function(){zn(this,t).delay=+e.apply(this,arguments)}}function ja(t,e){return e=+e,function(){zn(this,t).delay=e}}function Ja(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Za:ja)(e,t)):qt(this.node(),e).delay}function $a(t,e){return function(){Ft(this,t).duration=+e.apply(this,arguments)}}function tl(t,e){return e=+e,function(){Ft(this,t).duration=e}}function el(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$a:tl)(e,t)):qt(this.node(),e).duration}function nl(t,e){if(typeof e!="function")throw new Error;return function(){Ft(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(nl(e,t)):qt(this.node(),e).ease}function il(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,t).ease=n}}function ol(t){if(typeof t!="function")throw new Error;return this.each(il(this._id,t))}function sl(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],u,a=0;a<s;++a)(u=o[a])&&t.call(u,u.__data__,a,o)&&l.push(u);return new Yt(r,this._parents,this._name,this._id)}function al(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var u=e[l],a=n[l],c=u.length,h=s[l]=new Array(c),g,y=0;y<c;++y)(g=u[y]||a[y])&&(h[y]=g);for(;l<r;++l)s[l]=e[l];return new Yt(s,this._parents,this._name,this._id)}function ll(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ul(t,e,n){var r,i,o=ll(e)?zn:Ft;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function fl(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(ul(n,t,e))}function cl(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hl(){return this.on("end.remove",cl(this._id))}function dl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Rn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],u=l.length,a=o[s]=new Array(u),c,h,g=0;g<u;++g)(c=l[g])&&(h=t.call(c,c.__data__,g,l))&&("__data__"in c&&(h.__data__=c.__data__),a[g]=h,tn(a[g],e,n,g,a,qt(c,n)));return new Yt(o,this._parents,e,n)}function pl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zr(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var u=r[l],a=u.length,c,h=0;h<a;++h)if(c=u[h]){for(var g=t.call(c,c.__data__,h,u),y,S=qt(c,n),q=0,E=g.length;q<E;++q)(y=g[q])&&tn(y,e,n,q,g,S);o.push(g),s.push(c)}return new Yt(o,s,e,n)}var ml=we.prototype.constructor;function gl(){return new ml(this._groups,this._parents)}function _l(t,e){var n,r,i;return function(){var o=se(this,t),s=(this.style.removeProperty(t),se(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function hi(t){return function(){this.style.removeProperty(t)}}function yl(t,e,n){var r,i=n+"",o;return function(){var s=se(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function wl(t,e,n){var r,i,o;return function(){var s=se(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),se(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,l))}}function vl(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var u=Ft(this,t),a=u.on,c=u.value[o]==null?l||(l=hi(e)):void 0;(a!==n||i!==c)&&(r=(n=a).copy()).on(s,i=c),u.on=r}}function bl(t,e,n){var r=(t+="")=="transform"?lo:ci;return e==null?this.styleTween(t,_l(t,r)).on("end.style."+t,hi(t)):typeof e=="function"?this.styleTween(t,wl(t,r,In(this,"style."+t,e))).each(vl(this._id,t)):this.styleTween(t,yl(t,r,e),n).on("end.style."+t,null)}function xl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function kl(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xl(t,s,n)),r}return o._value=e,o}function Sl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,kl(t,e,n==null?"":n))}function Ml(t){return function(){this.textContent=t}}function El(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Cl(t){return this.tween("text",typeof t=="function"?El(In(this,"text",t)):Ml(t==null?"":t+""))}function Al(t){return function(e){this.textContent=t.call(this,e)}}function Dl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Al(i)),e}return r._value=t,r}function Rl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Dl(t))}function Tl(){for(var t=this._name,e=this._id,n=di(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)if(u=s[a]){var c=qt(u,e);tn(u,t,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Yt(r,this._parents,t,n)}function Nl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var a=Ft(this,r),c=a.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&o()})}var zl=0;function Yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function di(){return++zl}var Xt=we.prototype;Yt.prototype={constructor:Yt,select:dl,selectAll:pl,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:sl,merge:al,selection:gl,transition:Tl,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:fl,attr:Ua,attrTween:Ga,style:bl,styleTween:Sl,text:Cl,textTween:Rl,remove:hl,tween:qa,delay:Ja,duration:el,ease:rl,easeVarying:ol,end:Nl,[Symbol.iterator]:Xt[Symbol.iterator]};function Il(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ol={time:null,delay:0,duration:250,ease:Il};function Ll(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ql(t){var e,n;t instanceof Yt?(e=t._id,t=t._name):(e=di(),(n=Ol).time=Nn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,u,a=0;a<l;++a)(u=s[a])&&tn(u,t,e,a,s,n||Ll(u,e));return new Yt(r,this._parents,t,e)}we.prototype.interrupt=Ia;we.prototype.transition=ql;const Ee=t=>()=>t;function Pl(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Bt(t,e,n){this.k=t,this.x=e,this.y=n}Bt.prototype={constructor:Bt,scale:function(t){return t===1?this:new Bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var We=new Bt(1,0,0);Bt.prototype;function sn(t){t.stopImmediatePropagation()}function ue(t){t.preventDefault(),t.stopImmediatePropagation()}function Fl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Vl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _r(){return this.__zoom||We}function Xl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hl(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Ul(){var t=Fl,e=Vl,n=Hl,r=Xl,i=Bl,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,u=po,a=Dn("start","zoom","end"),c,h,g,y=500,S=150,q=0,E=10;function x(m){m.property("__zoom",_r).on("wheel.zoom",d,{passive:!1}).on("mousedown.zoom",f).on("dblclick.zoom",w).filter(i).on("touchstart.zoom",b).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(m,A,p,v){var T=m.selection?m.selection():m;T.property("__zoom",_r),m!==T?Z(m,A,p,v):T.interrupt().each(function(){ot(this,arguments).event(v).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},x.scaleBy=function(m,A,p,v){x.scaleTo(m,function(){var T=this.__zoom.k,k=typeof A=="function"?A.apply(this,arguments):A;return T*k},p,v)},x.scaleTo=function(m,A,p,v){x.transform(m,function(){var T=e.apply(this,arguments),k=this.__zoom,R=p==null?et(T):typeof p=="function"?p.apply(this,arguments):p,I=k.invert(R),H=typeof A=="function"?A.apply(this,arguments):A;return n(U(C(k,H),R,I),T,s)},p,v)},x.translateBy=function(m,A,p,v){x.transform(m,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof p=="function"?p.apply(this,arguments):p),e.apply(this,arguments),s)},null,v)},x.translateTo=function(m,A,p,v,T){x.transform(m,function(){var k=e.apply(this,arguments),R=this.__zoom,I=v==null?et(k):typeof v=="function"?v.apply(this,arguments):v;return n(We.translate(I[0],I[1]).scale(R.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof p=="function"?-p.apply(this,arguments):-p),k,s)},v,T)};function C(m,A){return A=Math.max(o[0],Math.min(o[1],A)),A===m.k?m:new Bt(A,m.x,m.y)}function U(m,A,p){var v=A[0]-p[0]*m.k,T=A[1]-p[1]*m.k;return v===m.x&&T===m.y?m:new Bt(m.k,v,T)}function et(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function Z(m,A,p,v){m.on("start.zoom",function(){ot(this,arguments).event(v).start()}).on("interrupt.zoom end.zoom",function(){ot(this,arguments).event(v).end()}).tween("zoom",function(){var T=this,k=arguments,R=ot(T,k).event(v),I=e.apply(T,k),H=p==null?et(I):typeof p=="function"?p.apply(T,k):p,P=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),Q=T.__zoom,nt=typeof A=="function"?A.apply(T,k):A,ct=u(Q.invert(H).concat(P/Q.k),nt.invert(H).concat(P/nt.k));return function(ht){if(ht===1)ht=nt;else{var K=ct(ht),J=P/K[2];ht=new Bt(J,H[0]-K[0]*J,H[1]-K[1]*J)}R.zoom(null,ht)}})}function ot(m,A,p){return!p&&m.__zooming||new O(m,A)}function O(m,A){this.that=m,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,A),this.taps=0}O.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,A){return this.mouse&&m!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var A=Qt(this.that).datum();a.call(m,this.that,new Pl(m,{sourceEvent:this.sourceEvent,target:x,type:m,transform:this.that.__zoom,dispatch:a}),A)}};function d(m,...A){if(!t.apply(this,arguments))return;var p=ot(this,A).event(m),v=this.__zoom,T=Math.max(o[0],Math.min(o[1],v.k*Math.pow(2,r.apply(this,arguments)))),k=Gt(m);if(p.wheel)(p.mouse[0][0]!==k[0]||p.mouse[0][1]!==k[1])&&(p.mouse[1]=v.invert(p.mouse[0]=k)),clearTimeout(p.wheel);else{if(v.k===T)return;p.mouse=[k,v.invert(k)],Oe(this),p.start()}ue(m),p.wheel=setTimeout(R,S),p.zoom("mouse",n(U(C(v,T),p.mouse[0],p.mouse[1]),p.extent,s));function R(){p.wheel=null,p.end()}}function f(m,...A){if(g||!t.apply(this,arguments))return;var p=m.currentTarget,v=ot(this,A,!0).event(m),T=Qt(m.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",P,!0),k=Gt(m,p),R=m.clientX,I=m.clientY;Ma(m.view),sn(m),v.mouse=[k,this.__zoom.invert(k)],Oe(this),v.start();function H(Q){if(ue(Q),!v.moved){var nt=Q.clientX-R,ct=Q.clientY-I;v.moved=nt*nt+ct*ct>q}v.event(Q).zoom("mouse",n(U(v.that.__zoom,v.mouse[0]=Gt(Q,p),v.mouse[1]),v.extent,s))}function P(Q){T.on("mousemove.zoom mouseup.zoom",null),Ea(Q.view,v.moved),ue(Q),v.event(Q).end()}}function w(m,...A){if(!!t.apply(this,arguments)){var p=this.__zoom,v=Gt(m.changedTouches?m.changedTouches[0]:m,this),T=p.invert(v),k=p.k*(m.shiftKey?.5:2),R=n(U(C(p,k),v,T),e.apply(this,A),s);ue(m),l>0?Qt(this).transition().duration(l).call(Z,R,v,m):Qt(this).call(x.transform,R,v,m)}}function b(m,...A){if(!!t.apply(this,arguments)){var p=m.touches,v=p.length,T=ot(this,A,m.changedTouches.length===v).event(m),k,R,I,H;for(sn(m),R=0;R<v;++R)I=p[R],H=Gt(I,this),H=[H,this.__zoom.invert(H),I.identifier],T.touch0?!T.touch1&&T.touch0[2]!==H[2]&&(T.touch1=H,T.taps=0):(T.touch0=H,k=!0,T.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(T.taps<2&&(h=H[0],c=setTimeout(function(){c=null},y)),Oe(this),T.start())}}function M(m,...A){if(!!this.__zooming){var p=ot(this,A).event(m),v=m.changedTouches,T=v.length,k,R,I,H;for(ue(m),k=0;k<T;++k)R=v[k],I=Gt(R,this),p.touch0&&p.touch0[2]===R.identifier?p.touch0[0]=I:p.touch1&&p.touch1[2]===R.identifier&&(p.touch1[0]=I);if(R=p.that.__zoom,p.touch1){var P=p.touch0[0],Q=p.touch0[1],nt=p.touch1[0],ct=p.touch1[1],ht=(ht=nt[0]-P[0])*ht+(ht=nt[1]-P[1])*ht,K=(K=ct[0]-Q[0])*K+(K=ct[1]-Q[1])*K;R=C(R,Math.sqrt(ht/K)),I=[(P[0]+nt[0])/2,(P[1]+nt[1])/2],H=[(Q[0]+ct[0])/2,(Q[1]+ct[1])/2]}else if(p.touch0)I=p.touch0[0],H=p.touch0[1];else return;p.zoom("touch",n(U(R,I,H),p.extent,s))}}function X(m,...A){if(!!this.__zooming){var p=ot(this,A).event(m),v=m.changedTouches,T=v.length,k,R;for(sn(m),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),k=0;k<T;++k)R=v[k],p.touch0&&p.touch0[2]===R.identifier?delete p.touch0:p.touch1&&p.touch1[2]===R.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(R=Gt(R,this),Math.hypot(h[0]-R[0],h[1]-R[1])<E)){var I=Qt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return x.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Ee(+m),x):r},x.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Ee(!!m),x):t},x.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Ee(!!m),x):i},x.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ee([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),x):e},x.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],x):[o[0],o[1]]},x.translateExtent=function(m){return arguments.length?(s[0][0]=+m[0][0],s[1][0]=+m[1][0],s[0][1]=+m[0][1],s[1][1]=+m[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(m){return arguments.length?(n=m,x):n},x.duration=function(m){return arguments.length?(l=+m,x):l},x.interpolate=function(m){return arguments.length?(u=m,x):u},x.on=function(){var m=a.on.apply(a,arguments);return m===a?x:m},x.clickDistance=function(m){return arguments.length?(q=(m=+m)*m,x):Math.sqrt(q)},x.tapDistance=function(m){return arguments.length?(E=+m,x):E},x}function yr(t){let e,n;return e=new Bo({props:{hoveredData:t[6],data:t[0],domainColumn:t[1],colorScale:t[9],posX:t[7],posY:t[8]}}),{c(){Sn(e.$$.fragment)},m(r,i){Qe(e,r,i),n=!0},p(r,i){const o={};i[0]&64&&(o.hoveredData=r[6]),i[0]&1&&(o.data=r[0]),i[0]&2&&(o.domainColumn=r[1]),i[0]&512&&(o.colorScale=r[9]),i[0]&128&&(o.posX=r[7]),i[0]&256&&(o.posY=r[8]),e.$set(o)},i(r){n||(Ut(e.$$.fragment,r),n=!0)},o(r){Jt(e.$$.fragment,r),n=!1},d(r){Ge(e,r)}}}function Yl(t){let e,n,r,i,o,s,l,u,a,c,h,g,y,S=t[6]&&yr(t);return{c(){e=Y("div"),n=Y("div"),r=Y("button"),r.textContent="+",i=ft(),o=Y("button"),o.textContent="\u2212",s=ft(),l=Y("button"),l.textContent="\u27F2",u=ft(),a=Y("canvas"),c=ft(),S&&S.c(),D(r,"class","zoom-btn svelte-1q7voxg"),D(r,"aria-label","Zoom in"),D(r,"title","Zoom in"),D(o,"class","zoom-btn svelte-1q7voxg"),D(o,"aria-label","Zoom out"),D(o,"title","Zoom out"),D(l,"class","zoom-btn svelte-1q7voxg"),D(l,"aria-label","Reset zoom"),D(l,"title","Reset zoom"),D(n,"class","zoom-controls svelte-1q7voxg"),D(n,"aria-label","Zoom controls"),D(a,"width",t[2]),D(a,"height",t[3]),D(a,"class","svelte-1q7voxg"),D(e,"class","chart-container svelte-1q7voxg")},m(q,E){ut(q,e,E),L(e,n),L(n,r),L(n,i),L(n,o),L(n,s),L(n,l),L(e,u),L(e,a),t[31](a),L(e,c),S&&S.m(e,null),t[32](e),h=!0,g||(y=[yt(r,"click",t[13]),yt(o,"click",t[14]),yt(l,"click",t[15]),yt(a,"mousemove",t[10]),yt(a,"mouseleave",t[12]),yt(a,"click",t[11])],g=!0)},p(q,E){(!h||E[0]&4)&&D(a,"width",q[2]),(!h||E[0]&8)&&D(a,"height",q[3]),q[6]?S?(S.p(q,E),E[0]&64&&Ut(S,1)):(S=yr(q),S.c(),Ut(S,1),S.m(e,null)):S&&(zr(),Jt(S,1,1,()=>{S=null}),Ir())},i(q){h||(Ut(S),h=!0)},o(q){Jt(S),h=!1},d(q){q&&lt(e),t[31](null),S&&S.d(),t[32](null),g=!1,Wt(y)}}}const Ce=6,Wl=.5,Kl=20,wr=280,vr=160;function Ae(t,e){if(!e||!t)return!1;try{return new RegExp(e,"i").test(t)}catch{return t.toLowerCase().includes(e.toLowerCase())}}function Ql(t,e,n){let r,i,o,s,l,u,a,c,h,{data:g=[]}=e,{domainColumn:y=""}=e,{opacity:S=1}=e,{selectedValues:q=new Set}=e,{searchQuery:E=""}=e,{showAnnotations:x=!0}=e,{highlightedData:C=[]}=e,{startDate:U=null}=e,{endDate:et=null}=e,{uniqueValues:Z=[]}=e,ot=[],O,d,f,w=800,b=600;const M={top:20,right:20,bottom:20,left:20};let X=null,m=null,A=We,p,v,T=0,k=0,R,I=1;function H(){if(!O||!d)return;const _=d.getBoundingClientRect();_.width>0&&_.height>0&&(n(2,w=Math.floor(_.width)),n(3,b=Math.floor(_.height))),I=Math.max(window.devicePixelRatio||1,1),n(4,O.style.width="100%",O),n(4,O.style.height="100%",O),n(4,O.width=Math.max(1,Math.floor(w*I)),O),n(4,O.height=Math.max(1,Math.floor(b*I)),O),n(24,f=O.getContext("2d")),f.setTransform(I,0,0,I,0,0)}function P(){if(!(!f||!g.length)){if(f.clearRect(0,0,w,b),f.save(),f.translate(A.x,A.y),f.scale(A.k,A.k),g.forEach(_=>{f.beginPath(),f.arc(M.left+u(_.x),M.top+h(_.y),Math.max(.5,Ce/A.k),0,Math.PI*2),n(24,f.fillStyle=R(_[y]),f);const B=.9,W=Math.max(0,Math.min(1,S));n(24,f.globalAlpha=_.isActive?B:W,f),f.fill(),n(24,f.globalAlpha=.2,f)}),x&&ot.forEach(_=>{n(24,f.globalAlpha=1,f),f.beginPath(),f.arc(_.x,_.y,_.radius,0,Math.PI*2),n(24,f.strokeStyle="red",f),n(24,f.lineWidth=2,f),f.setLineDash([5,5]),f.stroke();const B=180,W=12;n(24,f.font="16px Arial",f);const N=_.x+_.label_x,z=_.y+_.label_y;let V=0,F=0,rt=[];if(_.label){const gt=_.label.split(" ");let vt="";gt.forEach((St,Nt)=>{const Vt=vt+St+" ";f.measureText(Vt).width>B&&Nt>0?(rt.push(vt),V=Math.max(V,f.measureText(vt).width),vt=St+" "):vt=Vt}),rt.push(vt),V=Math.max(V,f.measureText(vt).width),F=W*rt.length}const tt=N,_t=z-W,$=V,st=F;let G,it;_.x<tt?G=tt:_.x>tt+$?G=tt+$:G=_.x,_.y<_t?it=_t:_.y>_t+st?it=_t+st:it=_.y;const bt=Math.atan2(it-_.y,G-_.x),Et=_.x+_.radius*Math.cos(bt),wt=_.y+_.radius*Math.sin(bt);if(f.setLineDash([]),f.beginPath(),f.moveTo(Et,wt),f.lineTo(G,it),n(24,f.strokeStyle="red",f),n(24,f.lineWidth=1,f),f.stroke(),_.label){n(24,f.font="16px Arial",f),n(24,f.fillStyle="red",f);const gt=16;rt.forEach((vt,St)=>{f.fillText(vt,N,z+St*gt)})}}),f.setLineDash([]),X){const _=M.left+u(X.x),B=M.top+h(X.y);f.beginPath(),f.arc(_,B,Math.max(.5,Ce/A.k),0,Math.PI*2),n(24,f.fillStyle=R(X[y]),f),n(24,f.globalAlpha=1,f),f.fill(),n(24,f.strokeStyle="black",f),n(24,f.lineWidth=Math.max(1,2/A.k),f),f.stroke();const[W,N]=[A.applyX(_),A.applyY(B)];let z=W+12;z+wr>w-M.right&&(z=W-12-wr);let V=N-vr*.5;const F=M.top+8,rt=b-M.bottom-(vr+8);V=Math.max(F,Math.min(V,rt)),n(7,T=z),n(8,k=V)}f.restore()}}function Q(_){const B=O.getBoundingClientRect(),W=w/B.width,N=b/B.height,z=(_.clientX-B.left)*W,V=(_.clientY-B.top)*N,[F,rt]=A.invert([z,V]),tt=g.find(_t=>{var Vt,zt;const $=M.left+u(_t.x),st=M.top+h(_t.y),G=$-F,it=st-rt,bt=Math.sqrt(G*G+it*it)<(Ce+3)/A.k,wt=!!(E&&String(E).trim().length)?Ae((Vt=_t.title)!=null?Vt:"",E)||Ae((zt=_t.text)!=null?zt:"",E):!0,vt=q&&q.size>0&&q.size<r?q.has(_t[y]):!0,St=U&&et?_t.date>=U&&_t.date<=et:!0;return bt&&(wt&&vt&&St)});tt?(n(6,X=tt),m=tt,n(4,O.style.cursor="pointer",O)):(n(6,X=null),m=null,n(4,O.style.cursor="crosshair",O)),P()}function nt(_){const B=O.getBoundingClientRect(),W=w/B.width,N=b/B.height,z=(_.clientX-B.left)*W,V=(_.clientY-B.top)*N,[F,rt]=A.invert([z,V]),tt=g.find($=>{var zt,It;const st=M.left+u($.x),G=M.top+h($.y),it=st-F,bt=G-rt,Et=Math.sqrt(it*it+bt*bt)<(Ce+3)/A.k,gt=!!(E&&String(E).trim().length)?Ae((zt=$.title)!=null?zt:"",E)||Ae((It=$.text)!=null?It:"",E):!0,St=q&&q.size>0&&q.size<r?q.has($[y]):!0,Nt=U&&et?$.date>=U&&$.date<=et:!0;return Et&&(gt&&St&&Nt)});if(!tt)return;const _t=tt.url||tt.link||tt.href||tt.permalink;_t&&typeof window<"u"&&window.open(_t,"_blank","noopener,noreferrer")}function ct(){n(6,X=m),P()}let ht;kn(()=>(n(24,f=O.getContext("2d")),H(),window.ResizeObserver&&(ht=new ResizeObserver(()=>{H(),P()}),ht.observe(d)),p=Ul().scaleExtent([Wl,Kl]).filter(_=>{const B=_;return B.type==="wheel"||B.type==="touchstart"||B.type==="touchmove"?!0:B.type==="mousedown"?B.button===0&&!B.ctrlKey&&!B.metaKey&&!B.shiftKey:!B.ctrlKey&&!B.metaKey&&!B.shiftKey}).on("zoom",_=>{A=_.transform,P()}),v=Qt(O),v.call(p),P(),()=>{ht&&ht.disconnect()}));function K(_,B){var z;if((z=B==null?void 0:B.stopPropagation)==null||z.call(B),!v||!p)return;const W=w/2,N=b/2;v.transition().duration(200).call(p.scaleBy,_,[W,N])}function J(_){K(1.25,_)}function pt(_){K(1/1.25,_)}function j(_){var B;(B=_==null?void 0:_.stopPropagation)==null||B.call(_),!(!v||!p)&&v.transition().duration(200).call(p.transform,We)}function mt(_){Ht[_?"unshift":"push"](()=>{O=_,n(4,O)})}function dt(_){Ht[_?"unshift":"push"](()=>{d=_,n(5,d)})}return t.$$set=_=>{"data"in _&&n(0,g=_.data),"domainColumn"in _&&n(1,y=_.domainColumn),"opacity"in _&&n(16,S=_.opacity),"selectedValues"in _&&n(17,q=_.selectedValues),"searchQuery"in _&&n(18,E=_.searchQuery),"showAnnotations"in _&&n(19,x=_.showAnnotations),"highlightedData"in _&&n(20,C=_.highlightedData),"startDate"in _&&n(21,U=_.startDate),"endDate"in _&&n(22,et=_.endDate),"uniqueValues"in _&&n(23,Z=_.uniqueValues)},t.$$.update=()=>{t.$$.dirty[0]&1048576&&new Set(C.map(_=>_.id)),t.$$.dirty[0]&3&&(r=new Set(g.map(_=>_[y])).size),t.$$.dirty[0]&4&&n(28,i=w-M.left-M.right),t.$$.dirty[0]&8&&n(25,o=b-M.top-M.bottom),t.$$.dirty[0]&1&&n(30,s=[Yn(g,_=>_.x),Un(g,_=>_.x)]),t.$$.dirty[0]&1073741824&&n(29,l=s[0]===s[1]?[s[0]-1,s[1]+1]:s),t.$$.dirty[0]&805306368&&(u=gn().domain(l).range([0,i])),t.$$.dirty[0]&1&&n(27,a=[Yn(g,_=>_.y),Un(g,_=>_.y)]),t.$$.dirty[0]&134217728&&n(26,c=a[0]===a[1]?[a[0]-1,a[1]+1]:a),t.$$.dirty[0]&100663296&&(h=gn().domain(c).range([o,0])),t.$$.dirty[0]&8388610&&n(9,R=Fr(qo).domain(y?Z:[])),t.$$.dirty[0]&1&&g.length&&new Date(Math.min(...g.map(_=>_.date.getTime()))),t.$$.dirty[0]&1&&g.length&&new Date(Math.max(...g.map(_=>_.date.getTime()))),t.$$.dirty[0]&24051715&&f&&g.length&&P()},[g,y,w,b,O,d,X,T,k,R,Q,nt,ct,J,pt,j,S,q,E,x,C,U,et,Z,f,o,c,a,i,l,s,mt,dt]}class Gl extends je{constructor(e){super(),Ze(this,e,Ql,Yl,Ke,{data:0,domainColumn:1,opacity:16,selectedValues:17,searchQuery:18,showAnnotations:19,highlightedData:20,startDate:21,endDate:22,uniqueValues:23},null,[-1,-1])}}function Zl(t){let e,n,r,i,o,s,l,u,a;return{c(){e=Y("div"),n=Y("div"),r=Y("div"),i=ft(),o=Y("div"),s=ft(),l=Y("div"),D(r,"class","track-inner svelte-vytkle"),D(n,"class","track svelte-vytkle"),D(o,"class","thumb start-thumb svelte-vytkle"),Mt(o,"left",t[4]+"%"),D(l,"class","thumb end-thumb svelte-vytkle"),Mt(l,"left",t[3]+"%"),D(e,"class","range-slider svelte-vytkle"),Mt(e,"--start-percent",t[4]+"%"),Mt(e,"--end-percent",t[3]+"%")},m(c,h){ut(c,e,h),L(e,n),L(n,r),L(e,i),L(e,o),t[13](o),L(e,s),L(e,l),t[16](l),t[19](e),u||(a=[yt(r,"mousedown",t[11]),yt(r,"touchstart",t[12]),yt(o,"mousedown",t[14]),yt(o,"touchstart",t[15]),yt(l,"mousedown",t[17]),yt(l,"touchstart",t[18])],u=!0)},p(c,[h]){h&16&&Mt(o,"left",c[4]+"%"),h&8&&Mt(l,"left",c[3]+"%"),h&16&&Mt(e,"--start-percent",c[4]+"%"),h&8&&Mt(e,"--end-percent",c[3]+"%")},i:At,o:At,d(c){c&&lt(e),t[13](null),t[16](null),t[19](null),u=!1,Wt(a)}}}function jl(t,e,n){let r,i,{min:o=0}=e,{max:s=100}=e,{startValue:l}=e,{endValue:u}=e;const a=wi();let c,h,g,y=!1,S=null,q=null,E=0;function x(p,v){y=!0,S=v,q=c.getBoundingClientRect(),v==="range"&&(E=u-l),window.addEventListener("mousemove",C),window.addEventListener("mouseup",U)}function C(p){if(!y)return;const v=Math.min(Math.max(0,(p.clientX-q.left)/q.width),1),T=Math.round(v*(s-o)+o);if(S==="start")n(7,l=Math.min(T,u)),a("startChange",l);else if(S==="end")n(8,u=Math.max(T,l)),a("endChange",u);else if(S==="range"){let k=T-Math.floor(E/2),R=T+Math.ceil(E/2);k<o&&(k=o,R=o+E),R>s&&(R=s,k=s-E),k=Math.max(o,k),R=Math.min(s,R),n(7,l=k),n(8,u=R),a("startChange",l),a("endChange",u)}}function U(){y=!1,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",U)}function et(p,v){p.preventDefault(),y=!0,S=v,q=c.getBoundingClientRect(),v==="range"&&(E=u-l),window.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",ot)}function Z(p){if(p.preventDefault(),!y)return;const v=p.touches[0],T=Math.min(Math.max(0,(v.clientX-q.left)/q.width),1),k=Math.round(T*(s-o)+o);if(S==="start")n(7,l=Math.min(k,u)),a("startChange",l);else if(S==="end")n(8,u=Math.max(k,l)),a("endChange",u);else if(S==="range"){let R=k-Math.floor(E/2),I=k+Math.ceil(E/2);R<o&&(R=o,I=o+E),I>s&&(I=s,R=s-E),R=Math.max(o,R),I=Math.min(s,I),n(7,l=R),n(8,u=I),a("startChange",l),a("endChange",u)}}function ot(){y=!1,window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",ot)}const O=p=>x(p,"range"),d=p=>et(p,"range");function f(p){Ht[p?"unshift":"push"](()=>{h=p,n(1,h)})}const w=p=>x(p,"start"),b=p=>et(p,"start");function M(p){Ht[p?"unshift":"push"](()=>{g=p,n(2,g)})}const X=p=>x(p,"end"),m=p=>et(p,"end");function A(p){Ht[p?"unshift":"push"](()=>{c=p,n(0,c)})}return t.$$set=p=>{"min"in p&&n(9,o=p.min),"max"in p&&n(10,s=p.max),"startValue"in p&&n(7,l=p.startValue),"endValue"in p&&n(8,u=p.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=s>o?(l-o)/(s-o)*100:0),t.$$.dirty&1792&&n(3,i=s>o?(u-o)/(s-o)*100:100)},[c,h,g,i,r,x,et,l,u,o,s,O,d,f,w,b,M,X,m,A]}class Jl extends je{constructor(e){super(),Ze(this,e,jl,Zl,Ke,{min:9,max:10,startValue:7,endValue:8})}}function br(t,e,n){const r=t.slice();return r[55]=e[n],r}function xr(t,e,n){const r=t.slice();return r[58]=e[n],r}function kr(t){let e,n,r,i,o,s,l=t[9],u=[];for(let a=0;a<l.length;a+=1)u[a]=Sr(xr(t,l,a));return{c(){e=Y("label"),e.textContent="\u{1F3A8} Color by Column:",n=ft(),r=Y("select"),i=Y("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();D(e,"for","domain-column"),D(e,"class","svelte-125uapq"),i.__value="",i.value=i.__value,i.disabled=!0,D(r,"id","domain-column"),D(r,"class","svelte-125uapq"),t[0]===void 0&&Le(()=>t[34].call(r))},m(a,c){ut(a,e,c),ut(a,n,c),ut(a,r,c),L(r,i);for(let h=0;h<u.length;h+=1)u[h].m(r,null);Fn(r,t[0]),o||(s=[yt(r,"change",t[21]),yt(r,"change",t[34])],o=!0)},p(a,c){if(c[0]&512){l=a[9];let h;for(h=0;h<l.length;h+=1){const g=xr(a,l,h);u[h]?u[h].p(g,c):(u[h]=Sr(g),u[h].c(),u[h].m(r,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=l.length}c[0]&513&&Fn(r,a[0])},d(a){a&&lt(e),a&&lt(n),a&&lt(r),Dr(u,a),o=!1,Wt(s)}}}function Sr(t){let e,n=t[58]+"",r,i;return{c(){e=Y("option"),r=xt(n),e.__value=i=t[58],e.value=e.__value},m(o,s){ut(o,e,s),L(e,r)},p(o,s){s[0]&512&&n!==(n=o[58]+"")&&Dt(r,n),s[0]&512&&i!==(i=o[58])&&(e.__value=i,e.value=e.__value)},d(o){o&&lt(e)}}}function Mr(t){let e,n,r,i,o,s=t[1],l=[];for(let u=0;u<s.length;u+=1)l[u]=Er(br(t,s,u));return{c(){e=Y("label"),e.textContent="\u2728 Highlight Values (hold Shift/Cmd to select multiple):",n=ft(),r=Y("select");for(let u=0;u<l.length;u+=1)l[u].c();D(e,"for","value-select"),D(e,"class","svelte-125uapq"),D(r,"id","value-select"),r.multiple=!0,D(r,"size","5"),D(r,"class","multi-select svelte-125uapq")},m(u,a){ut(u,e,a),ut(u,n,a),ut(u,r,a);for(let c=0;c<l.length;c+=1)l[c].m(r,null);i||(o=yt(r,"change",t[22]),i=!0)},p(u,a){if(a[0]&6){s=u[1];let c;for(c=0;c<s.length;c+=1){const h=br(u,s,c);l[c]?l[c].p(h,a):(l[c]=Er(h),l[c].c(),l[c].m(r,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},d(u){u&&lt(e),u&&lt(n),u&&lt(r),Dr(l,u),i=!1,o()}}}function Er(t){let e,n=t[55]+"",r,i,o;return{c(){e=Y("option"),r=xt(n),e.__value=i=t[55],e.value=e.__value,e.selected=o=t[2].has(t[55])},m(s,l){ut(s,e,l),L(e,r)},p(s,l){l[0]&2&&n!==(n=s[55]+"")&&Dt(r,n),l[0]&2&&i!==(i=s[55])&&(e.__value=i,e.value=e.__value),l[0]&6&&o!==(o=s[2].has(s[55]))&&(e.selected=o)},d(s){s&&lt(e)}}}function $l(t){let e;return{c(){e=xt("\u25B6")},m(n,r){ut(n,e,r)},d(n){n&&lt(e)}}}function tu(t){let e;return{c(){e=xt("\u275A\u275A")},m(n,r){ut(n,e,r)},d(n){n&&lt(e)}}}function eu(t){let e;return{c(){e=Y("p"),e.textContent="Waiting for data"},m(n,r){ut(n,e,r)},p:At,i:At,o:At,d(n){n&&lt(e)}}}function nu(t){let e,n,r;function i(c,h){return c[15]==="downloading"?su:c[15]==="parsing"?ou:iu}let o=i(t),s=o(t);function l(c,h){return c[15]==="downloading"?lu:au}let u=l(t),a=u(t);return{c(){e=Y("div"),n=Y("div"),s.c(),r=ft(),a.c(),D(n,"class","progress-header svelte-125uapq"),D(e,"class","progress-wrap svelte-125uapq")},m(c,h){ut(c,e,h),L(e,n),s.m(n,null),L(e,r),a.m(e,null)},p(c,h){o!==(o=i(c))&&(s.d(1),s=o(c),s&&(s.c(),s.m(n,null))),u===(u=l(c))&&a?a.p(c,h):(a.d(1),a=u(c),a&&(a.c(),a.m(e,null)))},i:At,o:At,d(c){c&&lt(e),s.d(),a.d()}}}function ru(t){let e,n;return e=new Gl({props:{data:t[11],domainColumn:t[0],selectedValues:t[2],opacity:t[10],searchQuery:t[8],showAnnotations:t[13],highlightedData:t[7],startDate:t[3],endDate:t[4],uniqueValues:t[1]}}),{c(){Sn(e.$$.fragment)},m(r,i){Qe(e,r,i),n=!0},p(r,i){const o={};i[0]&2048&&(o.data=r[11]),i[0]&1&&(o.domainColumn=r[0]),i[0]&4&&(o.selectedValues=r[2]),i[0]&1024&&(o.opacity=r[10]),i[0]&256&&(o.searchQuery=r[8]),i[0]&8192&&(o.showAnnotations=r[13]),i[0]&128&&(o.highlightedData=r[7]),i[0]&8&&(o.startDate=r[3]),i[0]&16&&(o.endDate=r[4]),i[0]&2&&(o.uniqueValues=r[1]),e.$set(o)},i(r){n||(Ut(e.$$.fragment,r),n=!0)},o(r){Jt(e.$$.fragment,r),n=!1},d(r){Ge(e,r)}}}function iu(t){let e;return{c(){e=xt("Loading...")},m(n,r){ut(n,e,r)},d(n){n&&lt(e)}}}function ou(t){let e;return{c(){e=xt("Parsing CSV...")},m(n,r){ut(n,e,r)},d(n){n&&lt(e)}}}function su(t){let e;return{c(){e=xt("Downloading CSV...")},m(n,r){ut(n,e,r)},d(n){n&&lt(e)}}}function au(t){let e;return{c(){e=Y("div"),D(e,"class","progress-bar indeterminate svelte-125uapq")},m(n,r){ut(n,e,r)},p:At,d(n){n&&lt(e)}}}function lu(t){let e;function n(o,s){return o[17]?fu:uu}let r=n(t),i=r(t);return{c(){i.c(),e=Rr()},m(o,s){i.m(o,s),ut(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&lt(e)}}}function uu(t){let e,n,r,i=re(t[16])+"",o;return{c(){e=Y("div"),n=ft(),r=Y("div"),o=xt(i),D(e,"class","progress-bar indeterminate svelte-125uapq"),D(r,"class","progress-label svelte-125uapq")},m(s,l){ut(s,e,l),ut(s,n,l),ut(s,r,l),L(r,o)},p(s,l){l[0]&65536&&i!==(i=re(s[16])+"")&&Dt(o,i)},d(s){s&&lt(e),s&&lt(n),s&&lt(r)}}}function fu(t){let e,n,r,i,o,s,l=re(t[16])+"",u,a,c=re(t[17])+"",h,g;return{c(){e=Y("div"),n=Y("div"),r=ft(),i=Y("div"),o=xt(t[18]),s=xt("% ("),u=xt(l),a=xt(" / "),h=xt(c),g=xt(")"),D(n,"class","progress-fill svelte-125uapq"),Mt(n,"width",t[18]+"%"),D(e,"class","progress-bar svelte-125uapq"),D(i,"class","progress-label svelte-125uapq")},m(y,S){ut(y,e,S),L(e,n),ut(y,r,S),ut(y,i,S),L(i,o),L(i,s),L(i,u),L(i,a),L(i,h),L(i,g)},p(y,S){S[0]&262144&&Mt(n,"width",y[18]+"%"),S[0]&262144&&Dt(o,y[18]),S[0]&65536&&l!==(l=re(y[16])+"")&&Dt(u,l),S[0]&131072&&c!==(c=re(y[17])+"")&&Dt(h,c)},d(y){y&&lt(e),y&&lt(r),y&&lt(i)}}}function cu(t){let e,n,r,i,o,s,l,u,a,c,h,g,y,S,q,E,x,C,U,et,Z,ot,O,d,f,w,b,M,X,m,A,p,v,T,k,R,I,H,P,Q,nt,ct=Tt(t[3])+"",ht,K,J,pt=Tt(t[4])+"",j,mt,dt,_,B,W,N,z,V,F,rt,tt,_t,$,st,G,it,bt,Et,wt=t[9].length&&kr(t),gt=t[1].length&&Mr(t);function vt(at){t[38](at)}function St(at){t[39](at)}let Nt={min:0,max:t[19]};t[5]!==void 0&&(Nt.startValue=t[5]),t[6]!==void 0&&(Nt.endValue=t[6]),R=new Jl({props:Nt}),Ht.push(()=>Xn(R,"startValue",vt)),Ht.push(()=>Xn(R,"endValue",St)),R.$on("startChange",t[40]),R.$on("endChange",t[41]);function Vt(at,kt){return at[12]?tu:$l}let zt=Vt(t),It=zt(t);const On=[ru,nu,eu],Kt=[];function Ln(at,kt){return at[11].length?0:at[14]?1:2}return st=Ln(t),G=Kt[st]=On[st](t),{c(){e=Y("div"),n=Y("div"),n.innerHTML=`<h1 class="title svelte-125uapq">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the
      articles are similar in meaning.</p>`,r=ft(),i=Y("div"),o=Y("div"),s=Y("div"),l=Y("button"),l.textContent="Reset filters",u=ft(),a=Y("div"),a.innerHTML=`<details close=""><summary class="svelte-125uapq">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-125uapq"><p class="svelte-125uapq">Semantic maps are tools that allow users to visually explore how
              different topics and ideas are connected. By analyzing the
              relationships between articles, these maps can reveal patterns and
              clusters in the data.</p> 
            <p class="svelte-125uapq">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-125uapq"><li class="svelte-125uapq">Audit their coverage by identifying themes that may be
                underrepresented or overlooked.</li> 
              <li class="svelte-125uapq">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-125uapq">Discover which topics are being covered by other outlets,
                offering opportunities to adjust their editorial focus or
                collaborate.</li></ul></div></details>`,c=ft(),h=Y("label"),h.textContent="\u{1F4C1} Upload CSV:",g=ft(),y=Y("input"),S=ft(),q=Y("label"),q.textContent="\u{1F50D} Search Text (supports regex):",E=ft(),x=Y("input"),C=ft(),wt&&wt.c(),U=ft(),gt&&gt.c(),et=ft(),Z=Y("label"),Z.textContent="\u{1F4A1} Adjust Opacity:",ot=ft(),O=Y("input"),d=ft(),f=Y("div"),w=Y("label"),w.textContent="\u{1F4C5} Date Range:",b=ft(),M=Y("input"),A=ft(),p=Y("input"),k=ft(),Sn(R.$$.fragment),P=ft(),Q=Y("div"),nt=Y("span"),ht=xt(ct),K=ft(),J=Y("span"),j=xt(pt),mt=ft(),dt=Y("div"),_=Y("button"),_.textContent="-1W",B=ft(),W=Y("button"),W.textContent="-1D",N=ft(),z=Y("button"),It.c(),V=ft(),F=Y("button"),F.textContent="+1D",rt=ft(),tt=Y("button"),tt.textContent="+1W",_t=ft(),$=Y("div"),G.c(),D(n,"class","title-section svelte-125uapq"),D(l,"class","reset-btn svelte-125uapq"),D(s,"class","filter-actions svelte-125uapq"),D(a,"class","nerd-box svelte-125uapq"),D(h,"for","file-upload"),D(h,"class","svelte-125uapq"),D(y,"id","file-upload"),D(y,"type","file"),D(y,"accept",".csv"),D(y,"class","svelte-125uapq"),D(q,"for","search-input"),D(q,"class","svelte-125uapq"),D(x,"id","search-input"),D(x,"type","text"),D(x,"placeholder","Search or regex pattern..."),D(x,"class","svelte-125uapq"),D(Z,"for","opacity-slider"),D(Z,"class","svelte-125uapq"),D(O,"id","opacity-slider"),D(O,"type","range"),D(O,"min","0"),D(O,"max",".3"),D(O,"step","0.01"),D(O,"class","svelte-125uapq"),D(w,"for","start-date"),D(w,"class","svelte-125uapq"),D(M,"id","start-date"),D(M,"type","date"),M.value=X=Tt(t[3]),D(M,"max",m=Tt(t[20])),D(M,"class","svelte-125uapq"),D(p,"id","end-date"),D(p,"type","date"),p.value=v=Tt(t[4]),D(p,"max",T=Tt(t[20])),D(p,"class","svelte-125uapq"),D(Q,"class","date-range-labels svelte-125uapq"),D(_,"class","svelte-125uapq"),D(W,"class","svelte-125uapq"),D(z,"class","play-button svelte-125uapq"),D(F,"class","svelte-125uapq"),D(tt,"class","svelte-125uapq"),D(dt,"class","date-navigation svelte-125uapq"),D(f,"class","date-controls svelte-125uapq"),D(o,"class","filter-panel svelte-125uapq"),D($,"class","scatterplot-container svelte-125uapq"),D(i,"class","content svelte-125uapq"),D(e,"class","container svelte-125uapq")},m(at,kt){ut(at,e,kt),L(e,n),L(e,r),L(e,i),L(i,o),L(o,s),L(s,l),L(o,u),L(o,a),L(o,c),L(o,h),L(o,g),L(o,y),L(o,S),L(o,q),L(o,E),L(o,x),L(o,C),wt&&wt.m(o,null),L(o,U),gt&&gt.m(o,null),L(o,et),L(o,Z),L(o,ot),L(o,O),Pn(O,t[10]),L(o,d),L(o,f),L(f,w),L(f,b),L(f,M),L(f,A),L(f,p),L(f,k),Qe(R,f,null),L(f,P),L(f,Q),L(Q,nt),L(nt,ht),L(Q,K),L(Q,J),L(J,j),L(f,mt),L(f,dt),L(dt,_),L(dt,B),L(dt,W),L(dt,N),L(dt,z),It.m(z,null),L(dt,V),L(dt,F),L(dt,rt),L(dt,tt),L(i,_t),L(i,$),Kt[st].m($,null),it=!0,bt||(Et=[yt(l,"click",t[29]),yt(y,"change",t[24]),yt(x,"input",t[27]),yt(O,"change",t[35]),yt(O,"input",t[35]),yt(O,"input",t[28]),yt(M,"change",t[36]),yt(p,"change",t[37]),yt(_,"click",t[42]),yt(W,"click",t[43]),yt(z,"click",t[26]),yt(F,"click",t[44]),yt(tt,"click",t[45])],bt=!0)},p(at,kt){at[9].length?wt?wt.p(at,kt):(wt=kr(at),wt.c(),wt.m(o,U)):wt&&(wt.d(1),wt=null),at[1].length?gt?gt.p(at,kt):(gt=Mr(at),gt.c(),gt.m(o,et)):gt&&(gt.d(1),gt=null),kt[0]&1024&&Pn(O,at[10]),(!it||kt[0]&8&&X!==(X=Tt(at[3])))&&(M.value=X),(!it||kt[0]&1048576&&m!==(m=Tt(at[20])))&&D(M,"max",m),(!it||kt[0]&16&&v!==(v=Tt(at[4])))&&(p.value=v),(!it||kt[0]&1048576&&T!==(T=Tt(at[20])))&&D(p,"max",T);const ve={};kt[0]&524288&&(ve.max=at[19]),!I&&kt[0]&32&&(I=!0,ve.startValue=at[5],Vn(()=>I=!1)),!H&&kt[0]&64&&(H=!0,ve.endValue=at[6],Vn(()=>H=!1)),R.$set(ve),(!it||kt[0]&8)&&ct!==(ct=Tt(at[3])+"")&&Dt(ht,ct),(!it||kt[0]&16)&&pt!==(pt=Tt(at[4])+"")&&Dt(j,pt),zt!==(zt=Vt(at))&&(It.d(1),It=zt(at),It&&(It.c(),It.m(z,null)));let en=st;st=Ln(at),st===en?Kt[st].p(at,kt):(zr(),Jt(Kt[en],1,1,()=>{Kt[en]=null}),Ir(),G=Kt[st],G?G.p(at,kt):(G=Kt[st]=On[st](at),G.c()),Ut(G,1),G.m($,null))},i(at){it||(Ut(R.$$.fragment,at),Ut(G),it=!0)},o(at){Jt(R.$$.fragment,at),Jt(G),it=!1},d(at){at&&lt(e),wt&&wt.d(),gt&&gt.d(),Ge(R),It.d(),Kt[st].d(),bt=!1,Wt(Et)}}}function hu(){try{const t=new URLSearchParams(window.location.search),e=t.get("url"),n=t.get("filename"),r=t.get("bucket");if(e&&/^https?:\/\//i.test(e))return e;if(n){let i="";return r?/^https?:\/\//i.test(r)?i=r:r.includes(".")?i=`https://${r}`:i=`https://${r}.s3.amazonaws.com`:i={VITE_DATA_URL:"https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",BASE_URL:"/semantic-map/",MODE:"production",DEV:!1,PROD:!0}.VITE_S3_BASE_URL||{VITE_DATA_URL:"https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv",BASE_URL:"/semantic-map/",MODE:"production",DEV:!1,PROD:!0}.VITE_DATA_BASE_URL||"https://pink-slime-public.s3.amazonaws.com/",i&&!i.endsWith("/")&&(i+="/"),i?i+n:n}return"https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv"}catch(t){return console.warn("Failed to resolve data URL from query params:",t),"https://charlotte-local-news.s3.us-east-2.amazonaws.com/articles_full_2d.csv"}}function re(t){if(!t||t<=0)return"0 KB";const e=["B","KB","MB","GB","TB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r++;const i=r===0?0:1;return`${n.toFixed(i)} ${e[r]}`}function Tt(t){return t?t.toISOString().split("T")[0]:""}function du(t,e,n){let r,i,o,s="",l=[],u=[],a="org",c=[],h=new Set,g=.02,y=null,S=null,q=[],E=[],x=0,C=0,U=!1,et=null,Z=[],ot="",O=!1,d=!1,f="idle",w=0,b=0,M=0;kn(async()=>{try{n(14,d=!0),n(15,f="downloading"),n(16,w=0),n(17,b=0),n(18,M=0),n(30,s=hu());const N=await fetch(s,{mode:"cors",cache:"no-store"});if(!N.ok)throw new Error(`HTTP ${N.status}`);const z=N.headers.get("content-length");n(17,b=z?parseInt(z,10):0);let V="";if(N.body&&N.body.getReader){const F=N.body.getReader(),rt=[];let tt=0;for(;;){const{done:st,value:G}=await F.read();if(st)break;rt.push(G),tt+=G.byteLength,n(16,w=tt),b&&n(18,M=Math.round(tt/b*100))}const _t=new Uint8Array(tt);let $=0;for(const st of rt)_t.set(st,$),$+=st.byteLength;V=new TextDecoder().decode(_t),console.log("CSV head:",V.split(`
`).slice(0,5).join(`
`))}else V=await N.text();n(15,f="parsing"),await Promise.resolve(X(V)),n(15,f="idle")}catch(N){console.error("Failed to load CSV:",N)}finally{n(14,d=!1)}return()=>{et&&clearInterval(et)}});function X(N){const z=N.split(/\r?\n/);if(z.length>0){const rt=z[0].split(",").map(tt=>tt.trim().toLowerCase()).join(",");z[0]=rt,N=z.join(`
`)}const V=Mi.parse(N,{header:!0});n(31,l=V.data.filter(F=>F.x&&F.y&&F.date).map((F,rt)=>({...F,x:+F.x,y:+F.y,date:new Date(F.date),id:rt}))),n(32,u=V.meta.fields||[]),n(33,E=[...new Set(l.map(F=>F.date.getTime()))].sort((F,rt)=>F-rt).map(F=>new Date(F))),n(3,y=E[0]),n(4,S=E[E.length-1]),n(5,x=0),n(6,C=E.length-1),v(),a&&n(1,c=[...new Set(l.map(F=>F[a]).filter(F=>F!=null&&F!==""))].sort((F,rt)=>String(F).localeCompare(String(rt))))}function m(N){n(0,a=N.target.value),n(1,c=a?[...new Set(l.map(z=>z[a]).filter(Boolean))].sort((z,V)=>String(z).localeCompare(String(V))):[]),n(2,h=new Set),n(13,O=!1)}function A(N){const z=[...N.target.selectedOptions].map(F=>F.value);z.length===c.length||z.length===0?(n(2,h=new Set),n(7,Z=[])):(n(2,h=new Set(z)),n(7,Z=l.filter(F=>h.has(F[a])&&(!y||F.date>=y)&&(!S||F.date<=S)))),n(13,O=!1)}function p(N,z,V=!1){V?(n(3,y=E[N]||E[0]),n(4,S=E[z]||E[E.length-1])):(n(3,y=N),n(4,S=z)),n(13,O=!1),v()}function v(){if(y){const N=y.getTime();n(5,x=Math.max(0,E.findIndex(z=>z.getTime()>=N)))}else n(5,x=0);if(S){const N=S.getTime();let z=-1;for(let V=E.length-1;V>=0;V--)if(E[V].getTime()<=N){z=V;break}n(6,C=z>=0?z:E.length-1)}else n(6,C=E.length-1);x>C&&n(5,x=C),C<x&&n(6,C=x)}function T(N,z){if(N.detail!==void 0)z==="start"?(n(5,x=N.detail),x>C&&n(5,x=C)):(n(6,C=N.detail),C<x&&n(6,C=x)),p(x,C,!0);else{const V=N.target.value?new Date(N.target.value):null;z==="start"?p(V,S):p(y,V),v()}}function k(N){const z=N.target.files[0];if(z){const V=new FileReader;n(13,O=!1),V.onload=F=>X(F.target.result),V.readAsText(z)}}function R(N){const z=C-x;let V=x+N,F=C+N;V<0&&(V=0,F=Math.min(z,E.length-1)),F>=E.length&&(F=E.length-1,V=Math.max(0,F-z)),n(5,x=V),n(6,C=F),p(x,C,!0)}function I(){U?(clearInterval(et),n(12,U=!1)):(n(12,U=!0),n(13,O=!1),et=setInterval(()=>{if(C>=E.length-1){clearInterval(et),n(12,U=!1);return}R(1)},500))}function H(N){n(8,ot=N.target.value),n(13,O=!1)}function P(){n(13,O=!1)}function Q(){U&&et&&(clearInterval(et),n(12,U=!1));const N=u.includes("org")?"org":i[0]||"";n(0,a=N),n(2,h=new Set),n(7,Z=[]),n(8,ot=""),n(13,O=!1),n(10,g=.02),n(10,g=+g),E.length?(n(5,x=0),n(6,C=E.length-1),p(x,C,!0)):(n(3,y=null),n(4,S=null),n(5,x=0),n(6,C=0))}function nt(){a=_i(this),n(0,a),n(32,u),n(9,i),n(9,i),n(32,u)}function ct(){g=mi(this.value),n(10,g)}const ht=N=>T(N,"start"),K=N=>T(N,"end");function J(N){x=N,n(5,x)}function pt(N){C=N,n(6,C)}const j=N=>T(N,"start"),mt=N=>T(N,"end"),dt=()=>R(-7),_=()=>R(-1),B=()=>R(1),W=()=>R(7);return t.$$.update=()=>{if(t.$$.dirty[0]&1073741824&&/^https?:\/\//i.test(s),t.$$.dirty[0]&128&&new Set(Z.map(N=>N.id)),t.$$.dirty[1]&4&&E.length>0&&E[0],t.$$.dirty[1]&4&&n(20,r=E.length>0?E[E.length-1]:null),t.$$.dirty[1]&2&&n(9,i=u.filter(N=>N==="org"||N==="state")),t.$$.dirty[0]&513|t.$$.dirty[1]&2&&(!u||u.length===0||(i.length&&!i.includes(a)?n(0,a=i[0]):i.length===0&&n(0,a=""))),t.$$.dirty[0]&383|t.$$.dirty[1]&5){const N=E.length&&x===0&&C===E.length-1,z=h.size>0&&h.size<c.length,V=ot&&ot.trim().length>0,F=!N||z||V;n(11,q=l.map(rt=>{var it,bt,Et,wt;const tt=(!y||rt.date>=y)&&(!S||rt.date<=S),_t=z?h.has(rt[a]):!0;let $=!0;if(V)try{const gt=new RegExp(ot,"i");$=gt.test((it=rt.title)!=null?it:"")||gt.test((bt=rt.text)!=null?bt:"")}catch{$=((Et=rt.title)!=null?Et:"").toLowerCase().includes(ot.toLowerCase())||((wt=rt.text)!=null?wt:"").toLowerCase().includes(ot.toLowerCase())}let st=!1,G=!1;return F?(st=tt&&_t&&$,G=tt&&_t&&$):(st=!1,G=!1),{...rt,isActive:st,isHighlighted:G}}))}t.$$.dirty[0]&32|t.$$.dirty[1]&4&&E.length>1&&x/(E.length-1)*100,t.$$.dirty[0]&64|t.$$.dirty[1]&4&&E.length>1&&C/(E.length-1)*100,t.$$.dirty[1]&4&&n(19,o=E.length>0?E.length-1:0)},[a,c,h,y,S,x,C,Z,ot,i,g,q,U,O,d,f,w,b,M,o,r,m,A,T,k,R,I,H,P,Q,s,l,u,E,nt,ct,ht,K,J,pt,j,mt,dt,_,B,W]}class pu extends je{constructor(e){super(),Ze(this,e,du,cu,Ke,{},null,[-1,-1])}}new pu({target:document.getElementById("app")});
