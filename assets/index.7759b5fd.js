(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Nt(){}function yr(t){return t()}function Tn(){return Object.create(null)}function qt(t){t.forEach(yr)}function wr(t){return typeof t=="function"}function Xe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ii(t){return Object.keys(t).length===0}function V(t,e){t.appendChild(e)}function yt(t,e,n){t.insertBefore(e,n||null)}function gt(t){t.parentNode.removeChild(t)}function vr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Z(t){return document.createElement(t)}function Rt(t){return document.createTextNode(t)}function ct(){return Rt(" ")}function pt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function si(t){return t===""?null:+t}function oi(t){return Array.from(t.childNodes)}function Bt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Rn(t,e){t.value=e==null?"":e}function St(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Nn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function ai(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function li(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let ue;function le(t){ue=t}function br(){if(!ue)throw new Error("Function called outside component initialization");return ue}function mn(t){br().$$.on_mount.push(t)}function ui(){const t=br();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=li(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const se=[],Ft=[],ke=[],$e=[],fi=Promise.resolve();let tn=!1;function ci(){tn||(tn=!0,fi.then(xr))}function Te(t){ke.push(t)}function In(t){$e.push(t)}const Ge=new Set;let me=0;function xr(){const t=ue;do{for(;me<se.length;){const e=se[me];me++,le(e),hi(e.$$)}for(le(null),se.length=0,me=0;Ft.length;)Ft.pop()();for(let e=0;e<ke.length;e+=1){const n=ke[e];Ge.has(n)||(Ge.add(n),n())}ke.length=0}while(se.length);for(;$e.length;)$e.pop()();tn=!1,Ge.clear(),le(t)}function hi(t){if(t.fragment!==null){t.update(),qt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Te)}}const Me=new Set;let Wt;function kr(){Wt={r:0,c:[],p:Wt}}function Mr(){Wt.r||qt(Wt.c),Wt=Wt.p}function Vt(t,e){t&&t.i&&(Me.delete(t),t.i(e))}function Qt(t,e,n,r){if(t&&t.o){if(Me.has(t))return;Me.add(t),Wt.c.push(()=>{Me.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function zn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function _n(t){t&&t.c()}function qe(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||Te(()=>{const o=t.$$.on_mount.map(yr).filter(wr);t.$$.on_destroy?t.$$.on_destroy.push(...o):qt(o),t.$$.on_mount=[]}),s.forEach(Te)}function He(t,e){const n=t.$$;n.fragment!==null&&(qt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function di(t,e){t.$$.dirty[0]===-1&&(se.push(t),ci(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ye(t,e,n,r,i,s,o,l=[-1]){const u=ue;le(t);const a=t.$$={fragment:null,ctx:[],props:s,update:Nt,not_equal:i,bound:Tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Tn(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(p,_,...v)=>{const S=v.length?v[0]:_;return a.ctx&&i(a.ctx[p],a.ctx[p]=S)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](S),f&&di(t,p)),_}):[],a.update(),f=!0,qt(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const p=oi(e.target);a.fragment&&a.fragment.l(p),p.forEach(gt)}else a.fragment&&a.fragment.c();e.intro&&Vt(t.$$.fragment),qe(t,e.target,e.anchor,e.customElement),xr()}le(u)}class Be{$destroy(){He(this,1),this.$destroy=Nt}$on(e,n){if(!wr(n))return Nt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ii(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(pi,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},u=0,a={};function f(c){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(h){var y=et(h);y.chunkSize=parseInt(y.chunkSize),h.step||h.chunk||(y.chunkSize=null),this._handle=new F(y),(this._handle.streamer=this)._config=y}.call(this,c),this.parseChunk=function(h,y){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let O=this._config.newline;O||(m=this._config.quoteChar||'"',O=this._handle.guessLineEndings(h,m)),h=[...h.split(O).slice(k)].join(O)}this.isFirstChunk&&X(this._config.beforeFirstChunk)&&(m=this._config.beforeFirstChunk(h))!==void 0&&(h=m),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+h,m=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(h=m.meta.cursor,k=(this._finished||(this._partialLine=k.substring(h-this._baseIndex),this._baseIndex=h),m&&m.data&&(this._rowCount+=m.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:m,workerId:a.WORKER_ID,finished:k});else if(X(this._config.chunk)&&!y){if(this._config.chunk(m,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=m=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(m.data),this._completeResults.errors=this._completeResults.errors.concat(m.errors),this._completeResults.meta=m.meta),this._completed||!k||!X(this._config.complete)||m&&m.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||m&&m.meta.paused||this._nextChunk(),m}this._halted=!0},this._sendError=function(h){X(this._config.error)?this._config.error(h):o&&this._config.error&&r.postMessage({workerId:a.WORKER_ID,error:h,finished:!1})}}function p(c){var h;(c=c||{}).chunkSize||(c.chunkSize=a.RemoteChunkSize),f.call(this,c),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(y){this._input=y,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(h=new XMLHttpRequest,this._config.withCredentials&&(h.withCredentials=this._config.withCredentials),s||(h.onload=G(this._chunkLoaded,this),h.onerror=G(this._chunkError,this)),h.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var y,k=this._config.downloadRequestHeaders;for(y in k)h.setRequestHeader(y,k[y])}var m;this._config.chunkSize&&(m=this._start+this._config.chunkSize-1,h.setRequestHeader("Range","bytes="+this._start+"-"+m));try{h.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}s&&h.status===0&&this._chunkError()}},this._chunkLoaded=function(){h.readyState===4&&(h.status<200||400<=h.status?this._chunkError():(this._start+=this._config.chunkSize||h.responseText.length,this._finished=!this._config.chunkSize||this._start>=(y=>(y=y.getResponseHeader("Content-Range"))!==null?parseInt(y.substring(y.lastIndexOf("/")+1)):-1)(h),this.parseChunk(h.responseText)))},this._chunkError=function(y){y=h.statusText||y,this._sendError(new Error(y))}}function _(c){(c=c||{}).chunkSize||(c.chunkSize=a.LocalChunkSize),f.call(this,c);var h,y,k=typeof FileReader<"u";this.stream=function(m){this._input=m,y=m.slice||m.webkitSlice||m.mozSlice,k?((h=new FileReader).onload=G(this._chunkLoaded,this),h.onerror=G(this._chunkError,this)):h=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),m=y.call(m,this._start,O)),h.readAsText(m,this._config.encoding));k||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(h.error)}}function v(c){var h;f.call(this,c=c||{}),this.stream=function(y){return h=y,this._nextChunk()},this._nextChunk=function(){var y,k;if(!this._finished)return y=this._config.chunkSize,h=y?(k=h.substring(0,y),h.substring(y)):(k=h,""),this._finished=!h,this.parseChunk(k)}}function S(c){f.call(this,c=c||{});var h=[],y=!0,k=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&h.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),h.length?this.parseChunk(h.shift()):y=!0},this._streamData=G(function(m){try{h.push(typeof m=="string"?m:m.toString(this._config.encoding)),y&&(y=!1,this._checkIsFinished(),this.parseChunk(h.shift()))}catch(O){this._streamError(O)}},this),this._streamError=G(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=G(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function F(c){var h,y,k,m,O=Math.pow(2,53),d=-O,M=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,g=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,b=this,E=0,x=0,N=!1,T=!1,L=[],z={data:[],errors:[],meta:{}};function Y(D){return c.skipEmptyLines==="greedy"?D.join("").trim()==="":D.length===1&&D[0].length===0}function tt(){if(z&&k&&(I("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),k=!1),c.skipEmptyLines&&(z.data=z.data.filter(function(W){return!Y(W)})),ot()){let W=function(B,nt){X(c.transformHeader)&&(B=c.transformHeader(B,nt)),L.push(B)};var w=W;if(z)if(Array.isArray(z.data[0])){for(var D=0;ot()&&D<z.data.length;D++)z.data[D].forEach(W);z.data.splice(0,1)}else z.data.forEach(W)}function R(W,B){for(var nt=c.header?{}:[],K=0;K<W.length;K++){var q=K,at=W[K],at=(($,J)=>(Q=>(c.dynamicTypingFunction&&c.dynamicTyping[Q]===void 0&&(c.dynamicTyping[Q]=c.dynamicTypingFunction(Q)),(c.dynamicTyping[Q]||c.dynamicTyping)===!0))($)?J==="true"||J==="TRUE"||J!=="false"&&J!=="FALSE"&&((Q=>{if(M.test(Q)&&(Q=parseFloat(Q),d<Q&&Q<O))return 1})(J)?parseFloat(J):g.test(J)?new Date(J):J===""?null:J):J)(q=c.header?K>=L.length?"__parsed_extra":L[K]:q,at=c.transform?c.transform(at,q):at);q==="__parsed_extra"?(nt[q]=nt[q]||[],nt[q].push(at)):nt[q]=at}return c.header&&(K>L.length?I("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+K,x+B):K<L.length&&I("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+K,x+B)),nt}var j;z&&(c.header||c.dynamicTyping||c.transform)&&(j=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(R),j=z.data.length):z.data=R(z.data,0),c.header&&z.meta&&(z.meta.fields=L),x+=j)}function ot(){return c.header&&L.length===0}function I(D,R,j,w){D={type:D,code:R,message:j},w!==void 0&&(D.row=w),z.errors.push(D)}X(c.step)&&(m=c.step,c.step=function(D){z=D,ot()?tt():(tt(),z.data.length!==0&&(E+=D.data.length,c.preview&&E>c.preview?y.abort():(z.data=z.data[0],m(z,b))))}),this.parse=function(D,R,j){var w=c.quoteChar||'"',w=(c.newline||(c.newline=this.guessLineEndings(D,w)),k=!1,c.delimiter?X(c.delimiter)&&(c.delimiter=c.delimiter(D),z.meta.delimiter=c.delimiter):((w=((W,B,nt,K,q)=>{var at,$,J,Q;q=q||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var ut=0;ut<q.length;ut++){for(var dt,vt=q[ut],ft=0,lt=0,rt=0,mt=(J=void 0,new A({comments:K,delimiter:vt,newline:B,preview:10}).parse(W)),wt=0;wt<mt.data.length;wt++)nt&&Y(mt.data[wt])?rt++:(dt=mt.data[wt].length,lt+=dt,J===void 0?J=dt:0<dt&&(ft+=Math.abs(dt-J),J=dt));0<mt.data.length&&(lt/=mt.data.length-rt),($===void 0||ft<=$)&&(Q===void 0||Q<lt)&&1.99<lt&&($=ft,at=vt,Q=lt)}return{successful:!!(c.delimiter=at),bestDelimiter:at}})(D,c.newline,c.skipEmptyLines,c.comments,c.delimitersToGuess)).successful?c.delimiter=w.bestDelimiter:(k=!0,c.delimiter=a.DefaultDelimiter),z.meta.delimiter=c.delimiter),et(c));return c.preview&&c.header&&w.preview++,h=D,y=new A(w),z=y.parse(h,R,j),tt(),N?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return N},this.pause=function(){N=!0,y.abort(),h=X(c.chunk)?"":h.substring(y.getCharIndex())},this.resume=function(){b.streamer._halted?(N=!1,b.streamer.parseChunk(h,!0)):setTimeout(b.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,y.abort(),z.meta.aborted=!0,X(c.complete)&&c.complete(z),h=""},this.guessLineEndings=function(W,w){W=W.substring(0,1048576);var w=new RegExp(C(w)+"([^]*?)"+C(w),"gm"),j=(W=W.replace(w,"")).split("\r"),w=W.split(`
`),W=1<w.length&&w[0].length<j[0].length;if(j.length===1||W)return`
`;for(var B=0,nt=0;nt<j.length;nt++)j[nt][0]===`
`&&B++;return B>=j.length/2?`\r
`:"\r"}}function C(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(c){var h=(c=c||{}).delimiter,y=c.newline,k=c.comments,m=c.step,O=c.preview,d=c.fastMode,M=null,g=!1,b=c.quoteChar==null?'"':c.quoteChar,E=b;if(c.escapeChar!==void 0&&(E=c.escapeChar),(typeof h!="string"||-1<a.BAD_DELIMITERS.indexOf(h))&&(h=","),k===h)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<a.BAD_DELIMITERS.indexOf(k))&&(k=!1),y!==`
`&&y!=="\r"&&y!==`\r
`&&(y=`
`);var x=0,N=!1;this.parse=function(T,L,z){if(typeof T!="string")throw new Error("Input must be a string");var Y=T.length,tt=h.length,ot=y.length,I=k.length,D=X(m),R=[],j=[],w=[],W=x=0;if(!T)return ft();if(d||d!==!1&&T.indexOf(b)===-1){for(var B=T.split(y),nt=0;nt<B.length;nt++){if(w=B[nt],x+=w.length,nt!==B.length-1)x+=y.length;else if(z)return ft();if(!k||w.substring(0,I)!==k){if(D){if(R=[],Q(w.split(h)),lt(),N)return ft()}else Q(w.split(h));if(O&&O<=nt)return R=R.slice(0,O),ft(!0)}}return ft()}for(var K=T.indexOf(h,x),q=T.indexOf(y,x),at=new RegExp(C(E)+C(b),"g"),$=T.indexOf(b,x);;)if(T[x]===b)for($=x,x++;;){if(($=T.indexOf(b,$+1))===-1)return z||j.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:x}),dt();if($===Y-1)return dt(T.substring(x,$).replace(at,b));if(b===E&&T[$+1]===E)$++;else if(b===E||$===0||T[$-1]!==E){K!==-1&&K<$+1&&(K=T.indexOf(h,$+1));var J=ut((q=q!==-1&&q<$+1?T.indexOf(y,$+1):q)===-1?K:Math.min(K,q));if(T.substr($+1+J,tt)===h){w.push(T.substring(x,$).replace(at,b)),T[x=$+1+J+tt]!==b&&($=T.indexOf(b,x)),K=T.indexOf(h,x),q=T.indexOf(y,x);break}if(J=ut(q),T.substring($+1+J,$+1+J+ot)===y){if(w.push(T.substring(x,$).replace(at,b)),vt($+1+J+ot),K=T.indexOf(h,x),$=T.indexOf(b,x),D&&(lt(),N))return ft();if(O&&R.length>=O)return ft(!0);break}j.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:x}),$++}}else if(k&&w.length===0&&T.substring(x,x+I)===k){if(q===-1)return ft();x=q+ot,q=T.indexOf(y,x),K=T.indexOf(h,x)}else if(K!==-1&&(K<q||q===-1))w.push(T.substring(x,K)),x=K+tt,K=T.indexOf(h,x);else{if(q===-1)break;if(w.push(T.substring(x,q)),vt(q+ot),D&&(lt(),N))return ft();if(O&&R.length>=O)return ft(!0)}return dt();function Q(rt){R.push(rt),W=x}function ut(rt){var mt=0;return mt=rt!==-1&&(rt=T.substring($+1,rt))&&rt.trim()===""?rt.length:mt}function dt(rt){return z||(rt===void 0&&(rt=T.substring(x)),w.push(rt),x=Y,Q(w),D&&lt()),ft()}function vt(rt){x=rt,Q(w),w=[],q=T.indexOf(y,x)}function ft(rt){if(c.header&&!L&&R.length&&!g){var mt=R[0],wt={},_t=new Set(mt);let kt=!1;for(let bt=0;bt<mt.length;bt++){let ht=mt[bt];if(wt[ht=X(c.transformHeader)?c.transformHeader(ht,bt):ht]){let At,Mt=wt[ht];for(;At=ht+"_"+Mt,Mt++,_t.has(At););_t.add(At),mt[bt]=At,wt[ht]++,kt=!0,(M=M===null?{}:M)[At]=ht}else wt[ht]=1,mt[bt]=ht;_t.add(ht)}kt&&console.warn("Duplicate headers found and renamed."),g=!0}return{data:R,errors:j,meta:{delimiter:h,linebreak:y,aborted:N,truncated:!!rt,cursor:W+(L||0),renamedHeaders:M}}}function lt(){m(ft()),R=[],j=[]}},this.abort=function(){N=!0},this.getCharIndex=function(){return x}}function it(c){var h=c.data,y=l[h.workerId],k=!1;if(h.error)y.userError(h.error,h.file);else if(h.results&&h.results.data){var m={abort:function(){k=!0,H(h.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:U,resume:U};if(X(y.userStep)){for(var O=0;O<h.results.data.length&&(y.userStep({data:h.results.data[O],errors:h.results.errors,meta:h.results.meta},m),!k);O++);delete h.results}else X(y.userChunk)&&(y.userChunk(h.results,m,h.file),delete h.results)}h.finished&&!k&&H(h.workerId,h.results)}function H(c,h){var y=l[c];X(y.userComplete)&&y.userComplete(h),y.terminate(),delete l[c]}function U(){throw new Error("Not implemented.")}function et(c){if(typeof c!="object"||c===null)return c;var h,y=Array.isArray(c)?[]:{};for(h in c)y[h]=et(c[h]);return y}function G(c,h){return function(){c.apply(h,arguments)}}function X(c){return typeof c=="function"}return a.parse=function(c,h){var y=(h=h||{}).dynamicTyping||!1;if(X(y)&&(h.dynamicTypingFunction=y,y={}),h.dynamicTyping=y,h.transform=!!X(h.transform)&&h.transform,!h.worker||!a.WORKERS_SUPPORTED)return y=null,a.NODE_STREAM_INPUT,typeof c=="string"?(c=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(c),y=new(h.download?p:v)(h)):c.readable===!0&&X(c.read)&&X(c.on)?y=new S(h):(r.File&&c instanceof File||c instanceof Object)&&(y=new _(h)),y.stream(c);(y=(()=>{var k;return!!a.WORKERS_SUPPORTED&&(k=(()=>{var m=r.URL||r.webkitURL||null,O=n.toString();return a.BLOB_URL||(a.BLOB_URL=m.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=it,k.id=u++,l[k.id]=k)})()).userStep=h.step,y.userChunk=h.chunk,y.userComplete=h.complete,y.userError=h.error,h.step=X(h.step),h.chunk=X(h.chunk),h.complete=X(h.complete),h.error=X(h.error),delete h.worker,y.postMessage({input:c,config:h,workerId:y.id})},a.unparse=function(c,h){var y=!1,k=!0,m=",",O=`\r
`,d='"',M=d+d,g=!1,b=null,E=!1,x=((()=>{if(typeof h=="object"){if(typeof h.delimiter!="string"||a.BAD_DELIMITERS.filter(function(L){return h.delimiter.indexOf(L)!==-1}).length||(m=h.delimiter),typeof h.quotes!="boolean"&&typeof h.quotes!="function"&&!Array.isArray(h.quotes)||(y=h.quotes),typeof h.skipEmptyLines!="boolean"&&typeof h.skipEmptyLines!="string"||(g=h.skipEmptyLines),typeof h.newline=="string"&&(O=h.newline),typeof h.quoteChar=="string"&&(d=h.quoteChar),typeof h.header=="boolean"&&(k=h.header),Array.isArray(h.columns)){if(h.columns.length===0)throw new Error("Option columns is empty");b=h.columns}h.escapeChar!==void 0&&(M=h.escapeChar+d),h.escapeFormulae instanceof RegExp?E=h.escapeFormulae:typeof h.escapeFormulae=="boolean"&&h.escapeFormulae&&(E=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(d),"g"));if(typeof c=="string"&&(c=JSON.parse(c)),Array.isArray(c)){if(!c.length||Array.isArray(c[0]))return N(null,c,g);if(typeof c[0]=="object")return N(b||Object.keys(c[0]),c,g)}else if(typeof c=="object")return typeof c.data=="string"&&(c.data=JSON.parse(c.data)),Array.isArray(c.data)&&(c.fields||(c.fields=c.meta&&c.meta.fields||b),c.fields||(c.fields=Array.isArray(c.data[0])?c.fields:typeof c.data[0]=="object"?Object.keys(c.data[0]):[]),Array.isArray(c.data[0])||typeof c.data[0]=="object"||(c.data=[c.data])),N(c.fields||[],c.data||[],g);throw new Error("Unable to serialize unrecognized input");function N(L,z,Y){var tt="",ot=(typeof L=="string"&&(L=JSON.parse(L)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(L)&&0<L.length),I=!Array.isArray(z[0]);if(ot&&k){for(var D=0;D<L.length;D++)0<D&&(tt+=m),tt+=T(L[D],D);0<z.length&&(tt+=O)}for(var R=0;R<z.length;R++){var j=(ot?L:z[R]).length,w=!1,W=ot?Object.keys(z[R]).length===0:z[R].length===0;if(Y&&!ot&&(w=Y==="greedy"?z[R].join("").trim()==="":z[R].length===1&&z[R][0].length===0),Y==="greedy"&&ot){for(var B=[],nt=0;nt<j;nt++){var K=I?L[nt]:nt;B.push(z[R][K])}w=B.join("").trim()===""}if(!w){for(var q=0;q<j;q++){0<q&&!W&&(tt+=m);var at=ot&&I?L[q]:q;tt+=T(z[R][at],q)}R<z.length-1&&(!Y||0<j&&!W)&&(tt+=O)}}return tt}function T(L,z){var Y,tt;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):(tt=!1,E&&typeof L=="string"&&E.test(L)&&(L="'"+L,tt=!0),Y=L.toString().replace(x,M),(tt=tt||y===!0||typeof y=="function"&&y(L,z)||Array.isArray(y)&&y[z]||((ot,I)=>{for(var D=0;D<I.length;D++)if(-1<ot.indexOf(I[D]))return!0;return!1})(Y,a.BAD_DELIMITERS)||-1<Y.indexOf(m)||Y.charAt(0)===" "||Y.charAt(Y.length-1)===" ")?d+Y+d:Y)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!s&&!!r.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=A,a.ParserHandle=F,a.NetworkStreamer=p,a.FileStreamer=_,a.StringStreamer=v,a.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(c){var h=c.config||{},y=[];return this.each(function(O){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var d=0;d<this.files.length;d++)y.push({file:this.files[d],inputElem:this,instanceConfig:i.extend({},h)})}),k(),this;function k(){if(y.length===0)X(c.complete)&&c.complete();else{var O,d,M,g,b=y[0];if(X(c.before)){var E=c.before(b.file,b.inputElem);if(typeof E=="object"){if(E.action==="abort")return O="AbortError",d=b.file,M=b.inputElem,g=E.reason,void(X(c.error)&&c.error({name:O},d,M,g));if(E.action==="skip")return void m();typeof E.config=="object"&&(b.instanceConfig=i.extend(b.instanceConfig,E.config))}else if(E==="skip")return void m()}var x=b.instanceConfig.complete;b.instanceConfig.complete=function(N){X(x)&&x(N,b.file,b.inputElem),m()},a.parse(b.file,b.instanceConfig)}}function m(){y.splice(0,1),k()}}),o&&(r.onmessage=function(c){c=c.data,a.WORKER_ID===void 0&&c&&(a.WORKER_ID=c.workerId),typeof c.input=="string"?r.postMessage({workerId:a.WORKER_ID,results:a.parse(c.input,c.config),finished:!0}):(r.File&&c.input instanceof File||c.input instanceof Object)&&(c=a.parse(c.input,c.config))&&r.postMessage({workerId:a.WORKER_ID,results:c,finished:!0})}),(p.prototype=Object.create(f.prototype)).constructor=p,(_.prototype=Object.create(f.prototype)).constructor=_,(v.prototype=Object.create(v.prototype)).constructor=v,(S.prototype=Object.create(f.prototype)).constructor=S,a})})(Sr);const gi=Sr.exports;function Se(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Er(t){let e,n,r;t.length!==2?(e=Se,n=(l,u)=>Se(t(l),u),r=(l,u)=>t(l)-u):(e=t===Se||t===mi?t:_i,n=t,r=t);function i(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const p=a+f>>>1;n(l[p],u)<0?a=p+1:f=p}while(a<f)}return a}function s(l,u,a=0,f=l.length){if(a<f){if(e(u,u)!==0)return f;do{const p=a+f>>>1;n(l[p],u)<=0?a=p+1:f=p}while(a<f)}return a}function o(l,u,a=0,f=l.length){const p=i(l,u,a,f-1);return p>a&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:s}}function _i(){return 0}function yi(t){return t===null?NaN:+t}const wi=Er(Se),vi=wi.right;Er(yi).center;const bi=vi;class On extends Map{constructor(e,n=Mi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ln(this,e))}has(e){return super.has(Ln(this,e))}set(e,n){return super.set(xi(this,e),n)}delete(e){return super.delete(ki(this,e))}}function Ln({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xi({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ki({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Mi(t){return t!==null&&typeof t=="object"?t.valueOf():t}var en=Math.sqrt(50),nn=Math.sqrt(10),rn=Math.sqrt(2);function Si(t,e,n){var r,i=-1,s,o,l;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(s=t,t=e,e=s),(l=Cr(t,e,n))===0||!isFinite(l))return[];if(l>0){let u=Math.round(t/l),a=Math.round(e/l);for(u*l<t&&++u,a*l>e&&--a,o=new Array(s=a-u+1);++i<s;)o[i]=(u+i)*l}else{l=-l;let u=Math.round(t*l),a=Math.round(e*l);for(u/l<t&&++u,a/l>e&&--a,o=new Array(s=a-u+1);++i<s;)o[i]=(u+i)/l}return r&&o.reverse(),o}function Cr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=en?10:s>=nn?5:s>=rn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=en?10:s>=nn?5:s>=rn?2:1)}function Ei(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=en?i*=10:s>=nn?i*=5:s>=rn&&(i*=2),e<t?-i:i}function Pn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Fn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ar(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Vn=Symbol("implicit");function Dr(){var t=new On,e=[],n=[],r=Vn;function i(s){let o=t.get(s);if(o===void 0){if(r!==Vn)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new On;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Dr(e,n).unknown(r)},Ar.apply(i,arguments),i}function yn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Tr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function de(){}var fe=.7,Re=1/fe,$t="\\s*([+-]?\\d+)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ci=/^#([0-9a-f]{3,8})$/,Ai=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),Di=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Ti=new RegExp(`^rgba\\(${$t},${$t},${$t},${ce}\\)$`),Ri=new RegExp(`^rgba\\(${zt},${zt},${zt},${ce}\\)$`),Ni=new RegExp(`^hsl\\(${ce},${zt},${zt}\\)$`),Ii=new RegExp(`^hsla\\(${ce},${zt},${zt},${ce}\\)$`),Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yn(de,Zt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qn,formatHex:qn,formatHex8:zi,formatHsl:Oi,formatRgb:Hn,toString:Hn});function qn(){return this.rgb().formatHex()}function zi(){return this.rgb().formatHex8()}function Oi(){return Rr(this).formatHsl()}function Hn(){return this.rgb().formatRgb()}function Zt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ci.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Yn(e):n===3?new Et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_e(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_e(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ai.exec(t))?new Et(e[1],e[2],e[3],1):(e=Di.exec(t))?new Et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ti.exec(t))?_e(e[1],e[2],e[3],e[4]):(e=Ri.exec(t))?_e(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ni.exec(t))?Wn(e[1],e[2]/100,e[3]/100,1):(e=Ii.exec(t))?Wn(e[1],e[2]/100,e[3]/100,e[4]):Xn.hasOwnProperty(t)?Yn(Xn[t]):t==="transparent"?new Et(NaN,NaN,NaN,0):null}function Yn(t){return new Et(t>>16&255,t>>8&255,t&255,1)}function _e(t,e,n,r){return r<=0&&(t=e=n=NaN),new Et(t,e,n,r)}function Li(t){return t instanceof de||(t=Zt(t)),t?(t=t.rgb(),new Et(t.r,t.g,t.b,t.opacity)):new Et}function sn(t,e,n,r){return arguments.length===1?Li(t):new Et(t,e,n,r==null?1:r)}function Et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yn(Et,sn,Tr(de,{brighter(t){return t=t==null?Re:Math.pow(Re,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fe:Math.pow(fe,t),new Et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Et(Gt(this.r),Gt(this.g),Gt(this.b),Ne(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bn,formatHex:Bn,formatHex8:Pi,formatRgb:Un,toString:Un}));function Bn(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}`}function Pi(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}${Kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Un(){const t=Ne(this.opacity);return`${t===1?"rgb(":"rgba("}${Gt(this.r)}, ${Gt(this.g)}, ${Gt(this.b)}${t===1?")":`, ${t})`}`}function Ne(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kt(t){return t=Gt(t),(t<16?"0":"")+t.toString(16)}function Wn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tt(t,e,n,r)}function Rr(t){if(t instanceof Tt)return new Tt(t.h,t.s,t.l,t.opacity);if(t instanceof de||(t=Zt(t)),!t)return new Tt;if(t instanceof Tt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Tt(o,l,u,t.opacity)}function Fi(t,e,n,r){return arguments.length===1?Rr(t):new Tt(t,e,n,r==null?1:r)}function Tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yn(Tt,Fi,Tr(de,{brighter(t){return t=t==null?Re:Math.pow(Re,t),new Tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fe:Math.pow(fe,t),new Tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Et(Ze(t>=240?t-240:t+120,i,r),Ze(t,i,r),Ze(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tt(Kn(this.h),ye(this.s),ye(this.l),Ne(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ne(this.opacity);return`${t===1?"hsl(":"hsla("}${Kn(this.h)}, ${ye(this.s)*100}%, ${ye(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kn(t){return t=(t||0)%360,t<0?t+360:t}function ye(t){return Math.max(0,Math.min(1,t||0))}function Ze(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wn=t=>()=>t;function Vi(t,e){return function(n){return t+n*e}}function Xi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qi(t){return(t=+t)==1?Nr:function(e,n){return n-e?Xi(e,n,t):wn(isNaN(e)?n:e)}}function Nr(t,e){var n=e-t;return n?Vi(t,n):wn(isNaN(t)?e:t)}const Ie=function t(e){var n=qi(e);function r(i,s){var o=n((i=sn(i)).r,(s=sn(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),a=Nr(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=a(f),i+""}}return r.gamma=t,r}(1);function Hi(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Yi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bi(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=vn(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function Ui(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wi(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vn(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,je=new RegExp(on.source,"g");function Ki(t){return function(){return t}}function Qi(t){return function(e){return t(e)+""}}function Ir(t,e){var n=on.lastIndex=je.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=on.exec(t))&&(i=je.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Dt(r,i)})),n=je.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?Qi(u[0].x):Ki(e):(e=u.length,function(a){for(var f=0,p;f<e;++f)l[(p=u[f]).i]=p.x(a);return l.join("")})}function vn(t,e){var n=typeof e,r;return e==null||n==="boolean"?wn(e):(n==="number"?Dt:n==="string"?(r=Zt(e))?(e=r,Ie):Ir:e instanceof Zt?Ie:e instanceof Date?Ui:Yi(e)?Hi:Array.isArray(e)?Bi:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wi:Dt)(t,e)}function Gi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Qn=180/Math.PI,an={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zr(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Qn,skewX:Math.atan(u)*Qn,scaleX:o,scaleY:l}}var we;function Zi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?an:zr(e.a,e.b,e.c,e.d,e.e,e.f)}function ji(t){return t==null||(we||(we=document.createElementNS("http://www.w3.org/2000/svg","g")),we.setAttribute("transform",t),!(t=we.transform.baseVal.consolidate()))?an:(t=t.matrix,zr(t.a,t.b,t.c,t.d,t.e,t.f))}function Or(t,e,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,f,p,_,v,S){if(a!==p||f!==_){var F=v.push("translate(",null,e,null,n);S.push({i:F-4,x:Dt(a,p)},{i:F-2,x:Dt(f,_)})}else(p||_)&&v.push("translate("+p+e+_+n)}function o(a,f,p,_){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),_.push({i:p.push(i(p)+"rotate(",null,r)-2,x:Dt(a,f)})):f&&p.push(i(p)+"rotate("+f+r)}function l(a,f,p,_){a!==f?_.push({i:p.push(i(p)+"skewX(",null,r)-2,x:Dt(a,f)}):f&&p.push(i(p)+"skewX("+f+r)}function u(a,f,p,_,v,S){if(a!==p||f!==_){var F=v.push(i(v)+"scale(",null,",",null,")");S.push({i:F-4,x:Dt(a,p)},{i:F-2,x:Dt(f,_)})}else(p!==1||_!==1)&&v.push(i(v)+"scale("+p+","+_+")")}return function(a,f){var p=[],_=[];return a=t(a),f=t(f),s(a.translateX,a.translateY,f.translateX,f.translateY,p,_),o(a.rotate,f.rotate,p,_),l(a.skewX,f.skewX,p,_),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,p,_),a=f=null,function(v){for(var S=-1,F=_.length,C;++S<F;)p[(C=_[S]).i]=C.x(v);return p.join("")}}}var Ji=Or(Zi,"px, ","px)","deg)"),$i=Or(ji,", ",")",")"),ts=1e-12;function Gn(t){return((t=Math.exp(t))+1/t)/2}function es(t){return((t=Math.exp(t))-1/t)/2}function ns(t){return((t=Math.exp(2*t))-1)/(t+1)}const rs=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],a=s[2],f=o[0],p=o[1],_=o[2],v=f-l,S=p-u,F=v*v+S*S,C,A;if(F<ts)A=Math.log(_/a)/e,C=function(X){return[l+X*v,u+X*S,a*Math.exp(e*X*A)]};else{var it=Math.sqrt(F),H=(_*_-a*a+r*F)/(2*a*n*it),U=(_*_-a*a-r*F)/(2*_*n*it),et=Math.log(Math.sqrt(H*H+1)-H),G=Math.log(Math.sqrt(U*U+1)-U);A=(G-et)/e,C=function(X){var c=X*A,h=Gn(et),y=a/(n*it)*(h*ns(e*c+et)-es(et));return[l+y*v,u+y*S,a*h/Gn(e*c+et)]}}return C.duration=A*1e3*e/Math.SQRT2,C}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);function is(t){return function(){return t}}function ss(t){return+t}var Zn=[0,1];function Jt(t){return t}function ln(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:is(isNaN(e)?NaN:.5)}function os(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function as(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=ln(i,r),s=n(o,s)):(r=ln(r,i),s=n(s,o)),function(l){return s(r(l))}}function ls(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ln(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var u=bi(t,l,1,r)-1;return s[u](i[u](l))}}function us(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fs(){var t=Zn,e=Zn,n=vn,r,i,s,o=Jt,l,u,a;function f(){var _=Math.min(t.length,e.length);return o!==Jt&&(o=os(t[0],t[_-1])),l=_>2?ls:as,u=a=null,p}function p(_){return _==null||isNaN(_=+_)?s:(u||(u=l(t.map(r),e,n)))(r(o(_)))}return p.invert=function(_){return o(i((a||(a=l(e,t.map(r),Dt)))(_)))},p.domain=function(_){return arguments.length?(t=Array.from(_,ss),f()):t.slice()},p.range=function(_){return arguments.length?(e=Array.from(_),f()):e.slice()},p.rangeRound=function(_){return e=Array.from(_),n=Gi,f()},p.clamp=function(_){return arguments.length?(o=_?!0:Jt,f()):o!==Jt},p.interpolate=function(_){return arguments.length?(n=_,f()):n},p.unknown=function(_){return arguments.length?(s=_,p):s},function(_,v){return r=_,i=v,f()}}function cs(){return fs()(Jt,Jt)}function hs(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ze(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function te(t){return t=ze(Math.abs(t)),t?t[1]:NaN}function ds(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function ps(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oe(t){if(!(e=gs.exec(t)))throw new Error("invalid format: "+t);var e;return new bn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oe.prototype=bn.prototype;function bn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ms(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Lr;function _s(t,e){var n=ze(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Lr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ze(t,Math.max(0,e+s-1))[0]}function jn(t,e){var n=ze(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hs,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jn(t*100,e),r:jn,s:_s,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $n(t){return t}var tr=Array.prototype.map,er=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ys(t){var e=t.grouping===void 0||t.thousands===void 0?$n:ds(tr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$n:ps(tr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function a(p){p=Oe(p);var _=p.fill,v=p.align,S=p.sign,F=p.symbol,C=p.zero,A=p.width,it=p.comma,H=p.precision,U=p.trim,et=p.type;et==="n"?(it=!0,et="g"):Jn[et]||(H===void 0&&(H=12),U=!0,et="g"),(C||_==="0"&&v==="=")&&(C=!0,_="0",v="=");var G=F==="$"?n:F==="#"&&/[boxX]/.test(et)?"0"+et.toLowerCase():"",X=F==="$"?r:/[%p]/.test(et)?o:"",c=Jn[et],h=/[defgprs%]/.test(et);H=H===void 0?6:/[gprs]/.test(et)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function y(k){var m=G,O=X,d,M,g;if(et==="c")O=c(k)+O,k="";else{k=+k;var b=k<0||1/k<0;if(k=isNaN(k)?u:c(Math.abs(k),H),U&&(k=ms(k)),b&&+k==0&&S!=="+"&&(b=!1),m=(b?S==="("?S:l:S==="-"||S==="("?"":S)+m,O=(et==="s"?er[8+Lr/3]:"")+O+(b&&S==="("?")":""),h){for(d=-1,M=k.length;++d<M;)if(g=k.charCodeAt(d),48>g||g>57){O=(g===46?i+k.slice(d+1):k.slice(d))+O,k=k.slice(0,d);break}}}it&&!C&&(k=e(k,1/0));var E=m.length+k.length+O.length,x=E<A?new Array(A-E+1).join(_):"";switch(it&&C&&(k=e(x+k,x.length?A-O.length:1/0),x=""),v){case"<":k=m+k+O+x;break;case"=":k=m+x+k+O;break;case"^":k=x.slice(0,E=x.length>>1)+m+k+O+x.slice(E);break;default:k=x+m+k+O;break}return s(k)}return y.toString=function(){return p+""},y}function f(p,_){var v=a((p=Oe(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(te(_)/3)))*3,F=Math.pow(10,-S),C=er[8+S/3];return function(A){return v(F*A)+C}}return{format:a,formatPrefix:f}}var ve,Pr,Fr;ws({thousands:",",grouping:[3],currency:["$",""]});function ws(t){return ve=ys(t),Pr=ve.format,Fr=ve.formatPrefix,ve}function vs(t){return Math.max(0,-te(Math.abs(t)))}function bs(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(te(e)/3)))*3-te(Math.abs(t)))}function xs(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,te(e)-te(t))+1}function ks(t,e,n,r){var i=Ei(t,e,n),s;switch(r=Oe(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=bs(i,o))&&(r.precision=s),Fr(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=xs(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vs(i))&&(r.precision=s-(r.type==="%")*2);break}}return Pr(r)}function Ms(t){var e=t.domain;return t.ticks=function(n){var r=e();return Si(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return ks(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],u,a,f=10;for(l<o&&(a=o,o=l,l=a,a=i,i=s,s=a);f-- >0;){if(a=Cr(o,l,n),a===u)return r[i]=o,r[s]=l,e(r);if(a>0)o=Math.floor(o/a)*a,l=Math.ceil(l/a)*a;else if(a<0)o=Math.ceil(o*a)/a,l=Math.floor(l*a)/a;else break;u=a}return t},t}function un(){var t=cs();return t.copy=function(){return us(t,un())},Ar.apply(t,arguments),Ms(t)}function Ss(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Es=Ss("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Cs(t){let e;return{c(){e=Z("p"),e.textContent="Hover over a circle to see details here.",P(e,"class","svelte-b094ih")},m(n,r){yt(n,e,r)},p:Nt,d(n){n&&gt(e)}}}function As(t){let e,n=t[0].title+"",r,i,s,o=t[0][t[1]]+"",l,u,a,f=t[0].date.toISOString().split("T")[0]+"",p,_,v,S=t[0].text+"",F;return{c(){e=Z("h1"),r=Rt(n),i=ct(),s=Z("span"),l=Rt(o),u=ct(),a=Z("h2"),p=Rt(f),_=ct(),v=Z("p"),F=Rt(S),P(e,"class","svelte-b094ih"),St(s,"background",t[2](t[0][t[1]])),P(s,"class","svelte-b094ih"),P(a,"class","svelte-b094ih"),P(v,"class","svelte-b094ih")},m(C,A){yt(C,e,A),V(e,r),yt(C,i,A),yt(C,s,A),V(s,l),yt(C,u,A),yt(C,a,A),V(a,p),yt(C,_,A),yt(C,v,A),V(v,F)},p(C,A){A&1&&n!==(n=C[0].title+"")&&Bt(r,n),A&3&&o!==(o=C[0][C[1]]+"")&&Bt(l,o),A&7&&St(s,"background",C[2](C[0][C[1]])),A&1&&f!==(f=C[0].date.toISOString().split("T")[0]+"")&&Bt(p,f),A&1&&S!==(S=C[0].text+"")&&Bt(F,S)},d(C){C&&gt(e),C&&gt(i),C&&gt(s),C&&gt(u),C&&gt(a),C&&gt(_),C&&gt(v)}}}function Ds(t){let e;function n(s,o){return s[0]?As:Cs}let r=n(t),i=r(t);return{c(){e=Z("div"),i.c(),P(e,"class","detail-card svelte-b094ih"),St(e,"left",t[3]+"px"),St(e,"top",t[4]+"px")},m(s,o){yt(s,e,o),i.m(e,null)},p(s,[o]){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e,null))),o&8&&St(e,"left",s[3]+"px"),o&16&&St(e,"top",s[4]+"px")},i:Nt,o:Nt,d(s){s&&gt(e),i.d()}}}function Ts(t,e,n){let{hoveredData:r}=e,{domainColumn:i}=e,{data:s}=e,{colorScale:o}=e,{posX:l=0}=e,{posY:u=0}=e;return mn(()=>{o.domain(s.map(a=>a[i]))}),t.$$set=a=>{"hoveredData"in a&&n(0,r=a.hoveredData),"domainColumn"in a&&n(1,i=a.domainColumn),"data"in a&&n(5,s=a.data),"colorScale"in a&&n(2,o=a.colorScale),"posX"in a&&n(3,l=a.posX),"posY"in a&&n(4,u=a.posY)},[r,i,o,l,u,s]}class Rs extends Be{constructor(e){super(),Ye(this,e,Ts,Ds,Xe,{hoveredData:0,domainColumn:1,data:5,colorScale:2,posX:3,posY:4})}}var Ns={value:()=>{}};function xn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ee(n)}function Ee(t){this._=t}function Is(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ee.prototype=xn.prototype={constructor:Ee,on:function(t,e){var n=this._,r=Is(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=zs(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=nr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=nr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ee(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function zs(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function nr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ns,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var fn="http://www.w3.org/1999/xhtml";const rr={svg:"http://www.w3.org/2000/svg",xhtml:fn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ue(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rr.hasOwnProperty(e)?{space:rr[e],local:t}:t}function Os(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===fn&&e.documentElement.namespaceURI===fn?e.createElement(t):e.createElementNS(n,t)}}function Ls(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Vr(t){var e=Ue(t);return(e.local?Ls:Os)(e)}function Ps(){}function kn(t){return t==null?Ps:function(){return this.querySelector(t)}}function Fs(t){typeof t!="function"&&(t=kn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,a,f=0;f<o;++f)(u=s[f])&&(a=t.call(u,u.__data__,f,s))&&("__data__"in u&&(a.__data__=u.__data__),l[f]=a);return new Ct(r,this._parents)}function Vs(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Xs(){return[]}function Xr(t){return t==null?Xs:function(){return this.querySelectorAll(t)}}function qs(t){return function(){return Vs(t.apply(this,arguments))}}function Hs(t){typeof t=="function"?t=qs(t):t=Xr(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,a=0;a<l;++a)(u=o[a])&&(r.push(t.call(u,u.__data__,a,o)),i.push(u));return new Ct(r,i)}function qr(t){return function(){return this.matches(t)}}function Hr(t){return function(e){return e.matches(t)}}var Ys=Array.prototype.find;function Bs(t){return function(){return Ys.call(this.children,t)}}function Us(){return this.firstElementChild}function Ws(t){return this.select(t==null?Us:Bs(typeof t=="function"?t:Hr(t)))}var Ks=Array.prototype.filter;function Qs(){return Array.from(this.children)}function Gs(t){return function(){return Ks.call(this.children,t)}}function Zs(t){return this.selectAll(t==null?Qs:Gs(typeof t=="function"?t:Hr(t)))}function js(t){typeof t!="function"&&(t=qr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new Ct(r,this._parents)}function Yr(t){return new Array(t.length)}function Js(){return new Ct(this._enter||this._groups.map(Yr),this._parents)}function Le(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Le.prototype={constructor:Le,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $s(t){return function(){return t}}function to(t,e,n,r,i,s){for(var o=0,l,u=e.length,a=s.length;o<a;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Le(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function eo(t,e,n,r,i,s,o){var l,u,a=new Map,f=e.length,p=s.length,_=new Array(f),v;for(l=0;l<f;++l)(u=e[l])&&(_[l]=v=o.call(u,u.__data__,l,e)+"",a.has(v)?i[l]=u:a.set(v,u));for(l=0;l<p;++l)v=o.call(t,s[l],l,s)+"",(u=a.get(v))?(r[l]=u,u.__data__=s[l],a.delete(v)):n[l]=new Le(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&a.get(_[l])===u&&(i[l]=u)}function no(t){return t.__data__}function ro(t,e){if(!arguments.length)return Array.from(this,no);var n=e?eo:to,r=this._parents,i=this._groups;typeof t!="function"&&(t=$s(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),a=0;a<s;++a){var f=r[a],p=i[a],_=p.length,v=io(t.call(f,f&&f.__data__,a,r)),S=v.length,F=l[a]=new Array(S),C=o[a]=new Array(S),A=u[a]=new Array(_);n(f,p,F,C,A,v,e);for(var it=0,H=0,U,et;it<S;++it)if(U=F[it]){for(it>=H&&(H=it+1);!(et=C[H])&&++H<S;);U._next=et||null}}return o=new Ct(o,r),o._enter=l,o._exit=u,o}function io(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function so(){return new Ct(this._exit||this._groups.map(Yr),this._parents)}function oo(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function ao(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var a=n[u],f=r[u],p=a.length,_=l[u]=new Array(p),v,S=0;S<p;++S)(v=a[S]||f[S])&&(_[S]=v);for(;u<i;++u)l[u]=n[u];return new Ct(l,this._parents)}function lo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function uo(t){t||(t=fo);function e(p,_){return p&&_?t(p.__data__,_.__data__):!p-!_}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),a,f=0;f<l;++f)(a=o[f])&&(u[f]=a);u.sort(e)}return new Ct(i,this._parents).order()}function fo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function co(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ho(){return Array.from(this)}function po(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function go(){let t=0;for(const e of this)++t;return t}function mo(){return!this.node()}function _o(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function yo(t){return function(){this.removeAttribute(t)}}function wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vo(t,e){return function(){this.setAttribute(t,e)}}function bo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ko(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mo(t,e){var n=Ue(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?wo:yo:typeof e=="function"?n.local?ko:xo:n.local?bo:vo)(n,e))}function Br(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function So(t){return function(){this.style.removeProperty(t)}}function Eo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Co(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ao(t,e,n){return arguments.length>1?this.each((e==null?So:typeof e=="function"?Co:Eo)(t,e,n==null?"":n)):ee(this.node(),t)}function ee(t,e){return t.style.getPropertyValue(e)||Br(t).getComputedStyle(t,null).getPropertyValue(e)}function Do(t){return function(){delete this[t]}}function To(t,e){return function(){this[t]=e}}function Ro(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function No(t,e){return arguments.length>1?this.each((e==null?Do:typeof e=="function"?Ro:To)(t,e)):this.node()[t]}function Ur(t){return t.trim().split(/^|\s+/)}function Mn(t){return t.classList||new Wr(t)}function Wr(t){this._node=t,this._names=Ur(t.getAttribute("class")||"")}Wr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Kr(t,e){for(var n=Mn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Qr(t,e){for(var n=Mn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Io(t){return function(){Kr(this,t)}}function zo(t){return function(){Qr(this,t)}}function Oo(t,e){return function(){(e.apply(this,arguments)?Kr:Qr)(this,t)}}function Lo(t,e){var n=Ur(t+"");if(arguments.length<2){for(var r=Mn(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Oo:e?Io:zo)(n,e))}function Po(){this.textContent=""}function Fo(t){return function(){this.textContent=t}}function Vo(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Xo(t){return arguments.length?this.each(t==null?Po:(typeof t=="function"?Vo:Fo)(t)):this.node().textContent}function qo(){this.innerHTML=""}function Ho(t){return function(){this.innerHTML=t}}function Yo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Bo(t){return arguments.length?this.each(t==null?qo:(typeof t=="function"?Yo:Ho)(t)):this.node().innerHTML}function Uo(){this.nextSibling&&this.parentNode.appendChild(this)}function Wo(){return this.each(Uo)}function Ko(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qo(){return this.each(Ko)}function Go(t){var e=typeof t=="function"?t:Vr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Zo(){return null}function jo(t,e){var n=typeof t=="function"?t:Vr(t),r=e==null?Zo:typeof e=="function"?e:kn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jo(){var t=this.parentNode;t&&t.removeChild(this)}function $o(){return this.each(Jo)}function ta(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ea(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function na(t){return this.select(t?ea:ta)}function ra(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ia(t){return function(e){t.call(this,e,this.__data__)}}function sa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function oa(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function aa(t,e,n){return function(){var r=this.__on,i,s=ia(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function la(t,e,n){var r=sa(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,a=l.length,f;u<a;++u)for(i=0,f=l[u];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?aa:oa,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Gr(t,e,n){var r=Br(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ua(t,e){return function(){return Gr(this,t,e)}}function fa(t,e){return function(){return Gr(this,t,e.apply(this,arguments))}}function ca(t,e){return this.each((typeof e=="function"?fa:ua)(t,e))}function*ha(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Zr=[null];function Ct(t,e){this._groups=t,this._parents=e}function pe(){return new Ct([[document.documentElement]],Zr)}function da(){return this}Ct.prototype=pe.prototype={constructor:Ct,select:Fs,selectAll:Hs,selectChild:Ws,selectChildren:Zs,filter:js,data:ro,enter:Js,exit:so,join:oo,merge:ao,selection:da,order:lo,sort:uo,call:co,nodes:ho,node:po,size:go,empty:mo,each:_o,attr:Mo,style:Ao,property:No,classed:Lo,text:Xo,html:Bo,raise:Wo,lower:Qo,append:Go,insert:jo,remove:$o,clone:na,datum:ra,on:la,dispatch:ca,[Symbol.iterator]:ha};function Yt(t){return typeof t=="string"?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],Zr)}function pa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ut(t,e){if(t=pa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const cn={capture:!0,passive:!1};function hn(t){t.preventDefault(),t.stopImmediatePropagation()}function ga(t){var e=t.document.documentElement,n=Yt(t).on("dragstart.drag",hn,cn);"onselectstart"in e?n.on("selectstart.drag",hn,cn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ma(t,e){var n=t.document.documentElement,r=Yt(t).on("dragstart.drag",null);e&&(r.on("click.drag",hn,cn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ne=0,oe=0,re=0,jr=1e3,Pe,ae,Fe=0,jt=0,We=0,he=typeof performance=="object"&&performance.now?performance:Date,Jr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sn(){return jt||(Jr(_a),jt=he.now()+We)}function _a(){jt=0}function Ve(){this._call=this._time=this._next=null}Ve.prototype=$r.prototype={constructor:Ve,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Sn():+n)+(e==null?0:+e),!this._next&&ae!==this&&(ae?ae._next=this:Pe=this,ae=this),this._call=t,this._time=n,dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,dn())}};function $r(t,e,n){var r=new Ve;return r.restart(t,e,n),r}function ya(){Sn(),++ne;for(var t=Pe,e;t;)(e=jt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ne}function ir(){jt=(Fe=he.now())+We,ne=oe=0;try{ya()}finally{ne=0,va(),jt=0}}function wa(){var t=he.now(),e=t-Fe;e>jr&&(We-=e,Fe=t)}function va(){for(var t,e=Pe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Pe=n);ae=t,dn(r)}function dn(t){if(!ne){oe&&(oe=clearTimeout(oe));var e=t-jt;e>24?(t<1/0&&(oe=setTimeout(ir,t-he.now()-We)),re&&(re=clearInterval(re))):(re||(Fe=he.now(),re=setInterval(wa,jr)),ne=1,Jr(ir))}}function sr(t,e,n){var r=new Ve;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ba=xn("start","end","cancel","interrupt"),xa=[],ti=0,or=1,pn=2,Ce=3,ar=4,gn=5,Ae=6;function Ke(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;ka(t,n,{name:e,index:r,group:i,on:ba,tween:xa,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ti})}function En(t,e){var n=It(t,e);if(n.state>ti)throw new Error("too late; already scheduled");return n}function Ot(t,e){var n=It(t,e);if(n.state>Ce)throw new Error("too late; already running");return n}function It(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ka(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$r(s,0,n.time);function s(a){n.state=or,n.timer.restart(o,n.delay,n.time),n.delay<=a&&o(a-n.delay)}function o(a){var f,p,_,v;if(n.state!==or)return u();for(f in r)if(v=r[f],v.name===n.name){if(v.state===Ce)return sr(o);v.state===ar?(v.state=Ae,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[f]):+f<e&&(v.state=Ae,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[f])}if(sr(function(){n.state===Ce&&(n.state=ar,n.timer.restart(l,n.delay,n.time),l(a))}),n.state=pn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pn){for(n.state=Ce,i=new Array(_=n.tween.length),f=0,p=-1;f<_;++f)(v=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=v);i.length=p+1}}function l(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=gn,1),p=-1,_=i.length;++p<_;)i[p].call(t,f);n.state===gn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ae,n.timer.stop(),delete r[e];for(var a in r)return;delete t.__transition}}function De(t,e){var n=t.__transition,r,i,s=!0,o;if(!!n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>pn&&r.state<gn,r.state=Ae,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Ma(t){return this.each(function(){De(this,t)})}function Sa(t,e){var n,r;return function(){var i=Ot(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ea(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ot(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===e){i[u]=l;break}u===a&&i.push(l)}s.tween=i}}function Ca(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=It(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Sa:Ea)(n,t,e))}function Cn(t,e,n){var r=t._id;return t.each(function(){var i=Ot(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return It(i,r).value[e]}}function ei(t,e){var n;return(typeof e=="number"?Dt:e instanceof Zt?Ie:(n=Zt(e))?(e=n,Ie):Ir)(t,e)}function Aa(t){return function(){this.removeAttribute(t)}}function Da(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ta(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Ra(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Na(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Ia(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function za(t,e){var n=Ue(t),r=n==="transform"?$i:ei;return this.attrTween(t,typeof e=="function"?(n.local?Ia:Na)(n,r,Cn(this,"attr."+t,e)):e==null?(n.local?Da:Aa)(n):(n.local?Ra:Ta)(n,r,e))}function Oa(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function La(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pa(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&La(t,s)),n}return i._value=e,i}function Fa(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Oa(t,s)),n}return i._value=e,i}function Va(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ue(t);return this.tween(n,(r.local?Pa:Fa)(r,e))}function Xa(t,e){return function(){En(this,t).delay=+e.apply(this,arguments)}}function qa(t,e){return e=+e,function(){En(this,t).delay=e}}function Ha(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xa:qa)(e,t)):It(this.node(),e).delay}function Ya(t,e){return function(){Ot(this,t).duration=+e.apply(this,arguments)}}function Ba(t,e){return e=+e,function(){Ot(this,t).duration=e}}function Ua(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ya:Ba)(e,t)):It(this.node(),e).duration}function Wa(t,e){if(typeof e!="function")throw new Error;return function(){Ot(this,t).ease=e}}function Ka(t){var e=this._id;return arguments.length?this.each(Wa(e,t)):It(this.node(),e).ease}function Qa(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ot(this,t).ease=n}}function Ga(t){if(typeof t!="function")throw new Error;return this.each(Qa(this._id,t))}function Za(t){typeof t!="function"&&(t=qr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new Xt(r,this._parents,this._name,this._id)}function ja(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],a=n[l],f=u.length,p=o[l]=new Array(f),_,v=0;v<f;++v)(_=u[v]||a[v])&&(p[v]=_);for(;l<r;++l)o[l]=e[l];return new Xt(o,this._parents,this._name,this._id)}function Ja(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function $a(t,e,n){var r,i,s=Ja(e)?En:Ot;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function tl(t,e){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(t):this.each($a(n,t,e))}function el(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function nl(){return this.on("end.remove",el(this._id))}function rl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kn(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,a=s[o]=new Array(u),f,p,_=0;_<u;++_)(f=l[_])&&(p=t.call(f,f.__data__,_,l))&&("__data__"in f&&(p.__data__=f.__data__),a[_]=p,Ke(a[_],e,n,_,a,It(f,n)));return new Xt(s,this._parents,e,n)}function il(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xr(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],a=u.length,f,p=0;p<a;++p)if(f=u[p]){for(var _=t.call(f,f.__data__,p,u),v,S=It(f,n),F=0,C=_.length;F<C;++F)(v=_[F])&&Ke(v,e,n,F,_,S);s.push(_),o.push(f)}return new Xt(s,o,e,n)}var sl=pe.prototype.constructor;function ol(){return new sl(this._groups,this._parents)}function al(t,e){var n,r,i;return function(){var s=ee(this,t),o=(this.style.removeProperty(t),ee(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function ni(t){return function(){this.style.removeProperty(t)}}function ll(t,e,n){var r,i=n+"",s;return function(){var o=ee(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function ul(t,e,n){var r,i,s;return function(){var o=ee(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),ee(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function fl(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=Ot(this,t),a=u.on,f=u.value[s]==null?l||(l=ni(e)):void 0;(a!==n||i!==f)&&(r=(n=a).copy()).on(o,i=f),u.on=r}}function cl(t,e,n){var r=(t+="")=="transform"?Ji:ei;return e==null?this.styleTween(t,al(t,r)).on("end.style."+t,ni(t)):typeof e=="function"?this.styleTween(t,ul(t,r,Cn(this,"style."+t,e))).each(fl(this._id,t)):this.styleTween(t,ll(t,r,e),n).on("end.style."+t,null)}function hl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function dl(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&hl(t,o,n)),r}return s._value=e,s}function pl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,dl(t,e,n==null?"":n))}function gl(t){return function(){this.textContent=t}}function ml(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function _l(t){return this.tween("text",typeof t=="function"?ml(Cn(this,"text",t)):gl(t==null?"":t+""))}function yl(t){return function(e){this.textContent=t.call(this,e)}}function wl(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&yl(i)),e}return r._value=t,r}function vl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wl(t))}function bl(){for(var t=this._name,e=this._id,n=ri(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,a=0;a<l;++a)if(u=o[a]){var f=It(u,e);Ke(u,t,n,a,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Xt(r,this._parents,t,n)}function xl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var a=Ot(this,r),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),a.on=e}),i===0&&s()})}var kl=0;function Xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ri(){return++kl}var Lt=pe.prototype;Xt.prototype={constructor:Xt,select:rl,selectAll:il,selectChild:Lt.selectChild,selectChildren:Lt.selectChildren,filter:Za,merge:ja,selection:ol,transition:bl,call:Lt.call,nodes:Lt.nodes,node:Lt.node,size:Lt.size,empty:Lt.empty,each:Lt.each,on:tl,attr:za,attrTween:Va,style:cl,styleTween:pl,text:_l,textTween:vl,remove:nl,tween:Ca,delay:Ha,duration:Ua,ease:Ka,easeVarying:Ga,end:xl,[Symbol.iterator]:Lt[Symbol.iterator]};function Ml(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Sl={time:null,delay:0,duration:250,ease:Ml};function El(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Cl(t){var e,n;t instanceof Xt?(e=t._id,t=t._name):(e=ri(),(n=Sl).time=Sn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,a=0;a<l;++a)(u=o[a])&&Ke(u,t,e,a,o,n||El(u,e));return new Xt(r,this._parents,t,e)}pe.prototype.interrupt=Ma;pe.prototype.transition=Cl;const be=t=>()=>t;function Al(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Pt(t,e,n){this.k=t,this.x=e,this.y=n}Pt.prototype={constructor:Pt,scale:function(t){return t===1?this:new Pt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var An=new Pt(1,0,0);Pt.prototype;function Je(t){t.stopImmediatePropagation()}function ie(t){t.preventDefault(),t.stopImmediatePropagation()}function Dl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Tl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lr(){return this.__zoom||An}function Rl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Nl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Il(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function zl(){var t=Dl,e=Tl,n=Il,r=Rl,i=Nl,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=rs,a=xn("start","zoom","end"),f,p,_,v=500,S=150,F=0,C=10;function A(d){d.property("__zoom",lr).on("wheel.zoom",c,{passive:!1}).on("mousedown.zoom",h).on("dblclick.zoom",y).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",m).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(d,M,g,b){var E=d.selection?d.selection():d;E.property("__zoom",lr),d!==E?et(d,M,g,b):E.interrupt().each(function(){G(this,arguments).event(b).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},A.scaleBy=function(d,M,g,b){A.scaleTo(d,function(){var E=this.__zoom.k,x=typeof M=="function"?M.apply(this,arguments):M;return E*x},g,b)},A.scaleTo=function(d,M,g,b){A.transform(d,function(){var E=e.apply(this,arguments),x=this.__zoom,N=g==null?U(E):typeof g=="function"?g.apply(this,arguments):g,T=x.invert(N),L=typeof M=="function"?M.apply(this,arguments):M;return n(H(it(x,L),N,T),E,o)},g,b)},A.translateBy=function(d,M,g,b){A.transform(d,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),o)},null,b)},A.translateTo=function(d,M,g,b,E){A.transform(d,function(){var x=e.apply(this,arguments),N=this.__zoom,T=b==null?U(x):typeof b=="function"?b.apply(this,arguments):b;return n(An.translate(T[0],T[1]).scale(N.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof g=="function"?-g.apply(this,arguments):-g),x,o)},b,E)};function it(d,M){return M=Math.max(s[0],Math.min(s[1],M)),M===d.k?d:new Pt(M,d.x,d.y)}function H(d,M,g){var b=M[0]-g[0]*d.k,E=M[1]-g[1]*d.k;return b===d.x&&E===d.y?d:new Pt(d.k,b,E)}function U(d){return[(+d[0][0]+ +d[1][0])/2,(+d[0][1]+ +d[1][1])/2]}function et(d,M,g,b){d.on("start.zoom",function(){G(this,arguments).event(b).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(b).end()}).tween("zoom",function(){var E=this,x=arguments,N=G(E,x).event(b),T=e.apply(E,x),L=g==null?U(T):typeof g=="function"?g.apply(E,x):g,z=Math.max(T[1][0]-T[0][0],T[1][1]-T[0][1]),Y=E.__zoom,tt=typeof M=="function"?M.apply(E,x):M,ot=u(Y.invert(L).concat(z/Y.k),tt.invert(L).concat(z/tt.k));return function(I){if(I===1)I=tt;else{var D=ot(I),R=z/D[2];I=new Pt(R,L[0]-D[0]*R,L[1]-D[1]*R)}N.zoom(null,I)}})}function G(d,M,g){return!g&&d.__zooming||new X(d,M)}function X(d,M){this.that=d,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(d,M),this.taps=0}X.prototype={event:function(d){return d&&(this.sourceEvent=d),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(d,M){return this.mouse&&d!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&d!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&d!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(d){var M=Yt(this.that).datum();a.call(d,this.that,new Al(d,{sourceEvent:this.sourceEvent,target:A,type:d,transform:this.that.__zoom,dispatch:a}),M)}};function c(d,...M){if(!t.apply(this,arguments))return;var g=G(this,M).event(d),b=this.__zoom,E=Math.max(s[0],Math.min(s[1],b.k*Math.pow(2,r.apply(this,arguments)))),x=Ut(d);if(g.wheel)(g.mouse[0][0]!==x[0]||g.mouse[0][1]!==x[1])&&(g.mouse[1]=b.invert(g.mouse[0]=x)),clearTimeout(g.wheel);else{if(b.k===E)return;g.mouse=[x,b.invert(x)],De(this),g.start()}ie(d),g.wheel=setTimeout(N,S),g.zoom("mouse",n(H(it(b,E),g.mouse[0],g.mouse[1]),g.extent,o));function N(){g.wheel=null,g.end()}}function h(d,...M){if(_||!t.apply(this,arguments))return;var g=d.currentTarget,b=G(this,M,!0).event(d),E=Yt(d.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",z,!0),x=Ut(d,g),N=d.clientX,T=d.clientY;ga(d.view),Je(d),b.mouse=[x,this.__zoom.invert(x)],De(this),b.start();function L(Y){if(ie(Y),!b.moved){var tt=Y.clientX-N,ot=Y.clientY-T;b.moved=tt*tt+ot*ot>F}b.event(Y).zoom("mouse",n(H(b.that.__zoom,b.mouse[0]=Ut(Y,g),b.mouse[1]),b.extent,o))}function z(Y){E.on("mousemove.zoom mouseup.zoom",null),ma(Y.view,b.moved),ie(Y),b.event(Y).end()}}function y(d,...M){if(!!t.apply(this,arguments)){var g=this.__zoom,b=Ut(d.changedTouches?d.changedTouches[0]:d,this),E=g.invert(b),x=g.k*(d.shiftKey?.5:2),N=n(H(it(g,x),b,E),e.apply(this,M),o);ie(d),l>0?Yt(this).transition().duration(l).call(et,N,b,d):Yt(this).call(A.transform,N,b,d)}}function k(d,...M){if(!!t.apply(this,arguments)){var g=d.touches,b=g.length,E=G(this,M,d.changedTouches.length===b).event(d),x,N,T,L;for(Je(d),N=0;N<b;++N)T=g[N],L=Ut(T,this),L=[L,this.__zoom.invert(L),T.identifier],E.touch0?!E.touch1&&E.touch0[2]!==L[2]&&(E.touch1=L,E.taps=0):(E.touch0=L,x=!0,E.taps=1+!!f);f&&(f=clearTimeout(f)),x&&(E.taps<2&&(p=L[0],f=setTimeout(function(){f=null},v)),De(this),E.start())}}function m(d,...M){if(!!this.__zooming){var g=G(this,M).event(d),b=d.changedTouches,E=b.length,x,N,T,L;for(ie(d),x=0;x<E;++x)N=b[x],T=Ut(N,this),g.touch0&&g.touch0[2]===N.identifier?g.touch0[0]=T:g.touch1&&g.touch1[2]===N.identifier&&(g.touch1[0]=T);if(N=g.that.__zoom,g.touch1){var z=g.touch0[0],Y=g.touch0[1],tt=g.touch1[0],ot=g.touch1[1],I=(I=tt[0]-z[0])*I+(I=tt[1]-z[1])*I,D=(D=ot[0]-Y[0])*D+(D=ot[1]-Y[1])*D;N=it(N,Math.sqrt(I/D)),T=[(z[0]+tt[0])/2,(z[1]+tt[1])/2],L=[(Y[0]+ot[0])/2,(Y[1]+ot[1])/2]}else if(g.touch0)T=g.touch0[0],L=g.touch0[1];else return;g.zoom("touch",n(H(N,T,L),g.extent,o))}}function O(d,...M){if(!!this.__zooming){var g=G(this,M).event(d),b=d.changedTouches,E=b.length,x,N;for(Je(d),_&&clearTimeout(_),_=setTimeout(function(){_=null},v),x=0;x<E;++x)N=b[x],g.touch0&&g.touch0[2]===N.identifier?delete g.touch0:g.touch1&&g.touch1[2]===N.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(N=Ut(N,this),Math.hypot(p[0]-N[0],p[1]-N[1])<C)){var T=Yt(this).on("dblclick.zoom");T&&T.apply(this,arguments)}}}return A.wheelDelta=function(d){return arguments.length?(r=typeof d=="function"?d:be(+d),A):r},A.filter=function(d){return arguments.length?(t=typeof d=="function"?d:be(!!d),A):t},A.touchable=function(d){return arguments.length?(i=typeof d=="function"?d:be(!!d),A):i},A.extent=function(d){return arguments.length?(e=typeof d=="function"?d:be([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),A):e},A.scaleExtent=function(d){return arguments.length?(s[0]=+d[0],s[1]=+d[1],A):[s[0],s[1]]},A.translateExtent=function(d){return arguments.length?(o[0][0]=+d[0][0],o[1][0]=+d[1][0],o[0][1]=+d[0][1],o[1][1]=+d[1][1],A):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},A.constrain=function(d){return arguments.length?(n=d,A):n},A.duration=function(d){return arguments.length?(l=+d,A):l},A.interpolate=function(d){return arguments.length?(u=d,A):u},A.on=function(){var d=a.on.apply(a,arguments);return d===a?A:d},A.clickDistance=function(d){return arguments.length?(F=(d=+d)*d,A):Math.sqrt(F)},A.tapDistance=function(d){return arguments.length?(C=+d,A):C},A}function ur(t){let e,n;return e=new Rs({props:{hoveredData:t[6],data:t[0],domainColumn:t[1],colorScale:t[9],posX:t[7],posY:t[8]}}),{c(){_n(e.$$.fragment)},m(r,i){qe(e,r,i),n=!0},p(r,i){const s={};i[0]&64&&(s.hoveredData=r[6]),i[0]&1&&(s.data=r[0]),i[0]&2&&(s.domainColumn=r[1]),i[0]&512&&(s.colorScale=r[9]),i[0]&128&&(s.posX=r[7]),i[0]&256&&(s.posY=r[8]),e.$set(s)},i(r){n||(Vt(e.$$.fragment,r),n=!0)},o(r){Qt(e.$$.fragment,r),n=!1},d(r){He(e,r)}}}function Ol(t){let e,n,r,i,s,o,l=t[6]&&ur(t);return{c(){e=Z("div"),n=Z("canvas"),r=ct(),l&&l.c(),P(n,"width",t[2]),P(n,"height",t[3]),P(n,"class","svelte-9ydcv4"),P(e,"class","chart-container svelte-9ydcv4")},m(u,a){yt(u,e,a),V(e,n),t[29](n),V(e,r),l&&l.m(e,null),t[30](e),i=!0,s||(o=[pt(n,"mousemove",t[10]),pt(n,"mouseleave",t[12]),pt(n,"click",t[11])],s=!0)},p(u,a){(!i||a[0]&4)&&P(n,"width",u[2]),(!i||a[0]&8)&&P(n,"height",u[3]),u[6]?l?(l.p(u,a),a[0]&64&&Vt(l,1)):(l=ur(u),l.c(),Vt(l,1),l.m(e,null)):l&&(kr(),Qt(l,1,1,()=>{l=null}),Mr())},i(u){i||(Vt(l),i=!0)},o(u){Qt(l),i=!1},d(u){u&&gt(e),t[29](null),l&&l.d(),t[30](null),s=!1,qt(o)}}}const xe=6,Ll=.5,Pl=10,fr=280,cr=160;function Fl(t,e,n){let r,i,s,o,l,u,a,f,p,_,v,S,F,{data:C=[]}=e,{domainColumn:A=""}=e,{opacity:it=1}=e,{selectedValues:H=new Set}=e,{searchQuery:U=""}=e,{showAnnotations:et=!0}=e,{highlightedData:G=[]}=e,{startDate:X=null}=e,{endDate:c=null}=e,h=[{x:60,y:140,radius:40,label:"Articles about motor vehicle crashes.",label_x:-50,label_y:130},{x:970,y:320,radius:70,label:"Sports Articles",label_x:-50,label_y:-100}],y,k,m,O=800,d=600;const M={top:20,right:20,bottom:20,left:20};let g=null,b=null,E=An,x=0,N=0,T,L=1;function z(){if(!y||!k)return;const w=k.getBoundingClientRect();w.width>0&&w.height>0&&(n(2,O=Math.floor(w.width)),n(3,d=Math.floor(w.height))),L=Math.max(window.devicePixelRatio||1,1),n(4,y.style.width="100%",y),n(4,y.style.height="100%",y),n(4,y.width=Math.max(1,Math.floor(O*L)),y),n(4,y.height=Math.max(1,Math.floor(d*L)),y),n(20,m=y.getContext("2d")),m.setTransform(L,0,0,L,0,0)}function Y(){if(!(!m||!C.length)){if(m.clearRect(0,0,O,d),m.save(),m.translate(E.x,E.y),m.scale(E.k,E.k),C.forEach(w=>{var q,at;const W=U&&(((q=w.text)==null?void 0:q.toLowerCase().includes(U.toLowerCase()))||((at=w.title)==null?void 0:at.toLowerCase().includes(U.toLowerCase()))),B=r.has(w.id)||W,nt=H.has(w[A]),K=(!X||w.date>=X)&&(!c||w.date<=c);m.beginPath(),m.arc(M.left+a(w.x),M.top+_(w.y),Math.max(.5,xe/E.k),0,Math.PI*2),n(20,m.fillStyle=T(w[A]),m),(B||nt)&&K&&!F||K&&!F&&H.size===0||(B||nt)&&F?n(20,m.globalAlpha=1,m):n(20,m.globalAlpha=it*.2,m),m.fill(),n(20,m.globalAlpha=1,m)}),et&&h.forEach(w=>{n(20,m.globalAlpha=1,m),m.beginPath(),m.arc(w.x,w.y,w.radius,0,Math.PI*2),n(20,m.strokeStyle="red",m),n(20,m.lineWidth=2,m),m.setLineDash([5,5]),m.stroke();const W=180,B=12;n(20,m.font="16px Arial",m);const nt=w.x+w.label_x,K=w.y+w.label_y;let q=0,at=0,$=[];if(w.label){const wt=w.label.split(" ");let _t="";wt.forEach((kt,bt)=>{const ht=_t+kt+" ";m.measureText(ht).width>W&&bt>0?($.push(_t),q=Math.max(q,m.measureText(_t).width),_t=kt+" "):_t=ht}),$.push(_t),q=Math.max(q,m.measureText(_t).width),at=B*$.length}const J=nt,Q=K-B,ut=q,dt=at;let vt,ft;w.x<J?vt=J:w.x>J+ut?vt=J+ut:vt=w.x,w.y<Q?ft=Q:w.y>Q+dt?ft=Q+dt:ft=w.y;const lt=Math.atan2(ft-w.y,vt-w.x),rt=w.x+w.radius*Math.cos(lt),mt=w.y+w.radius*Math.sin(lt);if(m.setLineDash([]),m.beginPath(),m.moveTo(rt,mt),m.lineTo(vt,ft),n(20,m.strokeStyle="red",m),n(20,m.lineWidth=1,m),m.stroke(),w.label){n(20,m.font="16px Arial",m),n(20,m.fillStyle="red",m);const wt=16;$.forEach((_t,kt)=>{m.fillText(_t,nt,K+kt*wt)})}}),m.setLineDash([]),g){const w=M.left+a(g.x),W=M.top+_(g.y);m.beginPath(),m.arc(w,W,Math.max(.5,xe/E.k),0,Math.PI*2),n(20,m.fillStyle=T(g[A]),m),n(20,m.globalAlpha=1,m),m.fill(),n(20,m.strokeStyle="black",m),n(20,m.lineWidth=Math.max(1,2/E.k),m),m.stroke();const[B,nt]=[E.applyX(w),E.applyY(W)];let K=B+12;K+fr>O-M.right&&(K=B-12-fr);let q=nt-cr*.5;const at=M.top+8,$=d-M.bottom-(cr+8);q=Math.max(at,Math.min(q,$)),n(7,x=K),n(8,N=q)}m.restore()}}function tt(w){const W=y.getBoundingClientRect(),B=O/W.width,nt=d/W.height,K=(w.clientX-W.left)*B,q=(w.clientY-W.top)*nt,[at,$]=E.invert([K,q]),J=C.find(Q=>{var ht;const ut=M.left+a(Q.x),dt=M.top+_(Q.y),vt=ut-at,ft=dt-$,lt=Math.sqrt(vt*vt+ft*ft)<(xe+3)/E.k,rt=U&&((ht=Q.title)==null?void 0:ht.toLowerCase().includes(U.toLowerCase())),mt=r.has(Q.id)||rt,wt=H.has(Q[A]),_t=(!X||Q.date>=X)&&(!c||Q.date<=c),bt=H.size===0||H.size===i||(mt||wt)&&_t&&!F||_t&&!F&&H.size===0||(mt||wt)&&F;return lt&&bt});J?(n(6,g=J),b=J,n(4,y.style.cursor="pointer",y)):(n(6,g=null),b=null,n(4,y.style.cursor="crosshair",y)),Y()}function ot(w){const W=y.getBoundingClientRect(),B=O/W.width,nt=d/W.height,K=(w.clientX-W.left)*B,q=(w.clientY-W.top)*nt,[at,$]=E.invert([K,q]),J=C.find(ut=>{var At,Mt;const dt=M.left+a(ut.x),vt=M.top+_(ut.y),ft=dt-at,lt=vt-$,rt=Math.sqrt(ft*ft+lt*lt)<(xe+3)/E.k,mt=U&&(((At=ut.text)==null?void 0:At.toLowerCase().includes(U.toLowerCase()))||((Mt=ut.title)==null?void 0:Mt.toLowerCase().includes(U.toLowerCase()))),wt=r.has(ut.id)||mt,_t=H.has(ut[A]),kt=(!X||ut.date>=X)&&(!c||ut.date<=c),ht=H.size===0||H.size===i||(wt||_t)&&kt&&!F||kt&&!F&&H.size===0||(wt||_t)&&F;return rt&&ht});if(!J)return;const Q=J.url||J.link||J.href||J.permalink;Q&&typeof window<"u"&&window.open(Q,"_blank","noopener,noreferrer")}function I(){n(6,g=b),Y()}let D;mn(()=>{n(20,m=y.getContext("2d")),z(),window.ResizeObserver&&(D=new ResizeObserver(()=>{z(),Y()}),D.observe(k));const w=zl().scaleExtent([Ll,Pl]).filter(W=>{const B=W;return B.type==="wheel"||B.type==="touchstart"||B.type==="touchmove"?!0:B.type==="mousedown"?B.button===0&&!B.ctrlKey&&!B.metaKey&&!B.shiftKey:!B.ctrlKey&&!B.metaKey&&!B.shiftKey}).on("zoom",W=>{E=W.transform,Y()});return Yt(y).call(w),Y(),()=>{D&&D.disconnect()}});function R(w){Ft[w?"unshift":"push"](()=>{y=w,n(4,y)})}function j(w){Ft[w?"unshift":"push"](()=>{k=w,n(5,k)})}return t.$$set=w=>{"data"in w&&n(0,C=w.data),"domainColumn"in w&&n(1,A=w.domainColumn),"opacity"in w&&n(13,it=w.opacity),"selectedValues"in w&&n(14,H=w.selectedValues),"searchQuery"in w&&n(15,U=w.searchQuery),"showAnnotations"in w&&n(16,et=w.showAnnotations),"highlightedData"in w&&n(17,G=w.highlightedData),"startDate"in w&&n(18,X=w.startDate),"endDate"in w&&n(19,c=w.endDate)},t.$$.update=()=>{t.$$.dirty[0]&131072&&(r=new Set(G.map(w=>w.id))),t.$$.dirty[0]&3&&(i=new Set(C.map(w=>w[A])).size),t.$$.dirty[0]&4&&n(26,s=O-M.left-M.right),t.$$.dirty[0]&8&&n(23,o=d-M.top-M.bottom),t.$$.dirty[0]&1&&n(28,l=[Fn(C,w=>w.x),Pn(C,w=>w.x)]),t.$$.dirty[0]&268435456&&n(27,u=l[0]===l[1]?[l[0]-1,l[1]+1]:l),t.$$.dirty[0]&201326592&&(a=un().domain(u).range([0,s])),t.$$.dirty[0]&1&&n(25,f=[Fn(C,w=>w.y),Pn(C,w=>w.y)]),t.$$.dirty[0]&33554432&&n(24,p=f[0]===f[1]?[f[0]-1,f[1]+1]:f),t.$$.dirty[0]&25165824&&(_=un().domain(p).range([o,0])),t.$$.dirty[0]&3&&n(9,T=Dr(Es).domain(A?[...new Set(C.map(w=>w[A]).filter(w=>w!=null&&w!==""))]:[])),t.$$.dirty[0]&1&&n(22,v=C.length?new Date(Math.min(...C.map(w=>w.date.getTime()))):null),t.$$.dirty[0]&1&&n(21,S=C.length?new Date(Math.max(...C.map(w=>w.date.getTime()))):null),t.$$.dirty[0]&7077888&&(F=!!(X&&c&&v&&S&&X.getTime()===v.getTime()&&c.getTime()===S.getTime())),t.$$.dirty[0]&1957891&&m&&C.length&&Y()},[C,A,O,d,y,k,g,x,N,T,tt,ot,I,it,H,U,et,G,X,c,m,S,v,o,p,f,s,u,l,R,j]}class Vl extends Be{constructor(e){super(),Ye(this,e,Fl,Ol,Xe,{data:0,domainColumn:1,opacity:13,selectedValues:14,searchQuery:15,showAnnotations:16,highlightedData:17,startDate:18,endDate:19},null,[-1,-1])}}function Xl(t){let e,n,r,i,s,o,l,u,a;return{c(){e=Z("div"),n=Z("div"),r=Z("div"),i=ct(),s=Z("div"),o=ct(),l=Z("div"),P(r,"class","track-inner svelte-vytkle"),P(n,"class","track svelte-vytkle"),P(s,"class","thumb start-thumb svelte-vytkle"),St(s,"left",t[4]+"%"),P(l,"class","thumb end-thumb svelte-vytkle"),St(l,"left",t[3]+"%"),P(e,"class","range-slider svelte-vytkle"),St(e,"--start-percent",t[4]+"%"),St(e,"--end-percent",t[3]+"%")},m(f,p){yt(f,e,p),V(e,n),V(n,r),V(e,i),V(e,s),t[13](s),V(e,o),V(e,l),t[16](l),t[19](e),u||(a=[pt(r,"mousedown",t[11]),pt(r,"touchstart",t[12]),pt(s,"mousedown",t[14]),pt(s,"touchstart",t[15]),pt(l,"mousedown",t[17]),pt(l,"touchstart",t[18])],u=!0)},p(f,[p]){p&16&&St(s,"left",f[4]+"%"),p&8&&St(l,"left",f[3]+"%"),p&16&&St(e,"--start-percent",f[4]+"%"),p&8&&St(e,"--end-percent",f[3]+"%")},i:Nt,o:Nt,d(f){f&&gt(e),t[13](null),t[16](null),t[19](null),u=!1,qt(a)}}}function ql(t,e,n){let r,i,{min:s=0}=e,{max:o=100}=e,{startValue:l}=e,{endValue:u}=e;const a=ui();let f,p,_,v=!1,S=null,F=null,C=0;function A(g,b){v=!0,S=b,F=f.getBoundingClientRect(),b==="range"&&(C=u-l),window.addEventListener("mousemove",it),window.addEventListener("mouseup",H)}function it(g){if(!v)return;const b=Math.min(Math.max(0,(g.clientX-F.left)/F.width),1),E=Math.round(b*(o-s)+s);if(S==="start")n(7,l=Math.min(E,u)),a("startChange",l);else if(S==="end")n(8,u=Math.max(E,l)),a("endChange",u);else if(S==="range"){let x=E-Math.floor(C/2),N=E+Math.ceil(C/2);x<s&&(x=s,N=s+C),N>o&&(N=o,x=o-C),x=Math.max(s,x),N=Math.min(o,N),n(7,l=x),n(8,u=N),a("startChange",l),a("endChange",u)}}function H(){v=!1,window.removeEventListener("mousemove",it),window.removeEventListener("mouseup",H)}function U(g,b){g.preventDefault(),v=!0,S=b,F=f.getBoundingClientRect(),b==="range"&&(C=u-l),window.addEventListener("touchmove",et,{passive:!1}),window.addEventListener("touchend",G)}function et(g){if(g.preventDefault(),!v)return;const b=g.touches[0],E=Math.min(Math.max(0,(b.clientX-F.left)/F.width),1),x=Math.round(E*(o-s)+s);if(S==="start")n(7,l=Math.min(x,u)),a("startChange",l);else if(S==="end")n(8,u=Math.max(x,l)),a("endChange",u);else if(S==="range"){let N=x-Math.floor(C/2),T=x+Math.ceil(C/2);N<s&&(N=s,T=s+C),T>o&&(T=o,N=o-C),N=Math.max(s,N),T=Math.min(o,T),n(7,l=N),n(8,u=T),a("startChange",l),a("endChange",u)}}function G(){v=!1,window.removeEventListener("touchmove",et),window.removeEventListener("touchend",G)}const X=g=>A(g,"range"),c=g=>U(g,"range");function h(g){Ft[g?"unshift":"push"](()=>{p=g,n(1,p)})}const y=g=>A(g,"start"),k=g=>U(g,"start");function m(g){Ft[g?"unshift":"push"](()=>{_=g,n(2,_)})}const O=g=>A(g,"end"),d=g=>U(g,"end");function M(g){Ft[g?"unshift":"push"](()=>{f=g,n(0,f)})}return t.$$set=g=>{"min"in g&&n(9,s=g.min),"max"in g&&n(10,o=g.max),"startValue"in g&&n(7,l=g.startValue),"endValue"in g&&n(8,u=g.endValue)},t.$$.update=()=>{t.$$.dirty&1664&&n(4,r=o>s?(l-s)/(o-s)*100:0),t.$$.dirty&1792&&n(3,i=o>s?(u-s)/(o-s)*100:100)},[f,p,_,i,r,A,U,l,u,s,o,X,c,h,y,k,m,O,d,M]}class Hl extends Be{constructor(e){super(),Ye(this,e,ql,Xl,Xe,{min:9,max:10,startValue:7,endValue:8})}}function hr(t,e,n){const r=t.slice();return r[43]=e[n],r}function dr(t,e,n){const r=t.slice();return r[46]=e[n],r}function pr(t){let e,n,r,i,s,o,l=t[9],u=[];for(let a=0;a<l.length;a+=1)u[a]=gr(dr(t,l,a));return{c(){e=Z("label"),e.textContent="\u{1F3A8} Color by Column:",n=ct(),r=Z("select"),i=Z("option"),i.textContent="Select column";for(let a=0;a<u.length;a+=1)u[a].c();P(e,"for","domain-column"),P(e,"class","svelte-bkm9dt"),i.__value="",i.value=i.__value,i.disabled=!0,P(r,"id","domain-column"),P(r,"class","svelte-bkm9dt"),t[0]===void 0&&Te(()=>t[24].call(r))},m(a,f){yt(a,e,f),yt(a,n,f),yt(a,r,f),V(r,i);for(let p=0;p<u.length;p+=1)u[p].m(r,null);Nn(r,t[0]),s||(o=[pt(r,"change",t[15]),pt(r,"change",t[24])],s=!0)},p(a,f){if(f[0]&512){l=a[9];let p;for(p=0;p<l.length;p+=1){const _=dr(a,l,p);u[p]?u[p].p(_,f):(u[p]=gr(_),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=l.length}f[0]&513&&Nn(r,a[0])},d(a){a&&gt(e),a&&gt(n),a&&gt(r),vr(u,a),s=!1,qt(o)}}}function gr(t){let e,n=t[46]+"",r,i;return{c(){e=Z("option"),r=Rt(n),e.__value=i=t[46],e.value=e.__value},m(s,o){yt(s,e,o),V(e,r)},p(s,o){o[0]&512&&n!==(n=s[46]+"")&&Bt(r,n),o[0]&512&&i!==(i=s[46])&&(e.__value=i,e.value=e.__value)},d(s){s&&gt(e)}}}function mr(t){let e,n,r,i,s,o=t[1],l=[];for(let u=0;u<o.length;u+=1)l[u]=_r(hr(t,o,u));return{c(){e=Z("label"),e.textContent="\u2728 Highlight Values:",n=ct(),r=Z("select");for(let u=0;u<l.length;u+=1)l[u].c();P(e,"for","value-select"),P(e,"class","svelte-bkm9dt"),P(r,"id","value-select"),r.multiple=!0,P(r,"size","5"),P(r,"class","multi-select svelte-bkm9dt")},m(u,a){yt(u,e,a),yt(u,n,a),yt(u,r,a);for(let f=0;f<l.length;f+=1)l[f].m(r,null);i||(s=pt(r,"change",t[16]),i=!0)},p(u,a){if(a[0]&2){o=u[1];let f;for(f=0;f<o.length;f+=1){const p=hr(u,o,f);l[f]?l[f].p(p,a):(l[f]=_r(p),l[f].c(),l[f].m(r,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(u){u&&gt(e),u&&gt(n),u&&gt(r),vr(l,u),i=!1,s()}}}function _r(t){let e,n=t[43]+"",r,i;return{c(){e=Z("option"),r=Rt(n),e.__value=i=t[43],e.value=e.__value},m(s,o){yt(s,e,o),V(e,r)},p(s,o){o[0]&2&&n!==(n=s[43]+"")&&Bt(r,n),o[0]&2&&i!==(i=s[43])&&(e.__value=i,e.value=e.__value)},d(s){s&&gt(e)}}}function Yl(t){let e;return{c(){e=Rt("\u25B6")},m(n,r){yt(n,e,r)},d(n){n&&gt(e)}}}function Bl(t){let e;return{c(){e=Rt("\u275A\u275A")},m(n,r){yt(n,e,r)},d(n){n&&gt(e)}}}function Ul(t){let e;return{c(){e=Z("p"),e.textContent="Waiting for data"},m(n,r){yt(n,e,r)},p:Nt,i:Nt,o:Nt,d(n){n&&gt(e)}}}function Wl(t){let e,n;return e=new Vl({props:{data:t[11],domainColumn:t[0],selectedValues:t[2],opacity:t[10],searchQuery:t[13],showAnnotations:t[14],highlightedData:t[8],startDate:t[3],endDate:t[4]}}),{c(){_n(e.$$.fragment)},m(r,i){qe(e,r,i),n=!0},p(r,i){const s={};i[0]&2048&&(s.data=r[11]),i[0]&1&&(s.domainColumn=r[0]),i[0]&4&&(s.selectedValues=r[2]),i[0]&1024&&(s.opacity=r[10]),i[0]&8192&&(s.searchQuery=r[13]),i[0]&16384&&(s.showAnnotations=r[14]),i[0]&256&&(s.highlightedData=r[8]),i[0]&8&&(s.startDate=r[3]),i[0]&16&&(s.endDate=r[4]),e.$set(s)},i(r){n||(Vt(e.$$.fragment,r),n=!0)},o(r){Qt(e.$$.fragment,r),n=!1},d(r){He(e,r)}}}function Kl(t){let e,n,r,i,s,o,l,u,a,f,p,_,v,S,F,C,A,it,H,U,et,G,X,c,h,y,k,m,O,d,M,g,b,E,x,N,T=Ht(t[3])+"",L,z,Y,tt=Ht(t[4])+"",ot,I,D,R,j,w,W,B,nt,K,q,at,$,J,Q,ut,dt,vt,ft,lt=t[9].length&&pr(t),rt=t[1].length&&mr(t);function mt(st){t[28](st)}function wt(st){t[29](st)}let _t={min:0,max:t[5].length-1};t[6]!==void 0&&(_t.startValue=t[6]),t[7]!==void 0&&(_t.endValue=t[7]),M=new Hl({props:_t}),Ft.push(()=>zn(M,"startValue",mt)),Ft.push(()=>zn(M,"endValue",wt)),M.$on("startChange",t[30]),M.$on("endChange",t[31]);function kt(st,xt){return st[12]?Bl:Yl}let bt=kt(t),ht=bt(t);const At=[Wl,Ul],Mt=[];function Dn(st,xt){return st[11].length?0:1}return Q=Dn(t),ut=Mt[Q]=At[Q](t),{c(){e=Z("div"),n=Z("div"),n.innerHTML=`<h1 class="title svelte-bkm9dt">Semantic Map [DEMO]</h1> 
    <p class="subtitle">Each dot represents an article. When the dots are closer together, the articles are similar in meaning.</p>`,r=ct(),i=Z("div"),s=Z("div"),o=Z("div"),o.innerHTML=`<details close=""><summary class="svelte-bkm9dt">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-bkm9dt"><p class="svelte-bkm9dt">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-bkm9dt">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-bkm9dt"><li class="svelte-bkm9dt">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-bkm9dt">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-bkm9dt">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,l=ct(),u=Z("label"),u.textContent="\u{1F4C1} Upload CSV:",a=ct(),f=Z("input"),p=ct(),_=Z("label"),_.textContent="\u{1F50D} Search Text (supports regex):",v=ct(),S=Z("input"),F=ct(),lt&&lt.c(),C=ct(),rt&&rt.c(),A=ct(),it=Z("label"),it.textContent="\u{1F4A1} Adjust Opacity:",H=ct(),U=Z("input"),et=ct(),G=Z("div"),X=Z("label"),X.textContent="\u{1F4C5} Date Range:",c=ct(),h=Z("input"),k=ct(),m=Z("input"),d=ct(),_n(M.$$.fragment),E=ct(),x=Z("div"),N=Z("span"),L=Rt(T),z=ct(),Y=Z("span"),ot=Rt(tt),I=ct(),D=Z("div"),R=Z("button"),R.textContent="-1W",j=ct(),w=Z("button"),w.textContent="-1D",W=ct(),B=Z("button"),ht.c(),nt=ct(),K=Z("button"),K.textContent="+1D",q=ct(),at=Z("button"),at.textContent="+1W",$=ct(),J=Z("div"),ut.c(),P(n,"class","title-section svelte-bkm9dt"),P(o,"class","nerd-box svelte-bkm9dt"),P(u,"for","file-upload"),P(u,"class","svelte-bkm9dt"),P(f,"id","file-upload"),P(f,"type","file"),P(f,"accept",".csv"),P(f,"class","svelte-bkm9dt"),P(_,"for","search-input"),P(_,"class","svelte-bkm9dt"),P(S,"id","search-input"),P(S,"type","text"),P(S,"placeholder","Search or regex pattern..."),P(S,"class","svelte-bkm9dt"),P(it,"for","opacity-slider"),P(it,"class","svelte-bkm9dt"),P(U,"id","opacity-slider"),P(U,"type","range"),P(U,"min","0.01"),P(U,"max","1"),P(U,"step","0.1"),P(U,"class","svelte-bkm9dt"),P(X,"for","start-date"),P(X,"class","svelte-bkm9dt"),P(h,"id","start-date"),P(h,"type","date"),h.value=y=Ht(t[3]),P(h,"class","svelte-bkm9dt"),P(m,"id","end-date"),P(m,"type","date"),m.value=O=Ht(t[4]),P(m,"class","svelte-bkm9dt"),P(x,"class","date-range-labels svelte-bkm9dt"),P(R,"class","svelte-bkm9dt"),P(w,"class","svelte-bkm9dt"),P(B,"class","play-button svelte-bkm9dt"),P(K,"class","svelte-bkm9dt"),P(at,"class","svelte-bkm9dt"),P(D,"class","date-navigation svelte-bkm9dt"),P(G,"class","date-controls svelte-bkm9dt"),P(s,"class","filter-panel svelte-bkm9dt"),P(J,"class","scatterplot-container svelte-bkm9dt"),P(i,"class","content svelte-bkm9dt"),P(e,"class","container svelte-bkm9dt")},m(st,xt){yt(st,e,xt),V(e,n),V(e,r),V(e,i),V(i,s),V(s,o),V(s,l),V(s,u),V(s,a),V(s,f),V(s,p),V(s,_),V(s,v),V(s,S),V(s,F),lt&&lt.m(s,null),V(s,C),rt&&rt.m(s,null),V(s,A),V(s,it),V(s,H),V(s,U),Rn(U,t[10]),V(s,et),V(s,G),V(G,X),V(G,c),V(G,h),V(G,k),V(G,m),V(G,d),qe(M,G,null),V(G,E),V(G,x),V(x,N),V(N,L),V(x,z),V(x,Y),V(Y,ot),V(G,I),V(G,D),V(D,R),V(D,j),V(D,w),V(D,W),V(D,B),ht.m(B,null),V(D,nt),V(D,K),V(D,q),V(D,at),V(i,$),V(i,J),Mt[Q].m(J,null),dt=!0,vt||(ft=[pt(f,"change",t[18]),pt(S,"input",t[21]),pt(U,"change",t[25]),pt(U,"input",t[25]),pt(U,"input",t[22]),pt(h,"change",t[26]),pt(m,"change",t[27]),pt(R,"click",t[32]),pt(w,"click",t[33]),pt(B,"click",t[20]),pt(K,"click",t[34]),pt(at,"click",t[35])],vt=!0)},p(st,xt){st[9].length?lt?lt.p(st,xt):(lt=pr(st),lt.c(),lt.m(s,C)):lt&&(lt.d(1),lt=null),st[1].length?rt?rt.p(st,xt):(rt=mr(st),rt.c(),rt.m(s,A)):rt&&(rt.d(1),rt=null),xt[0]&1024&&Rn(U,st[10]),(!dt||xt[0]&8&&y!==(y=Ht(st[3])))&&(h.value=y),(!dt||xt[0]&16&&O!==(O=Ht(st[4])))&&(m.value=O);const ge={};xt[0]&32&&(ge.max=st[5].length-1),!g&&xt[0]&64&&(g=!0,ge.startValue=st[6],In(()=>g=!1)),!b&&xt[0]&128&&(b=!0,ge.endValue=st[7],In(()=>b=!1)),M.$set(ge),(!dt||xt[0]&8)&&T!==(T=Ht(st[3])+"")&&Bt(L,T),(!dt||xt[0]&16)&&tt!==(tt=Ht(st[4])+"")&&Bt(ot,tt),bt!==(bt=kt(st))&&(ht.d(1),ht=bt(st),ht&&(ht.c(),ht.m(B,null)));let Qe=Q;Q=Dn(st),Q===Qe?Mt[Q].p(st,xt):(kr(),Qt(Mt[Qe],1,1,()=>{Mt[Qe]=null}),Mr(),ut=Mt[Q],ut?ut.p(st,xt):(ut=Mt[Q]=At[Q](st),ut.c()),Vt(ut,1),ut.m(J,null))},i(st){dt||(Vt(M.$$.fragment,st),Vt(ut),dt=!0)},o(st){Qt(M.$$.fragment,st),Qt(ut),dt=!1},d(st){st&&gt(e),lt&&lt.d(),rt&&rt.d(),He(M),ht.d(),Mt[Q].d(),vt=!1,qt(ft)}}}function Ht(t){return t?t.toISOString().split("T")[0]:""}function Ql(t,e,n){let r=[],i=[],s="org",o=[],l=new Set,u=.5,a=null,f=null,p=[],_=[],v=0,S=0,F=!1,C=null,A=[],it="",H=!0;mn(async()=>{const D=await(await fetch("data.csv")).text();return U(D),()=>{C&&clearInterval(C)}});function U(I){const D=gi.parse(I,{header:!0});n(23,r=D.data.filter(R=>R.x&&R.y&&R.date).map((R,j)=>({...R,x:+R.x,y:+R.y,date:new Date(R.date),id:j}))),n(9,i=D.meta.fields||[]),n(5,_=[...new Set(r.map(R=>R.date.getTime()))].sort((R,j)=>R-j).map(R=>new Date(R))),n(3,a=_[0]),n(4,f=_[_.length-1]),n(6,v=0),n(7,S=_.length-1),s&&n(1,o=[...new Set(r.map(R=>R[s]).filter(Boolean))])}function et(I){n(0,s=I.target.value),n(1,o=s?[...new Set(r.map(D=>D[s]).filter(Boolean))]:[]),n(2,l=new Set),n(14,H=!1)}function G(I){const D=[...I.target.selectedOptions].map(j=>j.value);D.length===o.length||D.length===0?(n(2,l=new Set),n(8,A=[])):(n(2,l=new Set(D)),n(8,A=r.filter(j=>l.has(j[s])&&(!a||j.date>=a)&&(!f||j.date<=f)))),n(14,H=!1)}function X(I,D,R=!1){R?(n(3,a=_[I]||_[0]),n(4,f=_[D]||_[_.length-1])):(n(3,a=I),n(4,f=D)),n(14,H=!1)}function c(){if(a){const I=a.getTime();n(6,v=Math.max(0,_.findIndex(D=>D.getTime()>=I)))}else n(6,v=0);if(f){const I=f.getTime(),D=_.findIndex(R=>R.getTime()>=I);n(7,S=D>=0?D:_.length>0?_.length-1:0)}else n(7,S=_.length-1);v>S&&n(6,v=S),S<v&&n(7,S=v)}function h(I,D){if(I.detail!==void 0)D==="start"?(n(6,v=I.detail),v>S&&n(6,v=S)):(n(7,S=I.detail),S<v&&n(7,S=v)),X(v,S,!0);else{const R=I.target.value?new Date(I.target.value):null;D==="start"?X(R,f):X(a,R),c()}}function y(I){const D=I.target.files[0];if(D){const R=new FileReader;n(14,H=!1),R.onload=j=>U(j.target.result),R.readAsText(D)}}function k(I){const D=S-v;let R=v+I,j=S+I;R<0&&(R=0,j=D),j>=_.length&&(j=_.length-1,R=Math.max(0,j-D)),n(6,v=R),n(7,S=j),X(v,S,!0)}function m(){F?(clearInterval(C),n(12,F=!1)):(n(12,F=!0),n(14,H=!1),C=setInterval(()=>{if(S>=_.length-1){clearInterval(C),n(12,F=!1);return}k(1)},500))}function O(I){n(13,it=I.target.value),n(14,H=!1)}function d(){n(14,H=!1)}function M(){s=ai(this),n(0,s),n(9,i)}function g(){u=si(this.value),n(10,u)}const b=I=>h(I,"start"),E=I=>h(I,"end");function x(I){v=I,n(6,v)}function N(I){S=I,n(7,S)}const T=I=>h(I,"start"),L=I=>h(I,"end"),z=()=>k(-7),Y=()=>k(-1),tt=()=>k(1),ot=()=>k(7);return t.$$.update=()=>{t.$$.dirty[0]&256&&new Set(A.map(I=>I.id)),t.$$.dirty[0]&8388639&&n(11,p=r.map(I=>({...I,isHighlighted:l.size>0&&l.size<o.length&&l.has(I[s])&&(!a||I.date>=a)&&(!f||I.date<=f)}))),t.$$.dirty[0]&96&&_.length>1&&v/(_.length-1)*100,t.$$.dirty[0]&160&&_.length>1&&S/(_.length-1)*100},[s,o,l,a,f,_,v,S,A,i,u,p,F,it,H,et,G,h,y,k,m,O,d,r,M,g,b,E,x,N,T,L,z,Y,tt,ot]}class Gl extends Be{constructor(e){super(),Ye(this,e,Ql,Kl,Xe,{},null,[-1,-1])}}new Gl({target:document.getElementById("app")});
